(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["edits"],{"04c0":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.submittedMutation?a("div",[a("div",{staticClass:"ui positive message"},[a("h4",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Content/Library/Paragraph"}},[t._v(" Your edit was successfully submitted. ")])],1)]),a("edit-card",{attrs:{obj:t.submittedMutation,"current-state":t.currentState}}),a("button",{staticClass:"ui button",on:{click:function(e){e.preventDefault(),t.submittedMutation=null}}},[a("translate",{attrs:{"translate-context":"Content/Library/Button.Label"}},[t._v(" Submit another edit ")])],1)],1):a("div",[a("edit-list",{attrs:{filters:t.editListFilters,url:t.mutationsUrl,obj:t.object,"current-state":t.currentState}},[a("div",{attrs:{slot:"title"},slot:"title"},[t.showPendingReview?[a("translate",{attrs:{"translate-context":"Content/Library/Paragraph"}},[t._v(" Recent edits awaiting review ")]),a("button",{staticClass:"ui tiny basic right floated button",on:{click:function(e){e.preventDefault(),t.showPendingReview=!1}}},[a("translate",{attrs:{"translate-context":"Content/Library/Button.Label"}},[t._v(" Show all edits ")])],1)]:[a("translate",{attrs:{"translate-context":"Content/Library/Paragraph"}},[t._v(" Recent edits ")]),a("button",{staticClass:"ui tiny basic right floated button",on:{click:function(e){e.preventDefault(),t.showPendingReview=!0}}},[a("translate",{attrs:{"translate-context":"Content/Library/Button.Label"}},[t._v(" Restrict to unreviewed edits ")])],1)]],2),a("empty-state",{attrs:{slot:"empty-state"},slot:"empty-state"},[a("translate",{attrs:{"translate-context":"Content/Library/Paragraph"}},[t._v(" Suggest a change using the form below. ")])],1)],1),a("form",{staticClass:"ui form",on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("div",{staticClass:"ui hidden divider"}),t.errors.length>0?a("div",{staticClass:"ui negative message",attrs:{role:"alert"}},[a("h4",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Content/Library/Error message.Title"}},[t._v(" Error while submitting edit ")])],1),a("ul",{staticClass:"list"},t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),t.canEdit?t._e():a("div",{staticClass:"ui message"},[a("translate",{attrs:{"translate-context":"Content/Library/Paragraph"}},[t._v(" You don't have the permission to edit this object, but you can suggest changes. Once submitted, suggestions will be reviewed before approval. ")])],1),t._l(t.config.fields,(function(e){return t.values?a("div",{key:e.id,staticClass:"ui field"},["text"===e.type?[a("label",{attrs:{for:e.id}},[t._v(t._s(e.label))]),"checkbox"===(e.inputType||"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.values[e.id],expression:"values[fieldConfig.id]"}],attrs:{id:e.id,required:e.required,name:e.id,type:"checkbox"},domProps:{checked:Array.isArray(t.values[e.id])?t._i(t.values[e.id],null)>-1:t.values[e.id]},on:{change:function(a){var i=t.values[e.id],s=a.target,n=!!s.checked;if(Array.isArray(i)){var r=null,o=t._i(i,r);s.checked?o<0&&t.$set(t.values,e.id,i.concat([r])):o>-1&&t.$set(t.values,e.id,i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.values,e.id,n)}}}):"radio"===(e.inputType||"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.values[e.id],expression:"values[fieldConfig.id]"}],attrs:{id:e.id,required:e.required,name:e.id,type:"radio"},domProps:{checked:t._q(t.values[e.id],null)},on:{change:function(a){return t.$set(t.values,e.id,null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.values[e.id],expression:"values[fieldConfig.id]"}],attrs:{id:e.id,required:e.required,name:e.id,type:e.inputType||"text"},domProps:{value:t.values[e.id]},on:{input:function(a){a.target.composing||t.$set(t.values,e.id,a.target.value)}}})]:"license"===e.type?[a("label",{attrs:{for:e.id}},[t._v(t._s(e.label))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.values[e.id],expression:"values[fieldConfig.id]"}],ref:"license",refInFor:!0,staticClass:"ui fluid search dropdown",attrs:{id:e.id,required:e.required},on:{change:function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.values,e.id,a.target.multiple?i:i[0])}}},[a("option",{domProps:{value:null}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" N/A ")])],1),t._l(t.licenses,(function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(" "+t._s(e.name)+" ")])}))],2),a("button",{staticClass:"ui tiny basic left floated button",attrs:{form:"noop"},on:{click:function(a){a.preventDefault(),t.values[e.id]=null}}},[a("i",{staticClass:"x icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Button.Label"}},[t._v(" Clear ")])],1)]:"content"===e.type?[a("label",{attrs:{for:e.id}},[t._v(t._s(e.label))]),a("content-form",{attrs:{"field-id":e.id,rows:3},model:{value:t.values[e.id].text,callback:function(a){t.$set(t.values[e.id],"text",a)},expression:"values[fieldConfig.id].text"}})]:"attachment"===e.type?[a("attachment-input",{attrs:{id:e.id,"initial-value":t.initialValues[e.id],required:e.required,name:e.id},on:{delete:function(a){t.values[e.id]=t.initialValues[e.id]}},model:{value:t.values[e.id],callback:function(a){t.$set(t.values,e.id,a)},expression:"values[fieldConfig.id]"}},[a("span",{attrs:{slot:"label"},slot:"label"},[t._v(t._s(e.label))])])]:"tags"===e.type?[a("label",{attrs:{for:e.id}},[t._v(t._s(e.label))]),a("tags-selector",{ref:"tags",refInFor:!0,attrs:{id:e.id,required:"fieldConfig.required"},model:{value:t.values[e.id],callback:function(a){t.$set(t.values,e.id,a)},expression:"values[fieldConfig.id]"}}),a("button",{staticClass:"ui tiny basic left floated button",attrs:{form:"noop"},on:{click:function(a){a.preventDefault(),t.values[e.id]=[]}}},[a("i",{staticClass:"x icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Button.Label"}},[t._v(" Clear ")])],1)]:t._e(),t.fieldValuesChanged(e.id)?a("div",[a("button",{staticClass:"ui tiny basic right floated reset button",attrs:{form:"noop"},on:{click:function(a){return a.preventDefault(),t.resetField(e.id)}}},[a("i",{staticClass:"undo icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Button.Label"}},[t._v(" Reset to initial value ")])],1)]):t._e()],2):t._e()})),a("div",{staticClass:"field"},[a("label",{attrs:{for:"summary"}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Summary (optional)")])],1),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.summary,expression:"summary"}],attrs:{id:"change-summary",name:"change-summary",rows:"3",placeholder:t.labels.summaryPlaceholder},domProps:{value:t.summary},on:{input:function(e){e.target.composing||(t.summary=e.target.value)}}})]),"track"===t.objectType?a("router-link",{staticClass:"ui left floated button",attrs:{to:{name:"library.tracks.detail",params:{id:t.object.id}}}},[a("translate",{attrs:{"translate-context":"*/*/Button.Label/Verb"}},[t._v(" Cancel ")])],1):t._e(),a("button",{class:["ui",{loading:t.isLoading},"right","floated","success","button"],attrs:{type:"submit",disabled:t.isLoading||!t.mutationPayload}},[t.canEdit?a("translate",{key:"1",attrs:{"translate-context":"Content/Library/Button.Label/Verb"}},[t._v(" Submit and apply edit ")]):a("translate",{key:"2",attrs:{"translate-context":"Content/Library/Button.Label/Verb"}},[t._v(" Submit suggestion ")])],1)],2)],1)},s=[],n=(a("4de4"),a("d3b7"),a("ddb0"),a("4160"),a("159b"),a("1157")),r=a.n(n),o=a("ceb5"),l=a("bc3a"),u=a.n(l),c=a("c3b4"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("h3",{staticClass:"ui header"},[t._t("title")],2),t.isLoading||0!==t.objects.length?t._e():t._t("empty-state"),t.nextPage||t.previousPage?a("button",{class:["ui",{disabled:!t.previousPage},"circular","icon","basic","button"],attrs:{disabled:!t.previousPage},on:{click:function(e){return t.fetchData(t.previousPage)}}},[a("i",{class:["ui","angle left","icon"]})]):t._e(),t.nextPage||t.previousPage?a("button",{class:["ui",{disabled:!t.nextPage},"circular","icon","basic","button"],attrs:{disabled:!t.nextPage},on:{click:function(e){return t.fetchData(t.nextPage)}}},[a("i",{class:["ui","angle right","icon"]})]):t._e(),a("div",{staticClass:"ui hidden divider"}),t.isLoading?a("div",{staticClass:"ui inverted active dimmer"},[a("div",{staticClass:"ui loader"})]):t._e(),t._l(t.objects,(function(e){return a("edit-card",{key:e.uuid,attrs:{obj:e,"current-state":t.currentState},on:{updated:function(e){return t.fetchData(t.url)},deleted:function(e){return t.fetchData(t.url)}}})}))],2)},v=[],f=a("5786"),p={components:{EditCard:f["a"]},props:{url:{type:String,required:!0},filters:{type:Object,required:!1,default:function(){return{}}},currentState:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{objects:[],limit:5,isLoading:!1,errors:null,previousPage:null,nextPage:null}},watch:{filters:{handler:function(){this.fetchData(this.url)},deep:!0}},created:function(){this.fetchData(this.url)},methods:{fetchData:function(t){if(t){this.isLoading=!0;var e=this,a=o["a"].clone(this.filters);a.page_size=this.limit,u.a.get(t,{params:a}).then((function(t){e.previousPage=t.data.previous,e.nextPage=t.data.next,e.isLoading=!1,e.objects=t.data.results}),(function(t){e.isLoading=!1,e.errors=t.backendErrors}))}}}},m=p,b=a("2877"),h=Object(b["a"])(m,d,v,!1,null,null,null),g=h.exports,y=a("8352"),C=a("3fb2"),_={components:{EditList:g,EditCard:f["a"],TagsSelector:y["a"],AttachmentInput:c["a"]},props:{objectType:{type:String,required:!0},object:{type:Object,required:!0},licenses:{type:Array,required:!0}},data:function(){return{isLoading:!1,errors:[],values:{},initialValues:{},summary:"",submittedMutation:null,showPendingReview:!0}},computed:{configs:C["a"].getConfigs,config:C["a"].getConfig,currentState:C["a"].getCurrentState,canEdit:C["a"].getCanEdit,labels:function(){return{summaryPlaceholder:this.$pgettext("*/*/Placeholder","A short summary describing your changes.")}},mutationsUrl:function(){return"track"===this.objectType?"tracks/".concat(this.object.id,"/mutations/"):"album"===this.objectType?"albums/".concat(this.object.id,"/mutations/"):"artist"===this.objectType?"artists/".concat(this.object.id,"/mutations/"):null},mutationPayload:function(){var t=this,e=this.config.fields.filter((function(e){return!o["a"].isEqual(t.values[e.id],t.initialValues[e.id])}));if(0===e.length)return null;var a={type:"update",payload:{},summary:this.summary};return e.forEach((function(e){a.payload[e.id]=t.values[e.id]})),a},editListFilters:function(){return this.showPendingReview?{is_approved:"null"}:{}}},watch:{"values.license":function(t){null===t?r()(this.$refs.license).dropdown("clear"):r()(this.$refs.license).dropdown("set selected",t)}},created:function(){this.setValues()},mounted:function(){r()(".ui.dropdown").dropdown({fullTextSearch:!0})},methods:{setValues:function(){var t=this;this.config.fields.forEach((function(e){t.$set(t.values,e.id,o["a"].clone(e.getValue(t.object))),t.$set(t.initialValues,e.id,o["a"].clone(t.values[e.id]))}))},submit:function(){var t=this;t.isLoading=!0,t.errors=[];var e=o["a"].clone(this.mutationPayload||{});return this.canEdit&&(e.is_approved=!0),u.a.post(this.mutationsUrl,e).then((function(e){t.isLoading=!1,t.submittedMutation=e.data}),(function(e){t.errors=e.backendErrors,t.isLoading=!1}))},fieldValuesChanged:function(t){return!o["a"].isEqual(this.values[t],this.initialValues[t])},resetField:function(t){this.values[t]=o["a"].clone(this.initialValues[t])}}},x=_,j=Object(b["a"])(x,i,s,!1,null,null,null);e["a"]=j.exports},"0a8f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"ui vertical stripe segment"},[a("div",{staticClass:"ui text container"},[a("h2",[t.canEdit?a("translate",{key:"1",attrs:{"translate-context":"Content/*/Title"}},[t._v(" Edit this track ")]):a("translate",{key:"2",attrs:{"translate-context":"Content/*/Title"}},[t._v(" Suggest an edit on this track ")])],1),t.object.is_local?t.isLoadingLicenses?a("div",{staticClass:"ui inverted active dimmer"},[a("div",{staticClass:"ui loader"})]):a("edit-form",{attrs:{"object-type":t.objectType,object:t.object,"can-edit":t.canEdit,licenses:t.licenses}}):a("div",{staticClass:"ui message"},[a("translate",{attrs:{"translate-context":"Content/*/Message"}},[t._v(" This object is managed by another server, you cannot edit it. ")])],1)],1)])},s=[],n=a("bc3a"),r=a.n(n),o=a("04c0"),l={components:{EditForm:o["a"]},props:{objectType:{type:String,required:!0},object:{type:Object,required:!0},libraries:{type:Array,default:null}},data:function(){return{id:this.object.id,isLoadingLicenses:!1,licenses:[]}},computed:{canEdit:function(){return!0}},created:function(){this.fetchLicenses()},methods:{fetchLicenses:function(){var t=this;t.isLoadingLicenses=!0,r.a.get("licenses/").then((function(e){t.isLoadingLicenses=!1,t.licenses=e.data.results}))}}},u=l,c=a("2877"),d=Object(c["a"])(u,i,s,!1,null,null,null);e["default"]=d.exports},"18a9":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"ui vertical stripe segment"},[a("div",{staticClass:"ui text container"},[a("h2",[t.canEdit?a("translate",{key:"1",attrs:{"translate-context":"Content/*/Title"}},[t._v(" Edit this album ")]):a("translate",{key:"2",attrs:{"translate-context":"Content/*/Title"}},[t._v(" Suggest an edit on this album ")])],1),t.object.is_local?a("edit-form",{attrs:{"object-type":t.objectType,object:t.object,"can-edit":t.canEdit}}):a("div",{staticClass:"ui message"},[a("translate",{attrs:{"translate-context":"Content/*/Message"}},[t._v(" This object is managed by another server, you cannot edit it. ")])],1)],1)])},s=[],n=a("04c0"),r={components:{EditForm:n["a"]},props:{objectType:{type:String,required:!0},object:{type:Object,required:!0},libraries:{type:Array,required:!0}},data:function(){return{id:this.object.id}},computed:{canEdit:function(){return!0}}},o=r,l=a("2877"),u=Object(l["a"])(o,i,s,!1,null,null,null);e["default"]=u.exports},"25f0":function(t,e,a){"use strict";var i=a("e330"),s=a("5e77").PROPER,n=a("6eeb"),r=a("825a"),o=a("3a9b"),l=a("577e"),u=a("d039"),c=a("ad6d"),d="toString",v=RegExp.prototype,f=v[d],p=i(c),m=u((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),b=s&&f.name!=d;(m||b)&&n(RegExp.prototype,d,(function(){var t=r(this),e=l(t.source),a=t.flags,i=l(void 0===a&&o(v,t)&&!("flags"in v)?p(t):a);return"/"+e+"/"+i}),{unsafe:!0})},"559b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"ui vertical stripe segment"},[a("div",{staticClass:"ui text container"},[a("h2",[t.canEdit?a("translate",{key:"1",attrs:{"translate-context":"Content/*/Title"}},[t._v(" Edit this artist ")]):a("translate",{key:"2",attrs:{"translate-context":"Content/*/Title"}},[t._v(" Suggest an edit on this artist ")])],1),t.object.is_local?a("edit-form",{attrs:{"object-type":t.objectType,object:t.object,"can-edit":t.canEdit}}):a("div",{staticClass:"ui message"},[a("translate",{attrs:{"translate-context":"Content/*/Message"}},[t._v(" This object is managed by another server, you cannot edit it. ")])],1)],1)])},s=[],n=a("04c0"),r={components:{EditForm:n["a"]},props:{objectType:{type:String,required:!0},object:{type:Object,required:!0},libraries:{type:Array,required:!0}},data:function(){return{id:this.object.id}},computed:{canEdit:function(){return!0}}},o=r,l=a("2877"),u=Object(l["a"])(o,i,s,!1,null,null,null);e["default"]=u.exports},8352:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dropdown",staticClass:"ui multiple search selection dropdown"},[a("input",{attrs:{type:"hidden"}}),a("i",{staticClass:"dropdown icon"}),a("input",{staticClass:"search",attrs:{id:"tags-search",type:"text"}}),a("div",{staticClass:"default text"},[a("translate",{attrs:{"translate-context":"*/Dropdown/Placeholder/Verb"}},[t._v(" Search… ")])],1)])},s=[],n=a("5530"),r=a("2909"),o=(a("4e82"),a("ac1f"),a("1276"),a("7db0"),a("d3b7"),a("c975"),a("99af"),a("a434"),a("1157")),l=a.n(o),u=a("ceb5"),c={props:{value:{type:Array,required:!0}},watch:{value:{handler:function(t){var e=l()(this.$refs.dropdown).dropdown("get value").split(",").sort();u["a"].isEqual(Object(r["a"])(t).sort(),e)||l()(this.$refs.dropdown).dropdown("set exactly",t)},deep:!0}},mounted:function(){var t=this;this.$nextTick((function(){t.initDropdown()}))},methods:{initDropdown:function(){var t=this,e=function(){var e=l()(t.$refs.dropdown).dropdown("get value").split(",");return t.$emit("input",e),e},a={keys:{delimiter:32},forceSelection:!1,saveRemoteData:!1,filterRemoteData:!0,preserveHTML:!1,apiSettings:{url:this.$store.getters["instance/absoluteUrl"]("/api/v1/tags/?name__startswith={query}&ordering=length&page_size=5"),beforeXHR:function(e){return t.$store.state.auth.oauth.accessToken&&e.setRequestHeader("Authorization",t.$store.getters["auth/header"]),e},onResponse:function(e){var a=l()(t.$refs.dropdown).dropdown("get query");if(e=Object(n["a"])({results:[]},e),a){var i=e.results.find((function(t){return t.name===a}));i?0!==e.results.indexOf(i)&&(e.results=[i].concat(Object(r["a"])(e.results)),e.results.splice(e.results.indexOf(i)+1,1)):e.results=[{name:a}].concat(Object(r["a"])(e.results))}return e}},fields:{remoteValues:"results",value:"name"},allowAdditions:!0,minCharacters:1,onAdd:e,onRemove:e,onLabelRemove:e,onChange:e};l()(this.$refs.dropdown).dropdown(a),l()(this.$refs.dropdown).dropdown("set exactly",this.value)}}},d=c,v=a("2877"),f=Object(v["a"])(d,i,s,!1,null,null,null);e["a"]=f.exports},"88db":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{class:["ui","vertical","stripe",{loading:t.isLoading},"segment"]},[a("div",{staticClass:"ui text container"},[t.obj?a("edit-card",{attrs:{obj:t.obj,"current-state":t.currentState}}):t._e()],1)])},s=[],n=(a("a9e3"),a("4160"),a("d3b7"),a("159b"),a("bc3a")),r=a.n(n),o=a("3fb2"),l=a("5786"),u={components:{EditCard:l["a"]},props:{object:{type:Object,required:!0},objectType:{type:String,required:!0},editId:{type:Number,required:!0}},data:function(){return{isLoading:!0,obj:null}},computed:{configs:o["a"].getConfigs,config:o["a"].getConfig,currentState:function(){var t=this,e={};return this.config.fields.forEach((function(a){e[a.id]={value:a.getValue(t.object)}})),e}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.isLoading=!0,r.a.get("mutations/".concat(this.editId,"/")).then((function(e){t.obj=e.data,t.isLoading=!1}))}}},c=u,d=a("2877"),v=Object(d["a"])(c,i,s,!1,null,null,null);e["default"]=v.exports},c3b4:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui form"},[t.errors.length>0?a("div",{staticClass:"ui negative message",attrs:{role:"alert"}},[a("h4",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Content/*/Error message.Title"}},[t._v(" Your attachment cannot be saved ")])],1),a("ul",{staticClass:"list"},t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),a("div",{staticClass:"ui field"},[a("span",{attrs:{id:"avatarLabel"}},[t._t("label")],2),a("div",{staticClass:"ui stackable grid row"},[a("div",{staticClass:"three wide column"},[t.value&&t.value===t.initialValue?a("img",{class:["ui",t.imageClass,"image"],attrs:{alt:"",src:t.$store.getters["instance/absoluteUrl"]("api/v1/attachments/"+t.value+"/proxy?next=medium_square_crop")}}):t.attachment?a("img",{class:["ui",t.imageClass,"image"],attrs:{alt:"",src:t.$store.getters["instance/absoluteUrl"]("api/v1/attachments/"+t.attachment.uuid+"/proxy?next=medium_square_crop")}}):a("div",{class:["ui",t.imageClass,"static","large placeholder image"]})]),a("div",{staticClass:"eleven wide column"},[a("div",{staticClass:"file-input"},[a("label",{attrs:{for:t.attachmentId}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Upload New Picture…")])],1),a("input",{ref:"attachment",staticClass:"ui input",attrs:{id:t.attachmentId,type:"file",accept:"image/x-png,image/jpeg"},on:{change:t.submit}})]),a("div",{staticClass:"ui very small hidden divider"}),a("p",[a("translate",{attrs:{"translate-context":"Content/*/Paragraph"}},[t._v(" PNG or JPG. Dimensions should be between 1400x1400px and 3000x3000px. Maximum file size allowed is 5MB. ")])],1),t.value?a("button",{staticClass:"ui basic tiny button",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.remove(t.value)}}},[a("translate",{attrs:{"translate-context":"Content/Radio/Button.Label/Verb"}},[t._v(" Remove ")])],1):t._e(),t.isLoading?a("div",{staticClass:"ui active inverted dimmer"},[a("div",{staticClass:"ui indeterminate text loader"},[a("translate",{attrs:{"translate-context":"Content/*/*/Noun"}},[t._v(" Uploading file… ")])],1)]):t._e()])])])])},s=[],n=(a("d401"),a("d3b7"),a("25f0"),a("bc3a")),r=a.n(n),o={props:{value:{type:String,default:null},imageClass:{type:String,default:"",required:!1}},data:function(){return{attachment:null,isLoading:!1,errors:[],initialValue:this.value,attachmentId:Math.random().toString(36).substring(7)}},watch:{value:function(t){this.attachment&&t===this.initialValue&&this.remove(this.attachment.uuid)}},methods:{submit:function(){var t=this;this.isLoading=!0,this.errors=[];var e=this;this.file=this.$refs.attachment.files[0];var a=new FormData;a.append("file",this.file),r.a.post("attachments/",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){t.isLoading=!1,e.attachment=a.data,e.$emit("input",e.attachment.uuid)}),(function(t){e.isLoading=!1,e.errors=t.backendErrors}))},remove:function(t){var e=this;this.isLoading=!0,this.errors=[];var a=this;r.a.delete("attachments/".concat(t,"/")).then((function(t){e.isLoading=!1,a.attachment=null,a.$emit("delete")}),(function(t){a.isLoading=!1,a.errors=t.backendErrors}))}}},l=o,u=a("2877"),c=Object(u["a"])(l,i,s,!1,null,null,null);e["a"]=c.exports}}]);