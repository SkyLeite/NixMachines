(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["albums~artists~channels~core~favorites~library~playlists~radios"],{"0580":function(t,e){var a=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],r=a.join(","),i="undefined"===typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function s(t,e){e=e||{};var a,s,o,l=[],c=[],u=t.querySelectorAll(r);for(e.includeContainer&&i.call(t,r)&&(u=Array.prototype.slice.apply(u),u.unshift(t)),a=0;a<u.length;a++)s=u[a],n(s)&&(o=d(s),0===o?l.push(s):c.push({documentOrder:a,tabIndex:o,node:s}));var f=c.sort(p).map((function(t){return t.node})).concat(l);return f}function n(t){return!(!l(t)||h(t)||d(t)<0)}function o(t){if(!t)throw new Error("No node provided");return!1!==i.call(t,r)&&n(t)}function l(t){return!(t.disabled||v(t)||y(t))}s.isTabbable=o,s.isFocusable=u;var c=a.concat("iframe").join(",");function u(t){if(!t)throw new Error("No node provided");return!1!==i.call(t,c)&&l(t)}function d(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?f(t)?0:t.tabIndex:e}function p(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex}function f(t){return"true"===t.contentEditable}function m(t){return"INPUT"===t.tagName}function v(t){return m(t)&&"hidden"===t.type}function b(t){return m(t)&&"radio"===t.type}function h(t){return b(t)&&!g(t)}function k(t){for(var e=0;e<t.length;e++)if(t[e].checked)return t[e]}function g(t){if(!t.name)return!0;var e=t.ownerDocument.querySelectorAll('input[type="radio"][name="'+t.name+'"]'),a=k(e);return!a||a===t}function y(t){return null===t.offsetParent||"hidden"===getComputedStyle(t).visibility}t.exports=s},1799:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.maxPage>1?a("div",{staticClass:"ui pagination menu component-pagination",attrs:{role:"navigation","aria-label":t.labels.pagination}},[a("a",{class:[{disabled:t.current-1<1},"item"],attrs:{href:"",disabled:t.current-1<1,role:"button","aria-label":t.labels.previousPage},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.selectPage(t.current-1)}}},[a("i",{staticClass:"angle left icon"})]),t.compact?t._e():t._l(t.pages,(function(e){return a("a",{key:e,class:[{active:e===t.current},{disabled:"skip"===e},"item"],attrs:{href:""},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.selectPage(e)}}},[a("span","skip"!==e?[t._v(t._s(e))]:[t._v("â€¦")])])})),a("a",{class:[{disabled:t.current+1>t.maxPage},"item"],attrs:{href:"",disabled:t.current+1>t.maxPage,role:"button","aria-label":t.labels.nextPage},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.selectPage(t.current+1)}}},[a("i",{staticClass:"angle right icon"})])],2):t._e()},i=[],s=(a("a9e3"),a("99af"),a("4160"),a("d3b7"),a("159b"),a("fb6a"),a("ceb5")),n={props:{current:{type:Number,default:1},paginateBy:{type:Number,default:25},total:{type:Number,required:!0},compact:{type:Boolean,default:!1}},computed:{labels:function(){return{pagination:this.$pgettext("Content/*/Hidden text/Noun","Pagination"),previousPage:this.$pgettext("Content/*/Link","Previous Page"),nextPage:this.$pgettext("Content/*/Link","Next Page")}},pages:function(){var t=2,e=this.current,a=s["a"].range(1,Math.min(this.maxPage,1+t)),r=s["a"].range(Math.max(1,e-t+1),Math.min(this.maxPage,e+t)),i=s["a"].range(this.maxPage,Math.max(1,this.maxPage-t)),n=a.concat(r,i);n=s["a"].uniq(n),n=s["a"].sortBy(n,[function(t){return t}]);var o=[];return n.forEach((function(t){var e=o.slice(-1)[0],a=!0;a="skip"!==e&&(!e||e+1===t),a?o.push(t):"skip"!==t&&(o.push("skip"),o.push(t))})),o},maxPage:function(){return Math.ceil(this.total/this.paginateBy)}},methods:{selectPage:function(t){t>this.maxPage||t<1||this.current!==t&&this.$emit("page-changed",t)}}},o=n,l=a("2877"),c=Object(l["a"])(o,r,i,!1,null,null,null);e["a"]=c.exports},"271e":function(t,e,a){t.exports=a.p+"img/default-cover.89d13c2f.png"},"404d":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.additionalClasses.concat(["ui",{active:t.show},{scrolling:t.scrolling},{"overlay fullscreen":t.fullscreen&&["phone","tablet"].indexOf(t.$store.getters["ui/windowSize"])>-1},"modal"])},[a("i",{staticClass:"close inside icon",attrs:{tabindex:"0"}}),t.show?t._t("default"):t._e()],2)},i=[],s=a("1157"),n=a.n(s),o=a("6c92"),l=a.n(o),c={props:{show:{type:Boolean,required:!0},fullscreen:{type:Boolean,default:!0},scrolling:{type:Boolean,required:!1,default:!1},additionalClasses:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{control:null,focusTrap:null}},watch:{show:{handler:function(t){t?(this.initModal(),this.$emit("show"),this.control.modal("show"),this.focusTrap.activate(),this.focusTrap.unpause(),document.body.classList.add("scrolling")):this.control&&(this.$emit("hide"),this.control.modal("hide"),this.control.remove(),this.focusTrap.deactivate(),this.focusTrap.pause(),document.body.classList.remove("scrolling"))}},$route:function(t,e){this.closeModal()}},mounted:function(){this.focusTrap=l()(this.$el)},beforeDestroy:function(){this.control&&n()(this.$el).modal("hide"),this.focusTrap.deactivate(),n()(this.$el).remove()},methods:{initModal:function(){this.control=n()(this.$el).modal({duration:100,onApprove:function(){this.$emit("approved")}.bind(this),onDeny:function(){this.$emit("deny")}.bind(this),onHidden:function(){this.$emit("update:show",!1)}.bind(this),onVisible:function(){this.focusTrap.activate(),this.focusTrap.unpause()}.bind(this)})},closeModal:function(){this.$emit("update:show",!1)}}},u=c,d=a("2877"),p=Object(d["a"])(u,r,i,!1,null,null,null);e["default"]=p.exports},4389:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.button?a("button",{class:["ui","pink",{inverted:t.isFavorite},{favorited:t.isFavorite},"icon","labeled","button"],on:{click:function(e){return e.stopPropagation(),t.$store.dispatch("favorites/toggle",t.track.id)}}},[a("i",{staticClass:"heart icon"}),t.isFavorite?a("translate",{attrs:{"translate-context":"Content/Track/Button.Message"}},[t._v(" In favorites ")]):a("translate",{attrs:{"translate-context":"Content/Track/*/Verb"}},[t._v(" Add to favorites ")])],1):a("button",{class:["ui","favorite-icon",{pink:t.isFavorite},{favorited:t.isFavorite},"basic","circular","icon",{really:!t.border},"button"],attrs:{"aria-label":t.title,title:t.title},on:{click:function(e){return e.stopPropagation(),t.$store.dispatch("favorites/toggle",t.track.id)}}},[a("i",{class:["heart",{pink:t.isFavorite},"basic","icon"]})])},i=[],s={props:{track:{type:Object,default:function(){return{}}},button:{type:Boolean,default:!1},border:{type:Boolean,default:!1}},computed:{title:function(){return this.isFavorite?this.$pgettext("Content/Track/Icon.Tooltip/Verb","Remove from favorites"):this.$pgettext("Content/Track/*/Verb","Add to favorites")},isFavorite:function(){return this.$store.getters["favorites/isFavorite"](this.track.id)}}},n=s,o=a("2877"),l=Object(o["a"])(n,r,i,!1,null,null,null);e["default"]=l.exports},"53a8":function(t,e){t.exports=r;var a=Object.prototype.hasOwnProperty;function r(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)a.call(r,i)&&(t[i]=r[i])}return t}},"5a65":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.search?a("inline-search-bar",{on:{search:function(e){t.currentPage=1,t.additionalTracks=[],t.fetchData("tracks/")}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}}):t._e(),t._t("header"),t.isLoading||0!==t.allTracks.length?a("div",[a("div",{class:["track-table","ui","unstackable","grid","tablet-and-up"]},[t.isLoading?a("div",{staticClass:"ui inverted active dimmer"},[a("div",{staticClass:"ui loader"})]):t._e(),a("div",{staticClass:"track-table row"},[t.showPosition?a("div",{staticClass:"actions left floated column"},[a("i",{staticClass:"hashtag icon"})]):a("div",{staticClass:"actions left floated column"}),t.showArt?a("div",{staticClass:"image left floated column"}):t._e(),a("div",{staticClass:"content ellipsis left floated column"},[a("b",[t._v(t._s(t.labels.title))])]),t.showAlbum?a("div",{staticClass:"content ellipsisleft floated column"},[a("b",[t._v(t._s(t.labels.album))])]):t._e(),t.showArtist?a("div",{staticClass:"content ellipsis left floated column"},[a("b",[t._v(t._s(t.labels.artist))])]):t._e(),t.$store.state.auth.authenticated?a("div",{staticClass:"meta right floated column"}):t._e(),t.showDuration?a("div",{staticClass:"meta right floated column"},[a("i",{staticClass:"clock outline icon",staticStyle:{padding:"0.5rem"}})]):t._e(),t.displayActions?a("div",{staticClass:"meta right floated column"}):t._e()]),t._l(t.allTracks,(function(e,r){return a("track-row",{key:e.id,attrs:{track:e,index:r,tracks:t.allTracks,"show-album":t.showAlbum,"show-artist":t.showArtist,"show-position":t.showPosition,"show-art":t.showArt,"display-actions":t.displayActions,"show-duration":t.showDuration,"is-podcast":t.isPodcast}})}))],2),t.paginateResults?a("div",{staticClass:"ui center aligned basic segment desktop-and-up"},[a("pagination",{attrs:{total:t.totalTracks,current:t.tracks.length>0?t.page:t.currentPage,"paginate-by":t.paginateBy},on:{"page-changed":t.updatePage}})],1):t._e()]):t._t("empty-state",(function(){return[a("empty-state",{attrs:{refresh:!0},on:{refresh:function(e){return t.fetchData("tracks/")}}})]})),a("div",{class:["track-table","ui","unstackable","grid","tablet-and-below"]},[t.isLoading?a("div",{staticClass:"ui inverted active dimmer"},[a("div",{staticClass:"ui loader"})]):t._e(),t._l(t.allTracks,(function(e,r){return a("track-mobile-row",{key:e.id,attrs:{track:e,index:r,tracks:t.allTracks,"show-position":t.showPosition,"show-art":t.showArt,"show-duration":t.showDuration,"is-artist":t.isArtist,"is-album":t.isAlbum,"is-podcast":t.isPodcast}})})),t.paginateResults&&t.totalTracks>t.paginateBy?a("div",{staticClass:"ui center aligned basic segment tablet-and-below"},[t.paginateResults&&t.totalTracks>t.paginateBy?a("pagination",{attrs:{"paginate-by":t.paginateBy,total:t.totalTracks,current:t.tracks.length>0?t.page:{currentPage:t.currentPage},compact:!0},on:{"page-changed":t.updatePage}}):t._e()],1):t._e()],2)],2)},i=[],s=a("c7eb"),n=a("1da1"),o=(a("a9e3"),a("99af"),a("ceb5")),l=a("bc3a"),c=a.n(l),u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:[{active:t.currentTrack&&t.track.id===t.currentTrack.id},"track-row row"],on:{mouseover:function(e){t.hover=t.track.id},mouseleave:function(e){t.hover=null},dblclick:function(e){return t.activateTrack(t.track,t.index)}}},[r("div",{staticClass:"actions one wide left floated column",attrs:{role:"button"},on:{click:function(e){return e.preventDefault(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.activateTrack(t.track,t.index)}}},[!t.$store.state.player.isLoadingAudio&&t.currentTrack&&t.isPlaying&&t.track.id===t.currentTrack.id&&t.track.id!=t.hover?r("play-indicator"):t.currentTrack&&!t.isPlaying&&t.track.id===t.currentTrack.id&&!t.track.id==t.hover?r("button",{staticClass:"ui really tiny basic icon button play-button paused"},[r("i",{staticClass:"pause icon"})]):t.currentTrack&&t.isPlaying&&t.track.id===t.currentTrack.id&&t.track.id==t.hover?r("button",{staticClass:"ui really tiny basic icon button play-button"},[r("i",{staticClass:"pause icon"})]):t.track.id==t.hover?r("button",{staticClass:"ui really tiny basic icon button play-button"},[r("i",{staticClass:"play icon"})]):t.showPosition?r("span",{staticClass:"track-position"},[t._v(" "+t._s(t.prettyPosition(t.track.position))+" ")]):t._e()],1),t.showArt?r("div",{staticClass:"image left floated column",attrs:{role:"button"},on:{click:function(e){return e.preventDefault(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.activateTrack(t.track,t.index)}}},[t.track.album&&t.track.album.cover&&t.track.album.cover.urls.original?r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.getters["instance/absoluteUrl"](t.track.album.cover.urls.medium_square_crop),expression:"\n        $store.getters['instance/absoluteUrl'](\n          track.album.cover.urls.medium_square_crop\n        )\n      "}],staticClass:"ui artist-track mini image",attrs:{alt:""}}):t.track.cover&&t.track.cover.urls.original||t.track.artist&&t.track.artist.cover&&t.track.album.cover.urls.original?r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.getters["instance/absoluteUrl"](t.track.cover.urls.medium_square_crop),expression:"\n        $store.getters['instance/absoluteUrl'](\n          track.cover.urls.medium_square_crop\n        )\n      "}],staticClass:"ui artist-track mini image",attrs:{alt:""}}):r("img",{staticClass:"ui artist-track mini image",attrs:{alt:"",src:a("271e")}})]):t._e(),r("div",{staticClass:"content ellipsis left floated column",attrs:{tabindex:"0"}},[r("a",{on:{click:function(e){return t.activateTrack(t.track,t.index)}}},[t._v(" "+t._s(t.track.title)+" ")])]),t.showAlbum?r("div",{staticClass:"content ellipsis left floated column"},[r("router-link",{attrs:{to:{name:"library.albums.detail",params:{id:t.track.album.id}}}},[t._v(" "+t._s(t.track.album.title)+" ")])],1):t._e(),t.showArtist?r("div",{staticClass:"content ellipsis left floated column"},[r("router-link",{staticClass:"artist link",attrs:{to:{name:"library.artists.detail",params:{id:t.track.artist.id}}}},[t._v(" "+t._s(t.track.artist.name)+" ")])],1):t._e(),t.$store.state.auth.authenticated?r("div",{staticClass:"meta right floated column"},[r("track-favorite-icon",{staticClass:"tiny",attrs:{border:!1,track:t.track}})],1):t._e(),t.showDuration?r("div",{staticClass:"meta right floated column"},[t.track.uploads[0]&&t.track.uploads[0].duration?r("human-duration",{attrs:{duration:t.track.uploads[0].duration}}):t._e()],1):t._e(),t.displayActions?r("div",{staticClass:"meta right floated column"},[r("play-button",{staticClass:"play-button basic icon",attrs:{id:"playmenu","dropdown-only":!0,"is-playable":t.track.is_playable,"dropdown-icon-classes":["ellipsis","vertical","large really discrete"],track:t.track}})],1):t._e()])},d=[],p=a("5530"),f=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"audio-bars"}},[a("div",{staticClass:"audio-bar"}),a("div",{staticClass:"audio-bar"}),a("div",{staticClass:"audio-bar"}),a("div",{staticClass:"audio-bar"})])}],v=a("2877"),b={},h=Object(v["a"])(b,f,m,!1,null,null,null),k=h.exports,g=a("2f62"),y=a("4389"),w=a("a3e6"),_=a("5866"),C={components:{PlayIndicator:k,TrackFavoriteIcon:y["default"],PlayButton:w["a"]},mixins:[_["a"]],props:{tracks:{type:Array,required:!0},showAlbum:{type:Boolean,required:!1,default:!0},showArtist:{type:Boolean,required:!1,default:!0},showPosition:{type:Boolean,required:!1,default:!1},showArt:{type:Boolean,required:!1,default:!0},search:{type:Boolean,required:!1,default:!1},filters:{type:Object,required:!1,default:null},nextUrl:{type:String,required:!1,default:null},displayActions:{type:Boolean,required:!1,default:!0},showDuration:{type:Boolean,required:!1,default:!0},index:{type:Number,required:!0},track:{type:Object,required:!0}},data:function(){return{hover:null}},computed:Object(p["a"])(Object(p["a"])({},Object(g["c"])({currentTrack:"queue/currentTrack"})),{},{isPlaying:function(){return this.$store.state.player.playing}}),methods:Object(p["a"])({prettyPosition:function(t,e){var a=String(t);while(a.length<(e||2))a="0"+a;return a}},Object(g["b"])({resumePlayback:"player/resumePlayback",pausePlayback:"player/pausePlayback"}))},x=C,T=Object(v["a"])(x,u,d,!1,null,null,null),P=T.exports,$=a("c571"),q=a("1799"),B=a("98fc"),D={components:{TrackRow:P,TrackMobileRow:$["a"],Pagination:q["a"]},props:{tracks:{type:Array,default:function(){return[]}},showAlbum:{type:Boolean,required:!1,default:!0},showArtist:{type:Boolean,required:!1,default:!0},showPosition:{type:Boolean,required:!1,default:!1},showArt:{type:Boolean,required:!1,default:!0},search:{type:Boolean,required:!1,default:!1},filters:{type:Object,required:!1,default:function(){return{}}},nextUrl:{type:String,required:!1,default:null},displayActions:{type:Boolean,required:!1,default:!0},showDuration:{type:Boolean,required:!1,default:!0},isArtist:{type:Boolean,required:!1,default:!1},isAlbum:{type:Boolean,required:!1,default:!1},isPodcast:{type:Boolean,required:!1,default:!1},paginateResults:{type:Boolean,required:!1,default:!0},total:{type:Number,required:!1,default:0},page:{type:Number,required:!1,default:1},paginateBy:{type:Number,required:!1,default:25}},data:function(){return{fetchDataUrl:this.nextUrl,isLoading:!1,additionalTracks:[],query:"",totalTracks:this.total,currentPage:this.page}},computed:{allTracks:function(){var t=(this.tracks||[]).concat(this.additionalTracks);return Object(B["d"])(t,"id")},labels:function(){return{title:this.$pgettext("*/*/*/Noun","Title"),album:this.$pgettext("*/*/*/Noun","Album"),artist:this.$pgettext("*/*/*/Noun","Artist")}}},created:function(){0===this.tracks.length&&this.fetchData("tracks/")},methods:{fetchData:function(t){var e=this;return Object(n["a"])(Object(s["a"])().mark((function a(){var r,i,n;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return");case 2:return e.isLoading=!0,r=e,i=o["a"].clone(e.filters),i.page_size=e.paginateBy,i.page=e.currentPage,i.include_channels=!0,i.q=e.query,a.next=11,c.a.get(t,{params:i});case 11:n=a.sent;try{r.fetchDataUrl=n.data.next,r.additionalTracks=n.data.results,r.totalTracks=n.data.count,r.$emit("fetched",n.data),r.isLoading=!1}catch(s){r.isLoading=!1,r.errors=s.backendErrors}case 13:case"end":return a.stop()}}),a)})))()},updatePage:function(t){0===this.tracks.length?(this.currentPage=t,this.fetchData("tracks/")):this.$emit("page-changed",t)}}},A=D,N=Object(v["a"])(A,r,i,!1,null,null,null);e["a"]=N.exports},"6c92":function(t,e,a){var r,i=a("0580"),s=a("53a8"),n=function(){var t=[];return{activateTrap:function(e){if(t.length>0){var a=t[t.length-1];a!==e&&a.pause()}var r=t.indexOf(e);-1===r||t.splice(r,1),t.push(e)},deactivateTrap:function(e){var a=t.indexOf(e);-1!==a&&t.splice(a,1),t.length>0&&t[t.length-1].unpause()}}}();function o(t,e){var a=document,o="string"===typeof t?a.querySelector(t):t,p=s({returnFocusOnDeactivate:!0,escapeDeactivates:!0},e),f={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},m={activate:v,deactivate:b,pause:h,unpause:k};return m;function v(t){if(!f.active){B(),f.active=!0,f.paused=!1,f.nodeFocusedBeforeActivation=a.activeElement;var e=t&&t.onActivate?t.onActivate:p.onActivate;return e&&e(),g(),m}}function b(t){if(f.active){clearTimeout(r),y(),f.active=!1,f.paused=!1,n.deactivateTrap(m);var e=t&&void 0!==t.onDeactivate?t.onDeactivate:p.onDeactivate;e&&e();var a=t&&void 0!==t.returnFocus?t.returnFocus:p.returnFocusOnDeactivate;return a&&d((function(){D(C(f.nodeFocusedBeforeActivation))})),m}}function h(){!f.paused&&f.active&&(f.paused=!0,y())}function k(){f.paused&&f.active&&(f.paused=!1,B(),g())}function g(){if(f.active)return n.activateTrap(m),r=d((function(){D(_())})),a.addEventListener("focusin",T,!0),a.addEventListener("mousedown",x,{capture:!0,passive:!1}),a.addEventListener("touchstart",x,{capture:!0,passive:!1}),a.addEventListener("click",q,{capture:!0,passive:!1}),a.addEventListener("keydown",P,{capture:!0,passive:!1}),m}function y(){if(f.active)return a.removeEventListener("focusin",T,!0),a.removeEventListener("mousedown",x,!0),a.removeEventListener("touchstart",x,!0),a.removeEventListener("click",q,!0),a.removeEventListener("keydown",P,!0),m}function w(t){var e=p[t],r=e;if(!e)return null;if("string"===typeof e&&(r=a.querySelector(e),!r))throw new Error("`"+t+"` refers to no known node");if("function"===typeof e&&(r=e(),!r))throw new Error("`"+t+"` did not return a node");return r}function _(){var t;if(t=null!==w("initialFocus")?w("initialFocus"):o.contains(a.activeElement)?a.activeElement:f.firstTabbableNode||w("fallbackFocus"),!t)throw new Error("Your focus-trap needs to have at least one focusable element");return t}function C(t){var e=w("setReturnFocus");return e||t}function x(t){o.contains(t.target)||(p.clickOutsideDeactivates?b({returnFocus:!i.isFocusable(t.target)}):p.allowOutsideClick&&p.allowOutsideClick(t)||t.preventDefault())}function T(t){o.contains(t.target)||t.target instanceof Document||(t.stopImmediatePropagation(),D(f.mostRecentlyFocusedNode||_()))}function P(t){if(!1!==p.escapeDeactivates&&c(t))return t.preventDefault(),void b();u(t)&&$(t)}function $(t){return B(),t.shiftKey&&t.target===f.firstTabbableNode?(t.preventDefault(),void D(f.lastTabbableNode)):t.shiftKey||t.target!==f.lastTabbableNode?void 0:(t.preventDefault(),void D(f.firstTabbableNode))}function q(t){p.clickOutsideDeactivates||o.contains(t.target)||p.allowOutsideClick&&p.allowOutsideClick(t)||(t.preventDefault(),t.stopImmediatePropagation())}function B(){var t=i(o);f.firstTabbableNode=t[0]||_(),f.lastTabbableNode=t[t.length-1]||_()}function D(t){t!==a.activeElement&&(t&&t.focus?(t.focus(),f.mostRecentlyFocusedNode=t,l(t)&&t.select()):D(_()))}}function l(t){return t.tagName&&"input"===t.tagName.toLowerCase()&&"function"===typeof t.select}function c(t){return"Escape"===t.key||"Esc"===t.key||27===t.keyCode}function u(t){return"Tab"===t.key||9===t.keyCode}function d(t){return setTimeout(t,0)}t.exports=o},c571:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:[{active:t.currentTrack&&t.track.id===t.currentTrack.id},"track-row row mobile"]},[t.showArt?r("div",{staticClass:"image left floated column",on:{click:function(e){return e.preventDefault(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.activateTrack(t.track,t.index)}}},[t.track.album&&t.track.album.cover&&t.track.album.cover.urls.original?r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.getters["instance/absoluteUrl"](t.track.album.cover.urls.medium_square_crop),expression:"\n        $store.getters['instance/absoluteUrl'](\n          track.album.cover.urls.medium_square_crop\n        )\n      "}],staticClass:"ui artist-track mini image",attrs:{alt:""}}):t.track.cover?r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.getters["instance/absoluteUrl"](t.track.cover.urls.medium_square_crop),expression:"\n        $store.getters['instance/absoluteUrl'](\n          track.cover.urls.medium_square_crop\n        )\n      "}],staticClass:"ui artist-track mini image",attrs:{alt:""}}):t.track.artist.cover?r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.getters["instance/absoluteUrl"](t.track.artist.cover.urls.medium_square_crop),expression:"\n        $store.getters['instance/absoluteUrl'](\n          track.artist.cover.urls.medium_square_crop\n        )\n      "}],staticClass:"ui artist-track mini image",attrs:{alt:""}}):r("img",{staticClass:"ui artist-track mini image",attrs:{alt:"",src:a("271e")}})]):t._e(),r("div",{staticClass:"content ellipsis left floated column",attrs:{tabindex:"0",role:"button"},on:{click:function(e){return t.activateTrack(t.track,t.index)}}},[r("p",{class:["track-title","mobile",{"play-indicator":t.isPlaying&&t.currentTrack&&t.track.id===t.currentTrack.id}]},[t._v(" "+t._s(t.track.title)+" ")]),r("p",{staticClass:"track-meta mobile"},[t._v(" "+t._s(t.track.artist.name)+" "),r("span",[t._v("Â·")]),t.track.uploads[0]&&t.track.uploads[0].duration?r("human-duration",{attrs:{duration:t.track.uploads[0].duration}}):t._e()],1)]),t.$store.state.auth.authenticated?r("div",{class:["meta","right","floated","column","mobile",{"with-art":t.showArt}],attrs:{role:"button"}},[r("track-favorite-icon",{staticClass:"tiny",attrs:{border:!1,track:t.track}})],1):t._e(),r("div",{class:["modal-button","right","floated","column","mobile",{"with-art":t.showArt}],attrs:{role:"button","aria-label":t.actionsButtonLabel},on:{click:function(e){if(e.preventDefault(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)return null;t.showTrackModal=!t.showTrackModal}}},[r("i",{staticClass:"ellipsis large vertical icon"})]),r("track-modal",{attrs:{show:t.showTrackModal,track:t.track,index:t.index,"is-artist":t.isArtist,"is-album":t.isAlbum},on:{"update:show":function(e){t.showTrackModal=e}}})],1)},i=[],s=a("5530"),n=(a("a9e3"),a("2f62")),o=a("4389"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("modal",{ref:"modal",attrs:{show:t.show,scrolling:!0,"additional-classes":["scrolling-track-options"]},on:{"update:show":function(e){return t.$emit("update:show",e)}}},[r("div",{staticClass:"header"},[r("div",{staticClass:"ui large centered rounded image"},[t.track.album&&t.track.album.cover&&t.track.album.cover.urls.original?r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.getters["instance/absoluteUrl"](t.track.album.cover.urls.medium_square_crop),expression:"\n          $store.getters['instance/absoluteUrl'](\n            track.album.cover.urls.medium_square_crop\n          )\n        "}],staticClass:"ui centered image",attrs:{alt:""}}):t.track.cover?r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.getters["instance/absoluteUrl"](t.track.cover.urls.medium_square_crop),expression:"\n          $store.getters['instance/absoluteUrl'](\n            track.cover.urls.medium_square_crop\n          )\n        "}],staticClass:"ui centered image",attrs:{alt:""}}):t.track.artist.cover?r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.getters["instance/absoluteUrl"](t.track.artist.cover.urls.medium_square_crop),expression:"\n          $store.getters['instance/absoluteUrl'](\n            track.artist.cover.urls.medium_square_crop\n          )\n        "}],staticClass:"ui centered image",attrs:{alt:""}}):r("img",{staticClass:"ui centered image",attrs:{alt:"",src:a("271e")}})]),r("h3",{staticClass:"track-modal-title"},[t._v(" "+t._s(t.track.title)+" ")]),r("h4",{staticClass:"track-modal-subtitle"},[t._v(" "+t._s(t.track.artist.name)+" ")])]),r("div",{staticClass:"ui hidden divider"}),r("div",{staticClass:"content"},[r("div",{staticClass:"ui one column unstackable grid"},[t.$store.state.auth.authenticated&&"podcast"!==t.track.artist.content_category?r("div",{staticClass:"row"},[r("div",{staticClass:"column",attrs:{tabindex:"0",role:"button","aria-label":t.favoriteButton},on:{click:function(e){return e.stopPropagation(),t.$store.dispatch("favorites/toggle",t.track.id)}}},[r("i",{class:["heart","favorite-icon",{favorited:t.isFavorite},{pink:t.isFavorite},"icon","track-modal","list-icon"]}),r("span",{staticClass:"track-modal list-item"},[t._v(t._s(t.favoriteButton))])])]):t._e(),r("div",{staticClass:"row"},[r("div",{staticClass:"column",attrs:{role:"button","aria-label":t.labels.addToQueue},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.add(),t.$refs.modal.closeModal()}}},[r("i",{staticClass:"plus icon track-modal list-icon"}),r("span",{staticClass:"track-modal list-item"},[t._v(t._s(t.labels.addToQueue))])])]),r("div",{staticClass:"row"},[r("div",{staticClass:"column",attrs:{role:"button","aria-label":t.labels.playNext},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.addNext(!0),t.$refs.modal.closeModal()}}},[r("i",{staticClass:"step forward icon track-modal list-icon"}),r("span",{staticClass:"track-modal list-item"},[t._v(t._s(t.labels.playNext))])])]),r("div",{staticClass:"row"},[r("div",{staticClass:"column",attrs:{role:"button","aria-label":t.labels.startRadio},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.$store.dispatch("radios/start",{type:"similar",objectId:t.track.id}),t.$refs.modal.closeModal()}}},[r("i",{staticClass:"rss icon track-modal list-icon"}),r("span",{staticClass:"track-modal list-item"},[t._v(t._s(t.labels.startRadio))])])]),r("div",{staticClass:"row"},[r("div",{staticClass:"column",attrs:{role:"button","aria-label":t.labels.addToPlaylist},on:{click:function(e){return e.stopPropagation(),t.$store.commit("playlists/chooseTrack",t.track)}}},[r("i",{staticClass:"list icon track-modal list-icon"}),r("span",{staticClass:"track-modal list-item"},[t._v(t._s(t.labels.addToPlaylist))])])]),r("div",{staticClass:"ui divider"}),!t.isAlbum&&t.track.album?r("div",{staticClass:"row"},[r("div",{staticClass:"column",attrs:{role:"button","aria-label":t.albumDetailsButton},on:{click:function(e){return e.preventDefault(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.$router.push({name:"library.albums.detail",params:{id:t.track.album.id}})}}},[r("i",{staticClass:"compact disc icon track-modal list-icon"}),r("span",{staticClass:"track-modal list-item"},[t._v(t._s(t.albumDetailsButton))])])]):t._e(),t.isArtist?t._e():r("div",{staticClass:"row"},[r("div",{staticClass:"column",attrs:{role:"button","aria-label":t.artistDetailsButton},on:{click:function(e){return e.preventDefault(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.$router.push({name:"library.artists.detail",params:{id:t.track.artist.id}})}}},[r("i",{staticClass:"user icon track-modal list-icon"}),r("span",{staticClass:"track-modal list-item"},[t._v(t._s(t.artistDetailsButton))])])]),r("div",{staticClass:"row"},[r("div",{staticClass:"column",attrs:{role:"button","aria-label":t.trackDetailsButton},on:{click:function(e){return e.preventDefault(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.$router.push({name:"library.tracks.detail",params:{id:t.track.id}})}}},[r("i",{staticClass:"info icon track-modal list-icon"}),r("span",{staticClass:"track-modal list-item"},[t._v(t._s(t.trackDetailsButton))])])]),r("div",{staticClass:"ui divider"}),t._l(t.getReportableObjs({track:t.track,album:t.album,artist:t.artist}),(function(e){return r("div",{key:e.target.type+e.target.id,ref:"report"+e.target.type+e.target.id,refInFor:!0,staticClass:"row",attrs:{"data-ref":"report"+e.target.type+e.target.id},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.$store.dispatch("moderation/report",e.target)}}},[r("div",{staticClass:"column"},[r("i",{staticClass:"share icon track-modal list-icon"}),r("span",{staticClass:"track-modal list-item"},[t._v(t._s(e.label))])])])}))],2)])])},c=[],u=a("404d"),d=a("add5"),p=a("5866"),f={components:{Modal:u["default"]},mixins:[d["a"],p["a"]],props:{show:{type:Boolean,required:!0,default:!1},track:{type:Object,required:!0},index:{type:Number,required:!0},isArtist:{type:Boolean,required:!1,default:!1},isAlbum:{type:Boolean,required:!1,default:!1}},data:function(){return{isShowing:this.show,tracks:[this.track],album:this.track.album,artist:this.track.artist}},computed:{isFavorite:function(){return this.$store.getters["favorites/isFavorite"](this.track.id)},favoriteButton:function(){return this.isFavorite?this.$pgettext("Content/Track/Icon.Tooltip/Verb","Remove from favorites"):this.$pgettext("Content/Track/*/Verb","Add to favorites")},trackDetailsButton:function(){return"podcast"===this.track.artist.content_category?this.$pgettext("*/Queue/Dropdown/Button/Label/Short","Episode details"):this.$pgettext("*/Queue/Dropdown/Button/Label/Short","Track details")},albumDetailsButton:function(){return"podcast"===this.track.artist.content_category?this.$pgettext("*/Queue/Dropdown/Button/Label/Short","View series"):this.$pgettext("*/Queue/Dropdown/Button/Label/Short","View album")},artistDetailsButton:function(){return"podcast"===this.track.artist.content_category?this.$pgettext("*/Queue/Dropdown/Button/Label/Short","View channel"):this.$pgettext("*/Queue/Dropdown/Button/Label/Short","View artist")},labels:function(){return{startRadio:this.$pgettext("*/Queue/Dropdown/Button/Title","Play radio"),playNow:this.$pgettext("*/Queue/Dropdown/Button/Title","Play now"),addToQueue:this.$pgettext("*/Queue/Dropdown/Button/Title","Add to queue"),playNext:this.$pgettext("*/Queue/Dropdown/Button/Title","Play next"),addToPlaylist:this.$pgettext("Sidebar/Player/Icon.Tooltip/Verb","Add to playlistâ€¦")}}}},m=f,v=a("2877"),b=Object(v["a"])(m,l,c,!1,null,null,null),h=b.exports,k={components:{TrackFavoriteIcon:o["default"],TrackModal:h},mixins:[p["a"]],props:{tracks:{type:Array,required:!0},showAlbum:{type:Boolean,required:!1,default:!0},showArtist:{type:Boolean,required:!1,default:!0},showPosition:{type:Boolean,required:!1,default:!1},showArt:{type:Boolean,required:!1,default:!0},search:{type:Boolean,required:!1,default:!1},filters:{type:Object,required:!1,default:null},nextUrl:{type:String,required:!1,default:null},displayActions:{type:Boolean,required:!1,default:!0},showDuration:{type:Boolean,required:!1,default:!0},index:{type:Number,required:!0},track:{type:Object,required:!0},isArtist:{type:Boolean,required:!1,default:!1},isAlbum:{type:Boolean,required:!1,default:!1}},data:function(){return{showTrackModal:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(n["c"])({currentTrack:"queue/currentTrack"})),{},{isPlaying:function(){return this.$store.state.player.playing},actionsButtonLabel:function(){return this.$pgettext("Content/Track/Icon.Tooltip/Verb","Show track actions")}}),methods:Object(s["a"])({prettyPosition:function(t,e){var a=String(t);while(a.length<(e||2))a="0"+a;return a}},Object(n["b"])({resumePlayback:"player/resumePlayback",pausePlayback:"player/pausePlayback"}))},g=k,y=Object(v["a"])(g,r,i,!1,null,null,null);e["a"]=y.exports}}]);