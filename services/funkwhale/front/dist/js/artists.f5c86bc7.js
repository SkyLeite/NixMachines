(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["artists"],{"0292":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-card card"},[a("router-link",{staticClass:"discrete link",attrs:{to:{name:"library.artists.detail",params:{id:t.artist.id}}}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.imageUrl,expression:"imageUrl",arg:"background-image"}],class:["ui","head-image","circular","image",{"default-cover":!t.cover||!t.cover.urls.original}]},[a("play-button",{attrs:{"icon-only":!0,"is-playable":t.artist.is_playable,"button-classes":["ui","circular","large","vibrant","icon","button"],artist:t.artist}})],1)]),a("div",{staticClass:"content"},[a("strong",[a("router-link",{staticClass:"discrete link",attrs:{to:{name:"library.artists.detail",params:{id:t.artist.id}}}},[t._v(" "+t._s(t._f("truncate")(t.artist.name,30))+" ")])],1),a("tags-list",{attrs:{"label-classes":"tiny","truncate-size":20,limit:2,"show-more":!1,tags:t.artist.tags}})],1),a("div",{staticClass:"extra content"},["music"===t.artist.content_category?a("translate",{attrs:{"translate-context":"*/*/*","translate-params":{count:t.artist.tracks_count},"translate-n":t.artist.tracks_count,"translate-plural":"%{ count } tracks"}},[t._v(" %{ count } track ")]):a("translate",{attrs:{"translate-context":"*/*/*","translate-params":{count:t.artist.tracks_count},"translate-n":t.artist.tracks_count,"translate-plural":"%{ count } episodes"}},[t._v(" %{ count } episode ")]),a("play-button",{staticClass:"right floated basic icon",attrs:{"dropdown-only":!0,"is-playable":t.artist.is_playable,"dropdown-icon-classes":["ellipsis","horizontal","large really discrete"],artist:t.artist}})],1)],1)},s=[],n=(a("4de4"),a("d3b7"),a("d81d"),a("a3e6")),r=a("6b08"),o={components:{PlayButton:n["a"],TagsList:r["a"]},props:{artist:{type:Object,required:!0}},data:function(){return{initialAlbums:30,showAllAlbums:!0}},computed:{imageUrl:function(){var t=this.cover;return t&&t.urls.original?this.$store.getters["instance/absoluteUrl"](t.urls.medium_square_crop):null},cover:function(){return this.artist.cover&&this.artist.cover.urls.original?this.artist.cover:this.artist.albums.map((function(t){return t.cover})).filter((function(t){return t&&t.urls.original}))[0]}}},l=o,c=a("2877"),u=Object(c["a"])(l,i,s,!1,null,null,null);e["a"]=u.exports},"06cd":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[t.$slots.title?a("h3",{staticClass:"ui header"},[t._t("title")],2):t._e(),!t.isLoading&&t.libraries.length>0?a("p",{staticClass:"ui subtitle"},[t._t("subtitle")],2):t._e(),t.isLoading||0!==t.libraries.length?t._e():a("p",{staticClass:"ui subtitle"},[a("translate",{attrs:{"translate-context":"Content/Federation/Paragraph"}},[t._v(" No matching library. ")])],1),a("div",{staticClass:"ui hidden divider"}),a("div",{staticClass:"ui cards"},[t.isLoading?a("div",{staticClass:"ui inverted active dimmer"},[a("div",{staticClass:"ui loader"})]):t._e(),t._l(t.libraries,(function(e){return a("library-card",{key:e.uuid,attrs:{"display-scan":!1,"display-follow":t.$store.state.auth.authenticated&&e.actor.full_username!=t.$store.state.auth.fullUsername,"initial-library":e,"display-copy-fid":!0}})}))],2),t.nextPage?[a("div",{staticClass:"ui hidden divider"}),t.nextPage?a("button",{class:["ui","basic","button"],on:{click:function(e){return t.fetchData(t.nextPage)}}},[a("translate",{attrs:{"translate-context":"*/*/Button,Label"}},[t._v(" Show more ")])],1):t._e()]:t._e()],2)},s=[],n=a("2909"),r=(a("99af"),a("ceb5")),o=a("bc3a"),l=a.n(o),c=a("c395"),u={components:{LibraryCard:c["a"]},props:{url:{type:String,required:!0}},data:function(){return{libraries:[],limit:6,isLoading:!1,errors:null,previousPage:null,nextPage:null}},watch:{offset:function(){this.fetchData()}},created:function(){this.fetchData(this.url)},methods:{fetchData:function(t){this.isLoading=!0;var e=this,a=r["a"].clone({});a.page_size=this.limit,a.offset=this.offset,l.a.get(t,{params:a}).then((function(t){e.previousPage=t.data.previous,e.nextPage=t.data.next,e.isLoading=!1,e.libraries=[].concat(Object(n["a"])(e.libraries),Object(n["a"])(t.data.results)),e.$emit("loaded",e.libraries)}),(function(t){e.isLoading=!1,e.errors=t.backendErrors}))},updateOffset:function(t){t?this.offset+=this.limit:this.offset=Math.max(this.offset-this.limit,0)}}},d=u,p=a("2877"),b=Object(p["a"])(d,i,s,!1,null,null,null);e["a"]=b.exports},"20be":function(t,e,a){"use strict";a("ac1f"),a("1276"),a("a15b"),a("fb6a");var i,s,n={props:{defaultOrdering:{type:String,required:!1,default:""},orderingConfigName:{type:String,required:!1,default:""}},computed:{orderingConfig:function(){return this.$store.state.ui.routePreferences[this.orderingConfigName||this.$route.name]},paginateBy:{set:function(t){this.$store.commit("ui/paginateBy",{route:this.$route.name,value:t})},get:function(){return this.orderingConfig.paginateBy}},ordering:{set:function(t){this.$store.commit("ui/ordering",{route:this.$route.name,value:t})},get:function(){return this.orderingConfig.ordering}},orderingDirection:{set:function(t){this.$store.commit("ui/orderingDirection",{route:this.$route.name,value:t})},get:function(){return this.orderingConfig.orderingDirection}}},methods:{getOrderingFromString:function(t){var e=t.split("-");return e.length>1?{direction:"-",field:e.slice(1).join("-")}:{direction:"+",field:t}},getOrderingAsString:function(){var t=this.orderingDirection;return"+"===t&&(t=""),[t,this.ordering].join("")}}},r=n,o=a("2877"),l=Object(o["a"])(r,i,s,!1,null,null,null);e["a"]=l.exports},"21a2":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.anonymousCanListen?t._e():a("div",{staticClass:"ui warning message",attrs:{role:"alert"}},[a("p",[a("strong",[a("translate",{attrs:{"translate-context":"Content/Embed/Message"}},[t._v("Sharing will not work because this pod doesn't allow anonymous users to access content.")])],1)]),a("p",[a("translate",{attrs:{"translate-context":"Content/Embed/Message"}},[t._v(" Please contact your admins and ask them to update the corresponding setting. ")])],1)]),a("div",{staticClass:"ui form"},[a("div",{staticClass:"two fields"},[a("div",{staticClass:"field"},[a("div",{staticClass:"field"},[a("label",{attrs:{for:"embed-width"}},[a("translate",{attrs:{"translate-context":"Popup/Embed/Input.Label"}},[t._v("Widget width")])],1),a("p",[a("translate",{attrs:{"translate-context":"Popup/Embed/Paragraph"}},[t._v(" Leave empty for a responsive widget ")])],1),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.width,expression:"width",modifiers:{number:!0}}],attrs:{id:"embed-width",type:"number",min:"0",step:"10"},domProps:{value:t.width},on:{input:function(e){e.target.composing||(t.width=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),"track"!=t.type?[a("br"),a("div",{staticClass:"field"},[a("label",{attrs:{for:"embed-height"}},[a("translate",{attrs:{"translate-context":"Popup/Embed/Input.Label"}},[t._v("Widget height")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.height,expression:"height"}],attrs:{id:"embed-height",type:"number",min:t.minHeight,max:"1000",step:"10"},domProps:{value:t.height},on:{input:function(e){e.target.composing||(t.height=e.target.value)}}})])]:t._e()],2),a("div",{staticClass:"field"},[a("button",{staticClass:"ui right accent labeled icon floated button",on:{click:t.copy}},[a("i",{staticClass:"copy icon"}),a("translate",{attrs:{"translate-context":"*/*/Button.Label/Short, Verb"}},[t._v(" Copy ")])],1),a("label",{attrs:{for:"embed-width"}},[a("translate",{attrs:{"translate-context":"Popup/Embed/Input.Label/Noun"}},[t._v("Embed code")])],1),a("p",[a("translate",{attrs:{"translate-context":"Popup/Embed/Paragraph"}},[t._v(" Copy/paste this code in your website HTML ")])],1),a("textarea",{ref:"textarea",attrs:{rows:"5",readonly:""},domProps:{value:t.embedCode}}),t._v(" "),a("div",{staticClass:"ui right"},[t.copied?a("p",{staticClass:"message"},[a("translate",{attrs:{"translate-context":"Content/*/Paragraph"}},[t._v(" Text copied to clipboard! ")])],1):t._e()])])])]),a("div",{staticClass:"preview"},[a("h3",[a("a",{attrs:{href:t.iframeSrc,target:"_blank"}},[a("translate",{attrs:{"translate-context":"Popup/Embed/Title/Noun"}},[t._v("Preview")])],1)]),a("iframe",{attrs:{width:t.frameWidth,height:t.height,scrolling:"no",frameborder:"no",src:t.iframeSrc}})])])},s=[],n=a("5530"),r=(a("a9e3"),a("2ca0"),a("99af"),a("ac1f"),a("5319"),a("2f62")),o=a("ceb5"),l={props:{type:{type:String,required:!0},id:{type:Number,required:!0}},data:function(){var t={width:null,height:150,minHeight:100,copied:!1};return"album"!==this.type&&"artist"!==this.type&&"playlist"!==this.type||(t.height=330,t.minHeight=250),t},computed:Object(n["a"])(Object(n["a"])({},Object(r["d"])({nodeinfo:function(t){return t.instance.nodeinfo}})),{},{anonymousCanListen:function(){return o["a"].get(this.nodeinfo,"metadata.library.anonymousCanListen",!1)},iframeSrc:function(){var t="/front/";t.startsWith("/")&&(t="".concat(window.location.protocol,"//").concat(window.location.host).concat(t));var e=this.$store.state.instance.instanceUrl,a="";return window.location.href.startsWith(e)||(a="&b=".concat(e)),"".concat(t,"embed.html?&type=").concat(this.type,"&id=").concat(this.id).concat(a)},frameWidth:function(){return this.width?this.width:"100%"},embedCode:function(){var t=this.iframeSrc.replace(/&/g,"&amp;");return'<iframe width="'.concat(this.frameWidth,'" height="').concat(this.height,'" scrolling="no" frameborder="no" src="').concat(t,'"></iframe>')}}),methods:{copy:function(){this.$refs.textarea.select(),document.execCommand("Copy");var t=this;t.copied=!0,this.timeout=setTimeout((function(){t.copied=!1}),5e3)}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,s,!1,null,null,null);e["a"]=d.exports},"38b2":function(t,e,a){"use strict";a("a9e3");var i,s,n={props:{defaultPage:{type:Number,required:!1,default:1},defaultPaginateBy:{type:Number,required:!1,default:1}}},r=n,o=a("2877"),l=Object(o["a"])(r,i,s,!1,null,null,null);e["a"]=l.exports},"64c4":function(t,e,a){"use strict";var i,s,n={computed:{sharedLabels:function(){return{fields:{privacy_level:{label:this.$pgettext("Content/Settings/Dropdown.Label/Noun","Activity visibility"),help:this.$pgettext("Content/Settings/Dropdown.Help text","Determine the visibility level of your activity"),choices:{me:this.$pgettext("Content/Settings/Dropdown","Nobody except me"),instance:this.$pgettext("Content/Settings/Dropdown","Everyone on this instance"),everyone:this.$pgettext("Content/Settings/Dropdown","Everyone, across all instances")},shortChoices:{me:this.$pgettext("Content/Settings/Dropdown/Short","Private"),instance:this.$pgettext("Content/Settings/Dropdown/Short","Instance"),everyone:this.$pgettext("Content/Settings/Dropdown/Short","Everyone")}},import_status:{detailTitle:this.$pgettext("Content/Library/Link.Title","Click to display more information about the import process for this upload"),choices:{skipped:{label:this.$pgettext("Content/Library/*","Skipped"),help:this.$pgettext("Content/Library/Help text","This track is already present in one of your libraries")},draft:{label:this.$pgettext("Content/Library/*/Short","Draft"),help:this.$pgettext("Content/Library/Help text","This track has been uploaded, but hasn't been scheduled for processing yet")},pending:{label:this.$pgettext("Content/Library/*/Short","Pending"),help:this.$pgettext("Content/Library/Help text","This track has been uploaded, but hasn't been processed by the server yet")},errored:{label:this.$pgettext("Content/Library/Table/Short","Errored"),help:this.$pgettext("Content/Library/Help text","This track could not be processed, please make sure it is tagged correctly")},finished:{label:this.$pgettext("Content/Library/*","Finished"),help:this.$pgettext("Content/Library/Help text","Imported")}}},report_type:{label:this.$pgettext("*/*/*","Category"),choices:{takedown_request:this.$pgettext("Content/Moderation/Dropdown","Takedown request"),invalid_metadata:this.$pgettext("Popup/Import/Error.Label","Invalid metadata"),illegal_content:this.$pgettext("Content/Moderation/Dropdown","Illegal content"),offensive_content:this.$pgettext("Content/Moderation/Dropdown","Offensive content"),other:this.$pgettext("Content/Moderation/Dropdown","Other")}},summary:{label:this.$pgettext("Content/Account/*","Bio")},content_category:{label:this.$pgettext("Content/*/Dropdown.Label/Noun","Content category"),choices:{podcast:this.$pgettext("Content/*/Dropdown","Podcast"),music:this.$pgettext("*/*/*","Music"),other:this.$pgettext("*/*/*","Other")}}},filters:{creation_date:this.$pgettext("Content/*/*/Noun","Creation date"),release_date:this.$pgettext("Content/*/*/Noun","Release date"),accessed_date:this.$pgettext("Content/*/*/Noun","Accessed date"),first_seen:this.$pgettext("Content/Moderation/Dropdown/Noun","First seen date"),last_seen:this.$pgettext("Content/Moderation/Dropdown/Noun","Last seen date"),modification_date:this.$pgettext("Content/Playlist/Dropdown/Noun","Modification date"),expiration_date:this.$pgettext("Content/Admin/Table.Label/Noun","Expiration date"),track_title:this.$pgettext("Content/*/Dropdown/Noun","Track name"),album_title:this.$pgettext("Content/*/Dropdown/Noun","Album name"),artist_name:this.$pgettext("Content/*/Dropdown/Noun","Artist name"),name:this.$pgettext("*/*/*/Noun","Name"),length:this.$pgettext("*/*/*/Noun","Duration"),items_count:this.$pgettext("*/*/*/Noun","Items"),size:this.$pgettext("Content/*/*/Noun","Size"),bitrate:this.$pgettext("Content/Track/*/Noun","Bitrate"),duration:this.$pgettext("Content/*/*","Duration"),date_joined:this.$pgettext("Content/Admin/Table.Label/Noun","Sign-up date"),last_activity:this.$pgettext("Content/Profile/Table.Label/Short, Noun (Value is a date)","Last activity"),username:this.$pgettext("Content/*/*","Username"),domain:this.$pgettext("Content/Moderation/*/Noun","Domain"),users:this.$pgettext("*/*/*/Noun","Users"),received_messages:this.$pgettext("Content/Moderation/*/Noun","Received messages"),uploads:this.$pgettext("*/*/*","Uploads"),followers:this.$pgettext("Content/Federation/*/Noun","Followers")},scopes:{profile:{label:this.$pgettext("Content/OAuth Scopes/Label","Profile"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to e-mail, username, and profile information")},libraries:{label:this.$pgettext("Content/OAuth Scopes/Label","Libraries and uploads"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to audio files, libraries, artists, albums and tracks")},favorites:{label:this.$pgettext("Sidebar/Favorites/List item.Link/Noun","Favorites"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to favorites")},listenings:{label:this.$pgettext("*/*/*/Noun","Listenings"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to listening history")},follows:{label:this.$pgettext("Content/OAuth Scopes/Label","Follows"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to follows")},playlists:{label:this.$pgettext("*/*/*","Playlists"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to playlists")},radios:{label:this.$pgettext("*/*/*","Radios"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to radios")},filters:{label:this.$pgettext("Content/Settings/Title/Noun","Content filters"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to content filters")},notifications:{label:this.$pgettext("*/Notifications/*","Notifications"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to notifications")},edits:{label:this.$pgettext("*/Admin/*/Noun","Edits"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to edits")},security:{label:this.$pgettext("*/Admin/*/Noun","Security"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to security settings such as password and authorization")},reports:{label:this.$pgettext("*/Moderation/*/Noun","Reports"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to moderation reports")}}}}}},r=n,o=a("2877"),l=Object(o["a"])(r,i,s,!1,null,null,null);e["a"]=l.exports},a79e:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.object?a("div",[t.contentFilter?a("div",{staticClass:"ui small text container"},[a("div",{staticClass:"ui hidden divider"}),a("div",{staticClass:"ui message"},[a("p",[a("translate",{attrs:{"translate-context":"Content/Artist/Paragraph"}},[t._v(" You are currently hiding content related to this artist. ")])],1),a("router-link",{staticClass:"right floated",attrs:{to:{name:"settings"}}},[a("translate",{attrs:{"translate-context":"Content/Moderation/Link"}},[t._v(" Review my filters ")])],1),a("button",{staticClass:"ui basic tiny button",on:{click:function(e){return t.$store.dispatch("moderation/deleteContentFilter",t.contentFilter.uuid)}}},[a("translate",{attrs:{"translate-context":"Content/Moderation/Button.Label"}},[t._v(" Remove filter ")])],1)],1)]):t._e(),t.isLoadingAlbums?a("section",{staticClass:"ui vertical stripe segment"},[a("div",{class:["ui","centered","active","inline","loader"]})]):t.albums&&t.albums.length>0?a("section",{staticClass:"ui vertical stripe segment"},[a("h2",[a("translate",{attrs:{"translate-context":"Content/Artist/Title"}},[t._v(" Albums by this artist ")])],1),a("div",{staticClass:"ui cards app-cards"},t._l(t.allAlbums,(function(t){return a("album-card",{key:t.id,attrs:{album:t}})})),1),a("div",{staticClass:"ui hidden divider"}),t.nextAlbumsUrl&&t.loadMoreAlbumsUrl?a("button",{class:["ui",{loading:t.isLoadingMoreAlbums},"button"],on:{click:function(e){return t.loadMoreAlbums(t.loadMoreAlbumsUrl)}}},[a("translate",{attrs:{"translate-context":"Content/*/Button.Label"}},[t._v(" Load more… ")])],1):t._e()]):t._e(),t.tracks.length>0?a("section",{staticClass:"ui vertical stripe segment"},[a("track-table",{attrs:{"is-artist":!0,"show-position":!1,"track-only":!0,tracks:t.tracks.slice(0,5)}},[a("template",{slot:"header"},[a("h2",[a("translate",{attrs:{"translate-context":"Content/Artist/Title"}},[t._v(" New tracks by this artist ")])],1),a("div",{staticClass:"ui hidden divider"})])],2)],1):t._e(),a("section",{staticClass:"ui vertical stripe segment"},[a("h2",[a("translate",{attrs:{"translate-context":"Content/*/Title/Noun"}},[t._v(" User libraries ")])],1),a("library-widget",{attrs:{url:"artists/"+t.object.id+"/libraries/"},on:{loaded:function(e){return t.$emit("libraries-loaded",e)}}},[a("translate",{attrs:{slot:"subtitle","translate-context":"Content/Artist/Paragraph"},slot:"subtitle"},[t._v(" This artist is present in the following libraries: ")])],1)],1)]):t._e()},s=[],n=(a("4de4"),a("d3b7"),a("99af"),a("bc3a")),r=a.n(n),o=a("af03"),l=a("5a65"),c=a("06cd"),u={components:{AlbumCard:o["a"],TrackTable:l["a"],LibraryWidget:c["a"]},props:{object:{type:Object,required:!0},tracks:{type:Array,required:!0},albums:{type:Array,required:!0},isLoadingAlbums:{type:Boolean,required:!0},nextTracksUrl:{type:String,default:null},nextAlbumsUrl:{type:String,default:null}},data:function(){return{loadMoreAlbumsUrl:this.nextAlbumsUrl,additionalAlbums:[],isLoadingMoreAlbums:!1}},computed:{contentFilter:function(){var t=this;return this.$store.getters["moderation/artistFilters"]().filter((function(e){return e.target.id===t.object.id}))[0]},allAlbums:function(){return this.albums.concat(this.additionalAlbums)}},methods:{loadMoreAlbums:function(t){var e=this;e.isLoadingMoreAlbums=!0,r.a.get(t).then((function(t){e.additionalAlbums=e.additionalAlbums.concat(t.data.results),e.loadMoreAlbumsUrl=t.data.next,e.isLoadingMoreAlbums=!1}),(function(){e.isLoadingMoreAlbums=!1}))}}},d=u,p=a("2877"),b=Object(p["a"])(d,i,s,!1,null,null,null);e["default"]=b.exports},af03:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card app-card component-album-card"},[a("router-link",{staticClass:"discrete link",attrs:{to:{name:"library.albums.detail",params:{id:t.album.id}}}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.imageUrl,expression:"imageUrl",arg:"background-image"}],class:["ui","head-image","image",{"default-cover":!t.album.cover||!t.album.cover.urls.original}]},[a("play-button",{attrs:{"icon-only":!0,"is-playable":t.album.is_playable,"button-classes":["ui","circular","large","vibrant","icon","button"],album:t.album}})],1)]),a("div",{staticClass:"content"},[a("strong",[a("router-link",{staticClass:"discrete link",attrs:{to:{name:"library.albums.detail",params:{id:t.album.id}}}},[t._v(" "+t._s(t.album.title)+" ")])],1),a("div",{staticClass:"description"},[a("span",[a("router-link",{staticClass:"discrete link",attrs:{to:{name:"library.artists.detail",params:{id:t.album.artist.id}}}},[t._v(" "+t._s(t.album.artist.name)+" ")])],1)])]),a("div",{staticClass:"extra content"},[t.album.release_date?a("span",[t._v(t._s(t._f("moment")(t.album.release_date,"Y"))+" · ")]):t._e(),a("translate",{attrs:{"translate-context":"*/*/*","translate-params":{count:t.album.tracks_count},"translate-n":t.album.tracks_count,"translate-plural":"%{ count } tracks"}},[t._v(" %{ count } track ")]),a("play-button",{staticClass:"right floated basic icon",attrs:{"dropdown-only":!0,"is-playable":t.album.is_playable,"dropdown-icon-classes":["ellipsis","horizontal","large really discrete"],album:t.album}})],1)],1)},s=[],n=a("a3e6"),r={components:{PlayButton:n["a"]},props:{album:{type:Object,required:!0}},computed:{imageUrl:function(){return this.album.cover&&this.album.cover.urls.original?this.$store.getters["instance/absoluteUrl"](this.album.cover.urls.medium_square_crop):null}}},o=r,l=a("2877"),c=Object(l["a"])(o,i,s,!1,null,null,null);e["a"]=c.exports},bfda:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{directives:[{name:"title",rawName:"v-title",value:t.labels.title,expression:"labels.title"}]},[t.isLoading?a("div",{staticClass:"ui vertical segment"},[a("div",{class:["ui","centered","active","inline","loader"]})]):t._e(),t.object&&!t.isLoading?[a("section",{directives:[{name:"title",rawName:"v-title",value:t.object.name,expression:"object.name"}],class:["ui","head",{"with-background":t.cover},"vertical","center","aligned","stripe","segment"],style:t.headerStyle},[a("div",{staticClass:"segment-content"},[a("h2",{staticClass:"ui center aligned icon header"},[a("i",{staticClass:"circular inverted users violet icon"}),a("div",{staticClass:"content"},[t._v(" "+t._s(t.object.name)+" "),t.albums?a("div",{staticClass:"sub header"},[a("translate",{attrs:{"translate-context":"Content/Artist/Paragraph",tag:"div","translate-plural":"%{ count } tracks in %{ albumsCount } albums","translate-n":t.totalTracks,"translate-params":{count:t.totalTracks,albumsCount:t.totalAlbums}}},[t._v(" %{ count } track in %{ albumsCount } albums ")])],1):t._e()])]),t.object.tags&&t.object.tags.length>0?a("tags-list",{attrs:{tags:t.object.tags}}):t._e(),a("div",{staticClass:"ui hidden divider"}),a("div",{staticClass:"header-buttons"},[a("div",{staticClass:"ui buttons"},[a("radio-button",{attrs:{type:"artist","object-id":String(t.object.id)}})],1),a("div",{staticClass:"ui buttons"},[a("play-button",{staticClass:"vibrant",attrs:{"is-playable":t.isPlayable,artist:t.object}},[a("translate",{attrs:{"translate-context":"Content/Artist/Button.Label/Verb"}},[t._v(" Play all albums ")])],1)],1),t.publicLibraries.length>0?a("modal",{attrs:{show:t.showEmbedModal},on:{"update:show":function(e){t.showEmbedModal=e}}},[a("h4",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Popup/Artist/Title/Verb"}},[t._v(" Embed this artist work on your website ")])],1),a("div",{staticClass:"scrolling content"},[a("div",{staticClass:"description"},[a("embed-wizard",{attrs:{id:t.object.id,type:"artist"}})],1)]),a("div",{staticClass:"actions"},[a("button",{staticClass:"ui deny button"},[a("translate",{attrs:{"translate-context":"*/*/Button.Label/Verb"}},[t._v(" Cancel ")])],1)])]):t._e(),a("div",{staticClass:"ui buttons"},[a("button",{staticClass:"ui button",on:{click:function(e){return t.$refs.dropdown.click()}}},[a("translate",{attrs:{"translate-context":"*/*/Button.Label/Noun"}},[t._v(" More… ")])],1),a("button",{directives:[{name:"dropdown",rawName:"v-dropdown"}],ref:"dropdown",staticClass:"ui floating dropdown icon button"},[a("i",{staticClass:"dropdown icon"}),a("div",{staticClass:"menu"},[t.domain!=t.$store.getters["instance/domain"]?a("a",{staticClass:"basic item",attrs:{href:t.object.fid,target:"_blank"}},[a("i",{staticClass:"external icon"}),a("translate",{attrs:{"translate-params":{domain:t.domain},"translate-context":"Content/*/Button.Label/Verb"}},[t._v("View on %{ domain }")])],1):t._e(),t.publicLibraries.length>0?a("button",{staticClass:"basic item",attrs:{role:"button"},on:{click:function(e){e.preventDefault(),t.showEmbedModal=!t.showEmbedModal}}},[a("i",{staticClass:"code icon"}),a("translate",{attrs:{"translate-context":"Content/*/Button.Label/Verb"}},[t._v(" Embed ")])],1):t._e(),a("a",{staticClass:"basic item",attrs:{href:t.wikipediaUrl,target:"_blank",rel:"noreferrer noopener"}},[a("i",{staticClass:"wikipedia w icon"}),a("translate",{attrs:{"translate-context":"Content/*/Button.Label/Verb"}},[t._v("Search on Wikipedia")])],1),t.musicbrainzUrl?a("a",{staticClass:"basic item",attrs:{href:t.musicbrainzUrl,target:"_blank",rel:"noreferrer noopener"}},[a("i",{staticClass:"external icon"}),a("translate",{attrs:{"translate-context":"Content/*/*/Clickable, Verb"}},[t._v("View on MusicBrainz")])],1):t._e(),a("a",{staticClass:"basic item",attrs:{href:t.discogsUrl,target:"_blank",rel:"noreferrer noopener"}},[a("i",{staticClass:"external icon"}),a("translate",{attrs:{"translate-context":"Content/*/Button.Label/Verb"}},[t._v("Search on Discogs")])],1),t.object.is_local?a("router-link",{staticClass:"basic item",attrs:{to:{name:"library.artists.edit",params:{id:t.object.id}}}},[a("i",{staticClass:"edit icon"}),a("translate",{attrs:{"translate-context":"Content/*/Button.Label/Verb"}},[t._v(" Edit ")])],1):t._e(),a("div",{staticClass:"divider"}),t._l(t.getReportableObjs({artist:t.object}),(function(e){return a("div",{key:e.target.type+e.target.id,staticClass:"basic item",attrs:{role:"button"},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.$store.dispatch("moderation/report",e.target)}}},[a("i",{staticClass:"share icon"}),t._v(" "+t._s(e.label)+" ")])})),a("div",{staticClass:"divider"}),t.$store.state.auth.availablePermissions["library"]?a("router-link",{staticClass:"basic item",attrs:{to:{name:"manage.library.artists.detail",params:{id:t.object.id}}}},[a("i",{staticClass:"wrench icon"}),a("translate",{attrs:{"translate-context":"Content/Moderation/Link"}},[t._v(" Open in moderation interface ")])],1):t._e(),t.$store.state.auth.profile&&t.$store.state.auth.profile.is_superuser?a("a",{staticClass:"basic item",attrs:{href:t.$store.getters["instance/absoluteUrl"]("/api/admin/music/artist/"+t.object.id),target:"_blank",rel:"noopener noreferrer"}},[a("i",{staticClass:"wrench icon"}),a("translate",{attrs:{"translate-context":"Content/Moderation/Link/Verb"}},[t._v("View in Django's admin")]),t._v("  ")],1):t._e()],2)])])],1)],1)]),a("router-view",{key:t.$route.fullPath,attrs:{tracks:t.tracks,"next-tracks-url":t.nextTracksUrl,"next-albums-url":t.nextAlbumsUrl,albums:t.albums,"is-loading-albums":t.isLoadingAlbums,object:t.object,"object-type":"artist"},on:{"libraries-loaded":function(e){t.libraries=e}}})]:t._e()],2)},s=[],n=a("c7eb"),r=a("1da1"),o=(a("a9e3"),a("4de4"),a("d3b7"),a("d81d"),a("ac1f"),a("5319"),a("e9c4"),a("bc3a")),l=a.n(o),c=a("3677"),u=a("a3e6"),d=a("21a2"),p=a("404d"),b=a("d4fd"),h=a("6b08"),g=a("add5"),m=a("025e"),f={components:{PlayButton:u["a"],EmbedWizard:d["a"],Modal:p["default"],RadioButton:b["a"],TagsList:h["a"]},mixins:[g["a"]],props:{id:{type:[String,Number],required:!0}},data:function(){return{isLoading:!0,isLoadingAlbums:!0,object:null,albums:null,libraries:[],showEmbedModal:!1,tracks:[],nextAlbumsUrl:null,nextTracksUrl:null,totalAlbums:null,totalTracks:null}},computed:{domain:function(){return this.object?Object(m["b"])(this.object.fid):null},isPlayable:function(){return this.object.albums.filter((function(t){return t.is_playable})).length>0},labels:function(){return{title:this.$pgettext("*/*/*","Album")}},wikipediaUrl:function(){return"https://en.wikipedia.org/w/index.php?search="+encodeURI(this.object.name)},musicbrainzUrl:function(){return this.object.mbid?"https://musicbrainz.org/artist/"+this.object.mbid:null},discogsUrl:function(){return"https://discogs.com/search/?type=artist&title="+encodeURI(this.object.name)},cover:function(){return this.object.cover&&this.object.cover.urls.original?this.object.cover:this.object.albums.filter((function(t){return t.cover&&t.cover.urls.original})).map((function(t){return t.cover}))[0]},publicLibraries:function(){return this.libraries.filter((function(t){return"everyone"===t.privacy_level}))},headerStyle:function(){return this.cover&&this.cover.urls.original?"background-image: url("+this.$store.getters["instance/absoluteUrl"](this.cover.urls.original)+")":""},contentFilter:function(){var t=this;return this.$store.getters["moderation/artistFilters"]().filter((function(e){return e.target.id===t.object.id}))[0]}},watch:{id:function(){this.fetchData()}},created:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:case"end":return e.stop()}}),e)})))()},methods:{fetchData:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){var a,i,s,r;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,t.isLoading=!0,c["a"].default.debug('Fetching artist "'+t.id+'"'),i=l.a.get("artists/"+t.id+"/",{params:{refresh:"true"}}).then((function(t){t.data.channel?a.$router.replace({name:"channels.detail",params:{id:t.data.channel.uuid}}):a.object=t.data})),e.next=6,i;case 6:if(a.object){e.next=8;break}return e.abrupt("return");case 8:return s=l.a.get("tracks/",{params:{artist:t.id,hidden:"",ordering:"-creation_date"}}).then((function(t){a.tracks=t.data.results,a.nextTracksUrl=t.data.next,a.totalTracks=t.data.count})),r=l.a.get("albums/",{params:{artist:a.id,ordering:"-release_date",hidden:""}}).then((function(t){a.nextAlbumsUrl=t.data.next,a.totalAlbums=t.data.count;var e=JSON.parse(JSON.stringify(t.data.results));a.albums=e})),e.next=12,s;case 12:return e.next=14,r;case 14:a.isLoadingAlbums=!1,a.isLoading=!1;case 16:case"end":return e.stop()}}),e)})))()}}},v=f,y=a("2877"),C=Object(y["a"])(v,i,s,!1,null,null,null);e["default"]=C.exports},c395:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui card"},[a("div",{staticClass:"content"},[a("h4",{staticClass:"header"},[a("router-link",{attrs:{to:{name:"library.detail",params:{id:t.library.uuid}}}},[t._v(" "+t._s(t.library.name)+" ")]),a("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui right floated dropdown"},[a("i",{staticClass:"ellipsis vertical large icon nomargin"}),a("div",{staticClass:"menu"},t._l(t.getReportableObjs({library:t.library,account:t.library.actor}),(function(e){return a("button",{key:e.target.type+e.target.id,staticClass:"item basic",on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.$store.dispatch("moderation/report",e.target)}}},[a("i",{staticClass:"share icon"}),t._v(" "+t._s(e.label)+" ")])})),0)]),"me"===t.library.privacy_level?a("span",{staticClass:"right floated",attrs:{"data-tooltip":t.labels.tooltips.me}},[a("i",{staticClass:"small lock icon"})]):"everyone"===t.library.privacy_level?a("span",{staticClass:"right floated",attrs:{"data-tooltip":t.labels.tooltips.everyone}},[a("i",{staticClass:"small globe icon"})]):t._e()],1),a("div",{staticClass:"meta"},[a("span",[a("i",{staticClass:"small outline clock icon"}),a("human-date",{attrs:{date:t.library.creation_date}})],1)]),a("div",{staticClass:"description"},[t._v(" "+t._s(t.library.description)+" "),a("div",{staticClass:"ui hidden divider"})]),a("div",{staticClass:"meta"},[a("i",{staticClass:"music icon"}),a("translate",{attrs:{"translate-context":"*/*/*","translate-params":{count:t.library.uploads_count},"translate-n":t.library.uploads_count,"translate-plural":"%{ count } tracks"}},[t._v(" %{ count } track ")])],1),t.displayScan&&t.latestScan?a("div",{staticClass:"meta"},["pending"===t.latestScan.status?[a("i",{staticClass:"hourglass icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item"}},[t._v(" Scan pending ")])]:t._e(),"scanning"===t.latestScan.status?[a("i",{staticClass:"loading spinner icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item","translate-params":{progress:t.scanProgress}}},[t._v(" Scanning… (%{ progress }%) ")])]:"errored"===t.latestScan.status?[a("i",{staticClass:"dangerdownload icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item"}},[t._v(" Problem during scanning ")])]:"finished"===t.latestScan.status&&0===t.latestScan.errored_files?[a("i",{staticClass:"success download icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item"}},[t._v(" Scanned ")])]:"finished"===t.latestScan.status&&t.latestScan.errored_files>0?[a("i",{staticClass:"warning download icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item"}},[t._v(" Scanned with errors ")])]:t._e(),a("a",{staticClass:"link right floated",attrs:{href:""},on:{click:function(e){e.preventDefault(),t.showScan=!t.showScan}}},[a("translate",{attrs:{"translate-context":"Content/Library/Card.Button.Label/Noun"}},[t._v("Details")]),t.showScan?a("i",{staticClass:"angle down icon"}):a("i",{staticClass:"angle right icon"})],1),t.showScan?a("div",[t.latestScan.modification_date?[a("translate",{attrs:{"translate-context":"Content/Library/Card.List item/Noun"}},[t._v(" Last update: ")]),a("human-date",{attrs:{date:t.latestScan.modification_date}}),a("br")]:t._e(),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item/Noun"}},[t._v(" Failed tracks: ")]),t._v(" "+t._s(t.latestScan.errored_files)+" ")],2):t._e()],2):t._e(),t.displayScan&&t.canLaunchScan?a("div",{staticClass:"clearfix"},[a("a",{staticClass:"right floated link",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.launchScan.apply(null,arguments)}}},[a("translate",{attrs:{"translate-context":"Content/Library/Card.Button.Label/Verb"}},[t._v("Scan now")]),t._v(" "),a("i",{staticClass:"paper plane icon"})],1)]):t._e()]),a("div",{staticClass:"extra content"},[a("actor-link",{staticStyle:{color:"var(--link-color)"},attrs:{actor:t.library.actor}})],1),t.displayCopyFid?a("div",{staticClass:"extra content"},[a("div",{staticClass:"ui form"},[a("div",{staticClass:"field"},[a("label",{attrs:{for:t.library.fid}},[a("translate",{attrs:{"translate-context":"Content/Library/Title"}},[t._v("Sharing link")])],1),a("copy-input",{attrs:{id:t.library.fid,"button-classes":"basic",value:t.library.fid}})],1)])]):t._e(),t.displayFollow||t.radioPlayable?a("div",{class:["ui",{two:t.displayFollow&&t.radioPlayable},"bottom","attached","buttons"]},[t.radioPlayable?a("radio-button",{attrs:{type:"library","object-id":t.library.uuid}}):t._e(),t.displayFollow?[t.library.follow?t.library.follow.approved?t.library.follow.approved?[a("dangerous-button",{class:["ui","button"],attrs:{action:t.unfollow}},[a("translate",{attrs:{"translate-context":"*/Library/Button.Label/Verb"}},[t._v(" Unfollow ")]),a("p",{attrs:{slot:"modal-header"},slot:"modal-header"},[a("translate",{attrs:{"translate-context":"Popup/Library/Title"}},[t._v(" Unfollow this library? ")])],1),a("div",{attrs:{slot:"modal-content"},slot:"modal-content"},[a("p",[a("translate",{attrs:{"translate-context":"Popup/Library/Paragraph"}},[t._v(" By unfollowing this library, you loose access to its content. ")])],1)]),a("div",{attrs:{slot:"modal-confirm"},slot:"modal-confirm"},[a("translate",{attrs:{"translate-context":"*/Library/Button.Label/Verb"}},[t._v(" Unfollow ")])],1)],1)]:t._e():[a("button",{staticClass:"ui disabled button"},[a("i",{staticClass:"hourglass icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.Paragraph"}},[t._v(" Follow request pending approval ")])],1),a("button",{staticClass:"ui button",on:{click:t.unfollow}},[a("translate",{attrs:{"translate-context":"Content/Library/Card.Paragraph"}},[t._v(" Cancel follow request ")])],1)]:a("button",{class:["ui","success",{loading:t.isLoadingFollow},"button"],on:{click:function(e){return t.follow()}}},[a("translate",{attrs:{"translate-context":"Content/Library/Card.Button.Label/Verb"}},[t._v(" Follow ")])],1)]:t._e()],2):t._e()])},s=[],n=(a("e25e"),a("bc3a")),r=a.n(n),o=a("add5"),l=a("d4fd"),c={components:{RadioButton:l["a"]},mixins:[o["a"]],props:{initialLibrary:{type:Object,required:!0},displayFollow:{type:Boolean,default:!0},displayScan:{type:Boolean,default:!0},displayCopyFid:{type:Boolean,default:!0}},data:function(){return{library:this.initialLibrary,isLoadingFollow:!1,showScan:!1,scanTimeout:null,latestScan:this.initialLibrary.latest_scan}},computed:{labels:function(){var t=this.$pgettext("Content/Library/Card.Help text","This library is private and your approval from its owner is needed to access its content"),e=this.$pgettext("Content/Library/Card.Help text","This library is public and you can access its content freely");return{tooltips:{me:t,everyone:e}}},scanProgress:function(){var t=this.latestScan,e=100*t.processed_files/t.total_files;return Math.min(parseInt(e),100)},scanStatus:function(){return this.latestScan?this.latestScan.status:"unknown"},canLaunchScan:function(){return"pending"!==this.scanStatus&&"scanning"!==this.scanStatus},radioPlayable:function(){return(this.library.actor.is_local||"finished"===this.scanStatus)&&("everyone"===this.library.privacy_level||this.library.follow&&this.library.follow.is_approved)}},watch:{showScan:function(t,e){t?"pending"!==this.scanStatus&&"scanning"!==this.scanStatus||this.fetchScanStatus():this.scanTimeout&&clearTimeout(this.scanTimeout)}},methods:{launchScan:function(){var t=this,e=this.$pgettext("Content/Library/Message","Scan launched"),a=this.$pgettext("Content/Library/Message","Scan skipped (previous scan is too recent)");r.a.post("federation/libraries/".concat(this.library.uuid,"/scan/")).then((function(i){var s;"skipped"===i.data.status?s=a:(t.latestScan=i.data.scan,s=e),t.$store.commit("ui/addMessage",{content:s,date:new Date})}))},follow:function(){var t=this;this.isLoadingFollow=!0,r.a.post("federation/follows/library/",{target:this.library.uuid}).then((function(e){t.library.follow=e.data,t.isLoadingFollow=!1,t.$emit("followed")}),(function(e){t.isLoadingFollow=!1,t.$store.commit("ui/addMessage",{content:"Cannot follow remote library: "+e,date:new Date})}))},unfollow:function(){var t=this;this.isLoadingFollow=!0,r.a.delete("federation/follows/library/".concat(this.library.follow.uuid,"/")).then((function(e){t.$emit("deleted"),t.library.follow=null,t.isLoadingFollow=!1}),(function(e){t.isLoadingFollow=!1,t.$store.commit("ui/addMessage",{content:"Cannot unfollow remote library: "+e,date:new Date})}))},fetchScanStatus:function(){var t=this;r.a.get("federation/follows/library/".concat(this.library.follow.uuid,"/")).then((function(e){t.latestScan=e.data.target.latest_scan,"pending"===t.scanStatus||"scanning"===t.scanStatus?t.scanTimeout=setTimeout(t.fetchScanStatus(),5e3):clearTimeout(t.scanTimeout)}))}}},u=c,d=a("2877"),p=Object(d["a"])(u,i,s,!1,null,null,null);e["a"]=p.exports},cd7a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{directives:[{name:"title",rawName:"v-title",value:t.labels.title,expression:"labels.title"}]},[a("section",{staticClass:"ui vertical stripe segment"},[a("h2",{staticClass:"ui header"},[a("translate",{attrs:{"translate-context":"Content/Artist/Title"}},[t._v(" Browsing artists ")])],1),a("form",{class:["ui",{loading:t.isLoading},"form"],on:{submit:function(e){e.preventDefault(),t.updatePage(),t.updateQueryString(),t.fetchData()}}},[a("div",{staticClass:"fields"},[a("div",{staticClass:"field"},[a("label",{attrs:{for:"artist-search"}},[a("translate",{attrs:{"translate-context":"Content/Search/Input.Label/Noun"}},[t._v("Artist name")])],1),a("div",{staticClass:"ui action input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],attrs:{id:"artist-search",type:"text",name:"search",placeholder:t.labels.searchPlaceholder},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),a("button",{staticClass:"ui icon button",attrs:{type:"submit","aria-label":t.$pgettext("Content/Search/Input.Label/Noun","Search")}},[a("i",{staticClass:"search icon"})])])]),a("div",{staticClass:"field"},[a("label",{attrs:{for:"tags-search"}},[a("translate",{attrs:{"translate-context":"*/*/*/Noun"}},[t._v("Tags")])],1),a("tags-selector",{model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}})],1),a("div",{staticClass:"field"},[a("label",{attrs:{for:"artist-ordering"}},[a("translate",{attrs:{"translate-context":"Content/Search/Dropdown.Label/Noun"}},[t._v("Ordering")])],1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.ordering,expression:"ordering"}],staticClass:"ui dropdown",attrs:{id:"artist-ordering"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.ordering=e.target.multiple?a:a[0]}}},t._l(t.orderingOptions,(function(e,i){return a("option",{key:i,domProps:{value:e[0]}},[t._v(" "+t._s(t.sharedLabels.filters[e[1]])+" ")])})),0)]),a("div",{staticClass:"field"},[a("label",{attrs:{for:"artist-ordering-direction"}},[a("translate",{attrs:{"translate-context":"Content/Search/Dropdown.Label/Noun"}},[t._v("Ordering direction")])],1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.orderingDirection,expression:"orderingDirection"}],staticClass:"ui dropdown",attrs:{id:"artist-ordering-direction"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.orderingDirection=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"+"}},[a("translate",{attrs:{"translate-context":"Content/Search/Dropdown"}},[t._v(" Ascending ")])],1),a("option",{attrs:{value:"-"}},[a("translate",{attrs:{"translate-context":"Content/Search/Dropdown"}},[t._v(" Descending ")])],1)])]),a("div",{staticClass:"field"},[a("label",{attrs:{for:"artist-results"}},[a("translate",{attrs:{"translate-context":"Content/Search/Dropdown.Label/Noun"}},[t._v("Results per page")])],1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.paginateBy,expression:"paginateBy"}],staticClass:"ui dropdown",attrs:{id:"artist-results"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.paginateBy=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:parseInt(12)}},[t._v(" 12 ")]),a("option",{domProps:{value:parseInt(30)}},[t._v(" 30 ")]),a("option",{domProps:{value:parseInt(50)}},[t._v(" 50 ")])])]),a("div",{staticClass:"field"},[a("span",{attrs:{id:"excludeHeader"}},[t._v("Exclude Compilation Artists")]),a("div",{staticClass:"ui toggle checkbox",attrs:{id:"excludeCompilation"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.excludeCompilation,expression:"excludeCompilation"}],attrs:{id:"exclude-compilation","true-value":"true","false-value":"null",type:"checkbox"},domProps:{checked:Array.isArray(t.excludeCompilation)?t._i(t.excludeCompilation,null)>-1:t._q(t.excludeCompilation,"true")},on:{change:function(e){var a=t.excludeCompilation,i=e.target,s=i.checked?"true":"null";if(Array.isArray(a)){var n=null,r=t._i(a,n);i.checked?r<0&&(t.excludeCompilation=a.concat([n])):r>-1&&(t.excludeCompilation=a.slice(0,r).concat(a.slice(r+1)))}else t.excludeCompilation=s}}}),a("label",{staticClass:"visually-hidden",attrs:{for:"exclude-compilation"}},[a("translate",{attrs:{"translate-context":"Content/Search/Checkbox/Noun"}},[t._v("Exclude Compilation Artists")])],1)])])])]),a("div",{staticClass:"ui hidden divider"}),t.result&&t.result.results.length>0?a("div",{staticClass:"ui five app-cards cards"},[t.isLoading?a("div",{staticClass:"ui inverted active dimmer"},[a("div",{staticClass:"ui loader"})]):t._e(),t._l(t.result.results,(function(t){return a("artist-card",{key:t.id,attrs:{artist:t}})}))],2):t.isLoading?t._e():a("div",{staticClass:"ui placeholder segment sixteen wide column",staticStyle:{"text-align":"center",display:"flex","align-items":"center"}},[a("div",{staticClass:"ui icon header"},[a("i",{staticClass:"compact disc icon"}),a("translate",{attrs:{"translate-context":"Content/Artists/Placeholder"}},[t._v(" No results matching your query ")])],1),t.$store.state.auth.authenticated?a("router-link",{staticClass:"ui success button labeled icon",attrs:{to:{name:"content.index"}}},[a("i",{staticClass:"upload icon"}),a("translate",{attrs:{"translate-context":"Content/*/Verb"}},[t._v(" Add some music ")])],1):t._e()],1),a("div",{staticClass:"ui center aligned basic segment"},[t.result&&t.result.count>t.paginateBy?a("pagination",{attrs:{current:t.page,"paginate-by":t.paginateBy,total:t.result.count},on:{"page-changed":t.selectPage}}):t._e()],1)])])},s=[],n=(a("e25e"),a("4de4"),a("d3b7"),a("d401"),a("25f0"),a("3ca3"),a("ddb0"),a("9861"),a("4328")),r=a.n(n),o=a("bc3a"),l=a.n(o),c=a("1157"),u=a.n(c),d=a("3677"),p=a("20be"),b=a("38b2"),h=a("64c4"),g=a("0292"),m=a("1799"),f=a("8352"),v="artists/",y={components:{ArtistCard:g["a"],Pagination:m["a"],TagsSelector:f["a"]},mixins:[p["a"],b["a"],h["a"]],props:{defaultQuery:{type:String,required:!1,default:""},defaultTags:{type:Array,required:!1,default:function(){return[]}},scope:{type:String,required:!1,default:"all"}},data:function(){return{isLoading:!0,result:null,excludeCompilation:!0,page:parseInt(this.defaultPage),query:this.defaultQuery,tags:(this.defaultTags||[]).filter((function(t){return t.length>0})),orderingOptions:[["creation_date","creation_date"],["name","name"]]}},computed:{labels:function(){var t=this.$pgettext("Content/Search/Input.Placeholder","Search…"),e=this.$pgettext("*/*/*/Noun","Artists");return{searchPlaceholder:t,title:e}}},watch:{page:function(){this.updateQueryString(),this.fetchData()},"$store.state.moderation.lastUpdate":function(){this.fetchData()},excludeCompilation:function(){this.fetchData()}},created:function(){this.fetchData()},mounted:function(){u()(".ui.dropdown").dropdown()},methods:{updateQueryString:function(){history.pushState({},null,this.$route.path+"?"+new URLSearchParams({query:this.query,page:this.page,tag:this.tags,paginateBy:this.paginateBy,ordering:this.getOrderingAsString(),content_category:"music",include_channels:!0}).toString())},fetchData:function(){var t=this;this.isLoading=!0;var e=v,a={scope:this.scope,page:this.page,page_size:this.paginateBy,has_albums:this.excludeCompilation,q:this.query,ordering:this.getOrderingAsString(),playable:"true",tag:this.tags,include_channels:"true",content_category:"music"};d["a"].default.debug("Fetching artists"),l.a.get(e,{params:a,paramsSerializer:function(t){return r.a.stringify(t,{indices:!1})}}).then((function(e){t.result=e.data,t.isLoading=!1}),(function(){t.result=null,t.isLoading=!1}))},selectPage:function(t){this.page=t},updatePage:function(){this.page=this.defaultPage}}},C=y,x=a("2877"),_=Object(x["a"])(C,i,s,!1,null,null,null);e["default"]=_.exports},d4fd:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{class:["ui","primary",{inverted:t.running},"icon","labeled","button"],on:{click:t.toggleRadio}},[a("i",{staticClass:"ui feed icon",attrs:{role:"button"}}),t.running?[a("translate",{attrs:{"translate-context":"*/Player/Button.Label/Short, Verb"}},[t._v(" Stop radio ")])]:[a("translate",{attrs:{"translate-context":"*/Queue/Button.Label/Short, Verb"}},[t._v(" Play radio ")])]],2)},s=[],n=(a("a9e3"),a("ceb5")),r={props:{customRadioId:{type:Number,required:!1,default:null},type:{type:String,required:!1,default:""},clientOnly:{type:Boolean,default:!1},objectId:{type:[String,Number,Object],default:null}},computed:{running:function(){var t=this.$store.state.radios,e=t.current;return!!t.running&&(e.type===this.type&&n["a"].isEqual(e.objectId,this.objectId)&&e.customRadioId===this.customRadioId)}},methods:{toggleRadio:function(){this.running?this.$store.dispatch("radios/stop"):this.$store.dispatch("radios/start",{type:this.type,objectId:this.objectId,customRadioId:this.customRadioId,clientOnly:this.clientOnly})}}},o=r,l=a("2877"),c=Object(l["a"])(o,i,s,!1,null,null,null);e["a"]=c.exports},e9c4:function(t,e,a){var i=a("23e7"),s=a("da84"),n=a("d066"),r=a("2ba4"),o=a("e330"),l=a("d039"),c=s.Array,u=n("JSON","stringify"),d=o(/./.exec),p=o("".charAt),b=o("".charCodeAt),h=o("".replace),g=o(1..toString),m=/[\uD800-\uDFFF]/g,f=/^[\uD800-\uDBFF]$/,v=/^[\uDC00-\uDFFF]$/,y=function(t,e,a){var i=p(a,e-1),s=p(a,e+1);return d(f,t)&&!d(v,s)||d(v,t)&&!d(f,i)?"\\u"+g(b(t,0),16):t},C=l((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&i({target:"JSON",stat:!0,forced:C},{stringify:function(t,e,a){for(var i=0,s=arguments.length,n=c(s);i<s;i++)n[i]=arguments[i];var o=r(u,null,n);return"string"==typeof o?h(o,m,y):o}})}}]);