(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["core"],{"0119":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main pusher page-library"},[a("router-view",{key:t.$router.currentRoute.fullPath})],1)},i=[],n={computed:{showImports:function(){return this.$store.state.auth.availablePermissions.upload||this.$store.state.auth.availablePermissions.library},labels:function(){return{secondaryMenu:this.$pgettext("Menu/*/Hidden text","Secondary menu")}}}},r=n,o=a("2877"),l=Object(o["a"])(r,s,i,!1,null,null,null);e["default"]=l.exports},"04d1":function(t,e,a){var s=a("342f"),i=s.match(/firefox\/(\d+)/i);t.exports=!!i&&+i[1]},"06cd":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[t.$slots.title?a("h3",{staticClass:"ui header"},[t._t("title")],2):t._e(),!t.isLoading&&t.libraries.length>0?a("p",{staticClass:"ui subtitle"},[t._t("subtitle")],2):t._e(),t.isLoading||0!==t.libraries.length?t._e():a("p",{staticClass:"ui subtitle"},[a("translate",{attrs:{"translate-context":"Content/Federation/Paragraph"}},[t._v(" No matching library. ")])],1),a("div",{staticClass:"ui hidden divider"}),a("div",{staticClass:"ui cards"},[t.isLoading?a("div",{staticClass:"ui inverted active dimmer"},[a("div",{staticClass:"ui loader"})]):t._e(),t._l(t.libraries,(function(e){return a("library-card",{key:e.uuid,attrs:{"display-scan":!1,"display-follow":t.$store.state.auth.authenticated&&e.actor.full_username!=t.$store.state.auth.fullUsername,"initial-library":e,"display-copy-fid":!0}})}))],2),t.nextPage?[a("div",{staticClass:"ui hidden divider"}),t.nextPage?a("button",{class:["ui","basic","button"],on:{click:function(e){return t.fetchData(t.nextPage)}}},[a("translate",{attrs:{"translate-context":"*/*/Button,Label"}},[t._v(" Show more ")])],1):t._e()]:t._e()],2)},i=[],n=a("2909"),r=(a("99af"),a("ceb5")),o=a("bc3a"),l=a.n(o),c=a("c395"),u={components:{LibraryCard:c["a"]},props:{url:{type:String,required:!0}},data:function(){return{libraries:[],limit:6,isLoading:!1,errors:null,previousPage:null,nextPage:null}},watch:{offset:function(){this.fetchData()}},created:function(){this.fetchData(this.url)},methods:{fetchData:function(t){this.isLoading=!0;var e=this,a=r["a"].clone({});a.page_size=this.limit,a.offset=this.offset,l.a.get(t,{params:a}).then((function(t){e.previousPage=t.data.previous,e.nextPage=t.data.next,e.isLoading=!1,e.libraries=[].concat(Object(n["a"])(e.libraries),Object(n["a"])(t.data.results)),e.$emit("loaded",e.libraries)}),(function(t){e.isLoading=!1,e.errors=t.backendErrors}))},updateOffset:function(t){t?this.offset+=this.limit:this.offset=Math.max(this.offset-this.limit,0)}}},d=u,p=a("2877"),h=Object(p["a"])(d,s,i,!1,null,null,null);e["a"]=h.exports},2241:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{id:"layer_1",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 141.7 141.7","enable-background":"new 0 0 141.7 141.7","xml:space":"preserve"}},[a("g",[a("g",[a("path",{attrs:{fill:t.fill,d:"M70.9,86.1c11.7,0,21.2-9.5,21.2-21.2c0-0.6-0.5-1.1-1.1-1.1h-8c-0.6,0-1.1,0.5-1.1,1.1c0,6-4.9,11-11,11\n      c-6,0-11-4.9-11-11c0-0.6-0.5-1.1-1.1-1.1h-8c-0.6,0-1.1,0.5-1.1,1.1C49.7,76.6,59.2,86.1,70.9,86.1z"}}),a("path",{attrs:{fill:t.fill,d:"M70.9,106.1c22.7,0,41.2-18.5,41.2-41.2c0-0.6-0.5-1.1-1.1-1.1h-8c-0.6,0-1.1,0.5-1.1,1.1\n      c0,17.1-13.9,31-31,31c-17.1,0-31-13.9-31-31c0-0.6-0.5-1.1-1.1-1.1h-8c-0.6,0-1.1,0.5-1.1,1.1C29.6,87.6,48.1,106.1,70.9,106.1z"}}),a("path",{attrs:{fill:t.fill,d:"M131.1,63.8h-8c-0.6,0-1.1,0.5-1.1,1.1C122,93.1,99,116,70.9,116c-28.2,0-51.1-22.9-51.1-51.1\n      c0-0.6-0.5-1.1-1.1-1.1h-8c-0.6,0-1.1,0.5-1.1,1.1c0,33.8,27.5,61.3,61.3,61.3c33.8,0,61.3-27.5,61.3-61.3\n      C132.2,64.3,131.7,63.8,131.1,63.8z"}})]),a("path",{attrs:{fill:t.fill,d:"M43.3,37.3c4.1,2.1,8.5,2.5,12.5,4.8c2.6,1.5,4.2,3.2,5.8,5.7c2.5,3.8,2.4,8.5,2.4,8.5l0.3,5.2\n    c0,0,2,5.2,6.4,5.2c4.7,0,6.4-5.2,6.4-5.2l0.3-5.2c0,0-0.1-4.7,2.4-8.5c1.6-2.5,3.2-4.3,5.8-5.7c4-2.3,8.4-2.7,12.5-4.8\n    c4.1-2.1,8.1-4.8,10.8-8.6c2.7-3.8,4-8.8,2.5-13.2c-7.8-0.4-16.8,0.5-23.7,4.2c-9.6,5.1-15.4,3.3-17.1,10.9h-0.1\n    c-1.7-7.7-7.5-5.8-17.1-10.9c-6.9-3.7-15.9-4.6-23.7-4.2c-1.5,4.4-0.2,9.4,2.5,13.2C35.2,32.5,39.2,35.2,43.3,37.3z"}})])])},i=[],n={props:{fill:{type:String,default:"#222222"}}},r=n,o=a("2877"),l=Object(o["a"])(r,s,i,!1,null,null,null);e["a"]=l.exports},"23c8":function(t,e,a){"use strict";a("8bbd")},"25ba":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"ui form",on:{submit:function(e){return e.preventDefault(),t.submit()}}},[t.error?a("div",{staticClass:"ui negative message",attrs:{role:"alert"}},[a("h4",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Content/Login/Error message.Title"}},[t._v(" We cannot log you in ")])],1),a("ul",{staticClass:"list"},["invalid_credentials"==t.error&&t.$store.state.instance.settings.moderation.signup_approval_enabled.value?a("li",[a("translate",{attrs:{"translate-context":"Content/Login/Error message.List item/Call to action"}},[t._v(" If you signed-up recently, you may need to wait before our moderation team review your account, or verify your e-mail address. ")])],1):"invalid_credentials"==t.error?a("li",[a("translate",{attrs:{"translate-context":"Content/Login/Error message.List item/Call to action"}},[t._v(" Please double-check that your username and password combination is correct and make sure you verified your e-mail address. ")])],1):a("li",[t._v(" "+t._s(t.error)+" ")])])]):t._e(),t.$store.getters["instance/appDomain"]===t.$store.getters["instance/domain"]?[a("div",{staticClass:"field"},[a("label",{attrs:{for:"username-field"}},[a("translate",{attrs:{"translate-context":"Content/Login/Input.Label/Noun"}},[t._v("Username or e-mail address")]),t.showSignup?[t._v(" | "),a("router-link",{attrs:{to:{path:"/signup"}}},[a("translate",{attrs:{"translate-context":"*/Signup/Link/Verb"}},[t._v("Create an account")])],1)]:t._e()],2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.username,expression:"credentials.username"}],ref:"username",attrs:{id:"username-field",required:"",name:"username",type:"text",autofocus:"",placeholder:t.labels.usernamePlaceholder},domProps:{value:t.credentials.username},on:{input:function(e){e.target.composing||t.$set(t.credentials,"username",e.target.value)}}})]),a("div",{staticClass:"field"},[a("label",{attrs:{for:"password-field"}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Password")]),t._v(" | "),a("router-link",{attrs:{tabindex:"1",to:{name:"auth.password-reset",query:{email:t.credentials.username}}}},[a("translate",{attrs:{"translate-context":"*/Login/*/Verb"}},[t._v("Reset your password")])],1)],1),a("password-input",{attrs:{"field-id":"password-field",required:""},model:{value:t.credentials.password,callback:function(e){t.$set(t.credentials,"password",e)},expression:"credentials.password"}})],1)]:[a("p",[a("translate",{attrs:{"translate-context":"Contant/Auth/Paragraph","translate-params":{domain:t.$store.getters["instance/domain"]}}},[t._v(" You will be redirected to %{ domain } to authenticate. ")])],1)],a("button",{class:["ui",{loading:t.isLoading},"right","floated",t.buttonClasses,"button"],attrs:{type:"submit"}},[a("translate",{attrs:{"translate-context":"*/Login/*/Verb"}},[t._v(" Login ")])],1)],2)},i=[],n=a("c7eb"),r=a("1da1"),o=a("663d"),l={components:{PasswordInput:o["a"]},props:{next:{type:String,default:"/library"},buttonClasses:{type:String,default:"success"},showSignup:{type:Boolean,default:!0}},data:function(){return{credentials:{username:"",password:""},error:"",isLoading:!1}},computed:{labels:function(){var t=this.$pgettext("Content/Login/Input.Placeholder","Enter your username or e-mail address");return{usernamePlaceholder:t}}},created:function(){this.$store.state.auth.authenticated&&this.$router.push(this.next)},mounted:function(){this.$refs.username&&this.$refs.username.focus()},methods:{submit:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$store.getters["instance/appDomain"]!==t.$store.getters["instance/domain"]){e.next=6;break}return e.next=3,t.submitSession();case 3:return e.abrupt("return",e.sent);case 6:return t.isLoading=!0,e.next=9,t.$store.dispatch("auth/oauthLogin",t.next);case 9:case"end":return e.stop()}}),e)})))()},submitSession:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){var a,s;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,a.isLoading=!0,t.error="",s={username:t.credentials.username,password:t.credentials.password},t.$store.dispatch("auth/login",{credentials:s,next:t.next,onError:function(t){400===t.response.status?a.error="invalid_credentials":a.error=t.backendErrors[0]}}).then((function(t){a.isLoading=!1}));case 5:case"end":return e.stop()}}),e)})))()}}},c=l,u=a("2877"),d=Object(u["a"])(c,s,i,!1,null,null,null);e["a"]=d.exports},"25f0":function(t,e,a){"use strict";var s=a("e330"),i=a("5e77").PROPER,n=a("6eeb"),r=a("825a"),o=a("3a9b"),l=a("577e"),c=a("d039"),u=a("ad6d"),d="toString",p=RegExp.prototype,h=p[d],m=s(u),f=c((function(){return"/a/b"!=h.call({source:"a",flags:"b"})})),b=i&&h.name!=d;(f||b)&&n(RegExp.prototype,d,(function(){var t=r(this),e=l(t.source),a=t.flags,s=l(void 0===a&&o(p,t)&&!("flags"in p)?m(t):a);return"/"+e+"/"+s}),{unsafe:!0})},2696:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui app-card card"},[a("div",{class:["ui","head-image","squares"],on:{click:function(e){return t.$router.push({name:"library.playlists.detail",params:{id:t.playlist.id}})}}},[t._l(t.images,(function(t,e){return a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"url"}],key:e,attrs:{alt:""}})})),a("play-button",{attrs:{"icon-only":!0,"is-playable":t.playlist.is_playable,"button-classes":["ui","circular","large","vibrant","icon","button"],playlist:t.playlist}})],2),a("div",{staticClass:"content"},[a("strong",[a("router-link",{staticClass:"discrete link",attrs:{to:{name:"library.playlists.detail",params:{id:t.playlist.id}}}},[t._v(" "+t._s(t.playlist.name)+" ")])],1),a("div",{staticClass:"description"},[a("user-link",{staticClass:"left floated",attrs:{user:t.playlist.user,avatar:!1}})],1)]),a("div",{staticClass:"extra content"},[a("translate",{attrs:{"translate-context":"*/*/*","translate-params":{count:t.playlist.tracks_count},"translate-n":t.playlist.tracks_count,"translate-plural":"%{ count } tracks"}},[t._v(" %{ count } track ")]),a("play-button",{staticClass:"right floated basic icon",attrs:{"dropdown-only":!0,"is-playable":t.playlist.is_playable,"dropdown-icon-classes":["ellipsis","horizontal","large really discrete"],playlist:t.playlist}})],1)])},i=[],n=(a("fb6a"),a("d81d"),a("a3e6")),r={components:{PlayButton:n["a"]},props:{playlist:{type:Object,required:!0}},computed:{images:function(){var t=this,e=this.playlist.album_covers.map((function(e){return t.$store.getters["instance/absoluteUrl"](e)})).slice(0,4);while(e.length<4)e.push(a("271e"));return e}}},o=r,l=a("2877"),c=Object(l["a"])(o,s,i,!1,null,null,null);e["a"]=c.exports},"2d0e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui toast-container"},[t._l(t.$store.state.ui.messages,(function(t){return a("message",{key:t.key,attrs:{message:t}})})),t._t("default")],2)},i=[],n={},r=n,o=a("2877"),l=Object(o["a"])(r,s,i,!1,null,null,null);e["default"]=l.exports},"2d3b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{directives:[{name:"title",rawName:"v-title",value:t.labels.title,expression:"labels.title"}],staticClass:"main pusher"},[a("section",{staticClass:"ui vertical stripe segment"},[t.initialId?a("div",{staticClass:"ui small text container"},[a("h2",[t._v(t._s(t.labels.title))]),a("remote-search-form",{attrs:{"initial-id":t.initialId,type:t.initialType}})],1):a("div",{staticClass:"ui container"},[a("h2",[a("label",{attrs:{for:"query"}},[a("translate",{attrs:{"translate-context":"Content/Search/Input.Label/Noun"}},[t._v("Search")])],1)]),a("form",{staticClass:"ui form",on:{submit:function(e){e.preventDefault(),t.page=1,t.search()}}},[a("div",{staticClass:"ui field"},[a("div",{staticClass:"ui action input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"ui input",attrs:{id:"query",name:"query",type:"text"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),a("button",{staticClass:"ui icon button",attrs:{"aria-label":t.labels.submitSearch,type:"submit"}},[a("i",{staticClass:"search icon"})])])])]),a("div",{staticClass:"ui secondary pointing menu"},t._l(t.types,(function(e){return a("a",{key:e.id,class:["item",{active:t.type===e.id}],attrs:{href:""},on:{click:function(a){a.preventDefault(),t.type=e.id}}},[t._v(" "+t._s(e.label)+" "),t.results[e.id]?a("span",{staticClass:"ui circular mini right floated label"},[t._v(" "+t._s(t.results[e.id].count))]):t._e()])})),0),t.isLoading?a("div",[t.isLoading?a("div",{staticClass:"ui inverted active dimmer"},[a("div",{staticClass:"ui loader"})]):t._e()]):t.currentResults&&0!==t.currentResults.count?"artists"===t.type||"podcasts"===t.type?a("div",{staticClass:"ui five app-cards cards"},t._l(t.currentResults.results,(function(t){return a("artist-card",{key:t.id,attrs:{artist:t}})})),1):"albums"===t.type||"series"===t.type?a("div",{staticClass:"ui five app-cards cards"},t._l(t.currentResults.results,(function(t){return a("album-card",{key:t.id,attrs:{album:t}})})),1):"tracks"===t.type?a("track-table",{attrs:{tracks:t.currentResults.results}}):"playlists"===t.type?a("playlist-card-list",{attrs:{playlists:t.currentResults.results}}):"radios"===t.type?a("div",{staticClass:"ui cards"},t._l(t.currentResults.results,(function(t){return a("radio-card",{key:t.id,attrs:{type:"custom","custom-radio":t}})})),1):"tags"===t.type?a("tags-list",{attrs:{"truncate-size":200,limit:t.paginateBy,tags:t.currentResults.results.map((function(t){return t.name}))}}):t._e():a("empty-state",{attrs:{refresh:!0},on:{refresh:t.search}}),t.currentResults&&t.currentResults.count>t.paginateBy?a("pagination",{attrs:{current:t.page,"paginate-by":t.paginateBy,total:t.currentResults.count},on:{"page-changed":function(e){t.page=e}}}):t._e()],1)])])},i=[],n=a("c7eb"),r=a("1da1"),o=(a("a9e3"),a("d3b7"),a("3ca3"),a("ddb0"),a("9861"),a("4de4"),a("ac1f"),a("841c"),a("4160"),a("159b"),a("d401"),a("25f0"),a("ace9")),l=a("0292"),c=a("af03"),u=a("5a65"),d=a("1799"),p=a("8479"),h=a("b5e5"),m=a("6b08"),f=a("bc3a"),b=a.n(f),v={components:{RemoteSearchForm:o["a"],ArtistCard:l["a"],AlbumCard:c["a"],TrackTable:u["a"],Pagination:d["a"],PlaylistCardList:p["a"],RadioCard:h["a"],TagsList:m["a"]},props:{initialId:{type:String,required:!1,default:""},initialType:{type:String,required:!1,default:""},initialQuery:{type:String,required:!1,default:""},initialPage:{type:Number,required:!1,default:0}},data:function(){return{query:this.initialQuery,type:this.initialType,page:this.initialPage,results:{artists:null,albums:null,tracks:null,playlists:null,radios:null,tags:null,podcasts:null,series:null},isLoading:!1,paginateBy:25}},computed:{labels:function(){var t=this.$pgettext("Content/Search/Button.Label/Verb","Submit Search Query"),e=this.$pgettext("Content/Search/Input.Label/Noun","Search");return this.initialId&&(e=this.$pgettext("Head/Fetch/Title","Search a remote object"),"rss"===this.type&&(e=this.$pgettext("Head/Fetch/Title","Subscribe to a podcast RSS feed"))),{title:e,submitSearch:t}},axiosParams:function(){var t=new URLSearchParams;return t.append("q",this.query),t.append("page",this.page),t.append("page_size",this.paginateBy),void 0!==this.currentType.contentCategory&&t.append("content_category",this.currentType.contentCategory),void 0!==this.currentType.includeChannels&&t.append("include_channels",this.currentType.includeChannels),t},types:function(){return[{id:"artists",label:this.$pgettext("*/*/*/Noun","Artists"),includeChannels:!0,contentCategory:"music"},{id:"albums",label:this.$pgettext("*/*/*","Albums"),includeChannels:!0,contentCategory:"music"},{id:"tracks",label:this.$pgettext("*/*/*","Tracks")},{id:"playlists",label:this.$pgettext("*/*/*","Playlists")},{id:"radios",label:this.$pgettext("*/*/*","Radios"),endpoint:"radios/radios"},{id:"tags",label:this.$pgettext("*/*/*","Tags")},{id:"podcasts",label:this.$pgettext("*/*/*","Podcasts"),endpoint:"/artists",contentCategory:"podcast",includeChannels:!0},{id:"series",label:this.$pgettext("*/*/*","Series"),endpoint:"/albums",includeChannels:!0,contentCategory:"podcast"}]},currentType:function(){var t=this;return this.types.filter((function(e){return e.id===t.type}))[0]},currentResults:function(){return this.results[this.currentType.id]}},watch:{type:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.page=1,t.updateQueryString(),e.next=4,t.search();case 4:case"end":return e.stop()}}),e)})))()},page:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.updateQueryString(),e.next=3,t.search();case 3:case"end":return e.stop()}}),e)})))()},"$route.query.q":function(){var t=Object(r["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.query=e,this.updateQueryString(),t.next=4,this.search();case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},created:function(){this.search()},methods:{search:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.updateQueryString(),t.query){e.next=4;break}return t.types.forEach((function(e){t.results[e.id]=null})),e.abrupt("return");case 4:return t.isLoading=!0,e.next=7,b.a.get(t.currentType.endpoint||t.currentType.id,{params:t.axiosParams});case 7:a=e.sent,t.results[t.currentType.id]=a.data,t.isLoading=!1,t.types.forEach((function(e){e.id!==t.currentType.id&&b.a.get(e.endpoint||e.id,{params:{q:t.query,page_size:1,content_category:e.contentCategory,include_channels:e.includeChannels}}).then((function(a){t.results[e.id]=a.data}))}));case 11:case"end":return e.stop()}}),e)})))()},updateQueryString:function(){history.pushState({},null,this.$route.path+"?"+new URLSearchParams({q:this.query,page:this.page,type:this.type}).toString())}}},g=v,y=a("2877"),C=Object(y["a"])(g,s,i,!1,null,null,null);e["default"]=C.exports},4289:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{directives:[{name:"title",rawName:"v-title",value:t.labels.usernameProfile,expression:"labels.usernameProfile"}],staticClass:"main pusher page-profile"},[t.isLoading?a("div",{staticClass:"ui vertical segment"},[a("div",{staticClass:"ui centered active inline loader"})]):t._e(),a("div",{staticClass:"ui head vertical stripe segment container"},[t.object?a("div",{staticClass:"ui stackable grid"},[a("div",{staticClass:"ui five wide column"},[a("button",{directives:[{name:"dropdown",rawName:"v-dropdown",value:{direction:"downward"},expression:"{direction: 'downward'}"}],ref:"dropdown",staticClass:"ui pointing dropdown icon small basic right floated button",staticStyle:{position:"absolute",right:"1em",top:"1em"}},[a("i",{staticClass:"ellipsis vertical icon"}),a("div",{staticClass:"menu"},[t.object.domain!=t.$store.getters["instance/domain"]?a("a",{staticClass:"basic item",attrs:{href:t.object.fid,target:"_blank"}},[a("i",{staticClass:"external icon"}),a("translate",{attrs:{"translate-params":{domain:t.object.domain},"translate-context":"Content/*/Button.Label/Verb"}},[t._v("View on %{ domain }")])],1):t._e(),t._l(t.getReportableObjs({account:t.object}),(function(e){return a("div",{key:e.target.type+e.target.id,staticClass:"basic item",attrs:{role:"button"},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.$store.dispatch("moderation/report",e.target)}}},[a("i",{staticClass:"share icon"}),t._v(" "+t._s(e.label)+" ")])})),a("div",{staticClass:"divider"}),t.$store.state.auth.availablePermissions["moderation"]?a("router-link",{staticClass:"basic item",attrs:{to:{name:"manage.moderation.accounts.detail",params:{id:t.object.full_username}}}},[a("i",{staticClass:"wrench icon"}),a("translate",{attrs:{"translate-context":"Content/Moderation/Link"}},[t._v(" Open in moderation interface ")])],1):t._e()],2)]),a("h1",{staticClass:"ui center aligned icon header"},[t.object.icon?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.getters["instance/absoluteUrl"](t.object.icon.urls.medium_square_crop),expression:"$store.getters['instance/absoluteUrl'](object.icon.urls.medium_square_crop)"}],staticClass:"ui big circular image",attrs:{alt:""}}):a("i",{staticClass:"circular inverted user success icon"}),a("div",{staticClass:"ellispsis content"},[a("div",{staticClass:"ui very small hidden divider"}),a("span",[t._v(t._s(t.displayName))]),a("div",{staticClass:"ui very small hidden divider"}),a("div",{staticClass:"sub header ellipsis",attrs:{title:t.object.full_username}},[t._v(" "+t._s(t.object.full_username)+" ")])]),t.object.full_username===t.$store.state.auth.fullUsername?[a("div",{staticClass:"ui very small hidden divider"}),a("div",{staticClass:"ui basic success label"},[a("translate",{attrs:{"translate-context":"Content/Profile/Button.Paragraph"}},[t._v(" This is you! ")])],1)]:t._e()],2),a("div",{staticClass:"ui small hidden divider"}),"large"===t.$store.getters["ui/layoutVersion"]?a("div",[a("rendered-description",{attrs:{content:t.object.summary,"field-name":"summary","update-url":"users/"+t.$store.state.auth.username+"/","can-update":t.$store.state.auth.authenticated&&t.object.full_username===t.$store.state.auth.fullUsername},on:{updated:function(e){return t.$emit("updated",e)}}})],1):t._e()]),a("div",{staticClass:"ui eleven wide column"},[a("div",{staticClass:"ui head vertical stripe segment"},[a("div",{staticClass:"ui container"},[a("div",{staticClass:"ui secondary pointing center aligned menu"},[a("router-link",{staticClass:"item",attrs:{exact:!0,to:{name:"profile.overview",params:t.routerParams}}},[a("translate",{attrs:{"translate-context":"Content/Profile/Link"}},[t._v(" Overview ")])],1),a("router-link",{staticClass:"item",attrs:{exact:!0,to:{name:"profile.activity",params:t.routerParams}}},[a("translate",{attrs:{"translate-context":"Content/Profile/*"}},[t._v(" Activity ")])],1)],1),a("div",{staticClass:"ui hidden divider"}),a("router-view",{attrs:{object:t.object},on:{updated:t.fetch}})],1)])])]):t._e()])])},i=[],n=(a("99af"),a("bc3a")),r=a.n(n),o=a("add5"),l={mixins:[o["a"]],beforeRouteUpdate:function(t,e,a){t.meta.preserveScrollPosition=!0,a()},props:{username:{type:String,required:!0},domain:{type:String,required:!1,default:null}},data:function(){return{object:null,isLoading:!1}},computed:{labels:function(){var t=this.$pgettext("Head/Profile/Title","%{ username }'s profile"),e=this.$gettextInterpolate(t,{username:this.username});return{usernameProfile:e}},fullUsername:function(){return this.username&&this.domain?"".concat(this.username,"@").concat(this.domain):"".concat(this.username,"@").concat(this.$store.getters["instance/domain"])},routerParams:function(){return this.domain?{username:this.username,domain:this.domain}:{username:this.username}},displayName:function(){return this.object.name||this.object.preferred_username}},watch:{domain:function(){this.fetch()},username:function(){this.fetch()}},created:function(){var t=this.$store.state.auth.authenticated;!t&&this.domain&&this.$store.getters["instance/domain"]!==this.domain?this.$router.push({name:"login",query:{next:this.$route.fullPath}}):this.fetch()},methods:{fetch:function(){var t=this;t.object=null,t.isLoading=!0,r.a.get("federation/actors/".concat(this.fullUsername,"/")).then((function(e){t.object=e.data,t.isLoading=!1}))}}},c=l,u=a("2877"),d=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=d.exports},"42e0":function(t,e,a){t.exports=a.p+"img/network.5c87b566.png"},"42ec":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main pusher",attrs:{"v-title":t.labels.title}},[a("section",{staticClass:"ui vertical stripe segment"},[a("div",{staticClass:"ui text container"},[a("h1",{staticClass:"ui huge header"},[a("i",{staticClass:"warning icon"}),a("div",{staticClass:"content"},[a("translate",{attrs:{"translate-context":"Content/*/Title"}},[t._v(" Page not found! ")])],1)]),a("p",[a("translate",{attrs:{"translate-context":"Content/*/Paragraph"}},[t._v(" Sorry, the page you asked for does not exist: ")])],1),a("a",{attrs:{href:t.path}},[t._v(t._s(t.path))]),a("div",{staticClass:"ui hidden divider"}),a("router-link",{staticClass:"ui icon labeled right button",attrs:{to:"/"}},[a("translate",{attrs:{"translate-context":"Content/*/Button.Label/Verb"}},[t._v(" Go to home page ")]),a("i",{staticClass:"right arrow icon"})],1)],1)])])},i=[],n={data:function(){return{path:window.location.href}},computed:{labels:function(){return{title:this.$pgettext("Head/*/Title","Page Not Found")}}}},r=n,o=a("2877"),l=Object(o["a"])(r,s,i,!1,null,null,null);e["default"]=l.exports},"498a":function(t,e,a){"use strict";var s=a("23e7"),i=a("58a8").trim,n=a("c8d2");s({target:"String",proto:!0,forced:n("trim")},{trim:function(){return i(this)}})},"4e82":function(t,e,a){"use strict";var s=a("23e7"),i=a("e330"),n=a("59ed"),r=a("7b0b"),o=a("07fa"),l=a("577e"),c=a("d039"),u=a("addb"),d=a("a640"),p=a("04d1"),h=a("d998"),m=a("2d00"),f=a("512c"),b=[],v=i(b.sort),g=i(b.push),y=c((function(){b.sort(void 0)})),C=c((function(){b.sort(null)})),_=d("sort"),w=!c((function(){if(m)return m<70;if(!(p&&p>3)){if(h)return!0;if(f)return f<603;var t,e,a,s,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:a=3;break;case 68:case 71:a=4;break;default:a=2}for(s=0;s<47;s++)b.push({k:e+s,v:a})}for(b.sort((function(t,e){return e.v-t.v})),s=0;s<b.length;s++)e=b[s].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}})),x=y||!C||!_||!w,k=function(t){return function(e,a){return void 0===a?-1:void 0===e?1:void 0!==t?+t(e,a)||0:l(e)>l(a)?1:-1}};s({target:"Array",proto:!0,forced:x},{sort:function(t){void 0!==t&&n(t);var e=r(this);if(w)return void 0===t?v(e):v(e,t);var a,s,i=[],l=o(e);for(s=0;s<l;s++)s in e&&g(i,e[s]);u(i,k(t)),a=i.length,s=0;while(s<a)e[s]=i[s++];while(s<l)delete e[s++];return e}})},"512c":function(t,e,a){var s=a("342f"),i=s.match(/AppleWebKit\/(\d+)\./);t.exports=!!i&&+i[1]},"57da":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{directives:[{name:"title",rawName:"v-title",value:t.labels.title,expression:"labels.title"}],staticClass:"main pusher page-home"},[a("section",{class:["ui","head",{"with-background":t.banner},"vertical","center","aligned","stripe","segment"],style:t.headerStyle},[a("div",{staticClass:"segment-content"},[a("h1",{staticClass:"ui center aligned large header"},[a("span",{directives:[{name:"translate",rawName:"v-translate",value:{podName:t.podName},expression:"{podName: podName}"}],attrs:{"translate-context":"Content/Home/Header","translate-params":{podName:t.podName}}},[t._v(" Welcome to %{ podName }! ")]),t.shortDescription?a("div",{staticClass:"sub header"},[t._v(" "+t._s(t.shortDescription)+" ")]):t._e()])])]),a("section",{staticClass:"ui vertical stripe segment"},[a("div",{staticClass:"ui stackable grid"},[a("div",{staticClass:"ten wide column"},[a("h2",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Content/Home/Header"}},[t._v(" About this Funkwhale pod ")])],1),a("div",{staticClass:"ui raised segment",attrs:{id:"pod"}},[a("div",{staticClass:"ui stackable grid"},[a("div",{staticClass:"eight wide column"},[t.renderedDescription?t._e():a("p",[a("translate",{attrs:{"translate-context":"Content/Home/Paragraph"}},[t._v(" No description available. ")])],1),t.renderedDescription||t.rules?[t.renderedDescription?a("div",{attrs:{id:"renderedDescription"},domProps:{innerHTML:t._s(t.renderedDescription)}}):t._e(),t.renderedDescription?a("div",{staticClass:"ui hidden divider"}):t._e(),a("div",{staticClass:"ui relaxed list"},[t.renderedDescription?a("div",{staticClass:"item"},[a("i",{staticClass:"arrow right icon"}),a("div",{staticClass:"content"},[a("router-link",{staticClass:"ui link",attrs:{to:{name:"about"}}},[a("translate",{attrs:{"translate-context":"Content/Home/Link"}},[t._v(" Learn more ")])],1)],1)]):t._e(),t.rules?a("div",{staticClass:"item"},[a("i",{staticClass:"book open icon"}),a("div",{staticClass:"content"},[t.rules?a("router-link",{staticClass:"ui link",attrs:{to:{name:"about",hash:"#rules"}}},[a("translate",{attrs:{"translate-context":"Content/Home/Link"}},[t._v(" Server rules ")])],1):t._e()],1)]):t._e()])]:t._e()],2),a("div",{staticClass:"eight wide column"},[t.stats?[a("h3",{staticClass:"sub header"},[a("translate",{attrs:{"translate-context":"Content/Home/Header"}},[t._v(" Statistics ")])],1),a("p",[a("i",{staticClass:"user icon"}),a("translate",{attrs:{"translate-context":"Content/Home/Stat","translate-params":{count:t.stats.users.toLocaleString(t.$store.state.ui.momentLocale)},"translate-n":t.stats.users,"translate-plural":"%{ count } active users"}},[t._v(" %{ count } active user ")])],1),a("p",[a("i",{staticClass:"music icon"}),a("translate",{attrs:{"translate-context":"Content/Home/Stat","translate-params":{count:parseInt(t.stats.hours).toLocaleString(t.$store.state.ui.momentLocale)},"translate-n":parseInt(t.stats.hours),"translate-plural":"%{ count } hours of music"}},[t._v(" %{ count } hour of music ")])],1)]:t._e(),t.contactEmail?[a("h3",{staticClass:"sub header"},[a("translate",{attrs:{"translate-context":"Content/Home/Header/Name"}},[t._v(" Contact ")])],1),a("i",{staticClass:"at icon"}),a("a",{attrs:{href:"mailto:"+t.contactEmail}},[t._v(t._s(t.contactEmail))])]:t._e()],2)])])]),t._m(0)]),a("div",{staticClass:"ui hidden divider"}),a("div",{staticClass:"ui hidden divider"}),a("div",{staticClass:"ui stackable grid"},[a("div",{staticClass:"four wide column"},[a("h3",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Footer/*/Title/Short"}},[t._v(" About Funkwhale ")])],1),a("p",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{"translate-context":"Content/Home/Paragraph"}},[t._v(" This pod runs Funkwhale, a community-driven project that lets you listen and share music and audio within a decentralized, open network. ")]),a("p",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{"translate-context":"Content/Home/Paragraph"}},[t._v(" Funkwhale is free and developed by a friendly community of volunteers. ")]),a("a",{attrs:{target:"_blank",rel:"noopener",href:"https://funkwhale.audio"}},[a("i",{staticClass:"external alternate icon"}),a("translate",{attrs:{"translate-context":"Content/Home/Link"}},[t._v("Visit funkwhale.audio")])],1)]),a("div",{staticClass:"four wide column"},[a("h3",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Head/Login/Title"}},[t._v(" Log In ")])],1),a("login-form",{attrs:{"button-classes":"success","show-signup":!1}}),a("div",{staticClass:"ui hidden clearing divider"})],1),a("div",{staticClass:"four wide column"},[a("h3",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"*/Signup/Title"}},[t._v(" Sign up ")])],1),t.openRegistrations?[a("p",[a("translate",{attrs:{"translate-context":"Content/Home/Paragraph"}},[t._v(" Sign up now to keep track of your favorites, create playlists, discover new content and much more! ")])],1),t.defaultUploadQuota?a("p",[a("translate",{attrs:{"translate-context":"Content/Home/Paragraph","translate-params":{quota:t.humanSize(1e3*t.defaultUploadQuota*1e3)}}},[t._v(" Users on this pod also get %{ quota } of free storage to upload their own content! ")])],1):t._e(),a("signup-form",{attrs:{"button-classes":"success","show-login":!1}})]:a("div",[a("p",{attrs:{"translate-context":"Content/Home/Paragraph"}},[t._v(" Registrations are closed on this pod. You can signup on another pod using the link below. ")]),a("a",{attrs:{target:"_blank",rel:"noopener",href:"https://funkwhale.audio/#get-started"}},[a("i",{staticClass:"external alternate icon"}),a("translate",{attrs:{"translate-context":"Content/Home/Link"}},[t._v("Find another pod")])],1)])],2),a("div",{staticClass:"four wide column"},[a("h3",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Content/Home/Header"}},[t._v(" Useful links ")])],1),a("div",{staticClass:"ui relaxed list"},[a("div",{staticClass:"item"},[a("i",{staticClass:"headphones icon"}),a("div",{staticClass:"content"},[t.anonymousCanListen?a("router-link",{staticClass:"header",attrs:{to:"/library"}},[a("translate",{attrs:{"translate-context":"Content/Home/Link"}},[t._v(" Browse public content ")])],1):t._e(),a("div",{staticClass:"description"},[a("translate",{attrs:{"translate-context":"Content/Home/Link"}},[t._v(" Listen to public albums and playlists shared on this pod ")])],1)],1)]),a("div",{staticClass:"item"},[a("i",{staticClass:"mobile alternate icon"}),a("div",{staticClass:"content"},[a("a",{staticClass:"header",attrs:{href:"https://funkwhale.audio/en_US/apps",target:"_blank",rel:"noopener"}},[a("translate",{attrs:{"translate-context":"Content/Home/Link"}},[t._v("Mobile apps")])],1),a("div",{staticClass:"description"},[a("translate",{attrs:{"translate-context":"Content/Home/Link"}},[t._v(" Use Funkwhale on other devices with our apps ")])],1)])]),a("div",{staticClass:"item"},[a("i",{staticClass:"book icon"}),a("div",{staticClass:"content"},[a("a",{staticClass:"header",attrs:{href:"https://docs.funkwhale.audio/users/index.html",target:"_blank",rel:"noopener"}},[a("translate",{attrs:{"translate-context":"Content/Home/Link"}},[t._v("User guides")])],1),a("div",{staticClass:"description"},[a("translate",{attrs:{"translate-context":"Content/Home/Link"}},[t._v(" Discover everything you need to know about Funkwhale and its features ")])],1)])])])])])]),t.anonymousCanListen?a("section",{staticClass:"ui vertical stripe segment"},[a("album-widget",{attrs:{filters:{playable:!0,ordering:"-creation_date"},limit:10}},[a("template",{slot:"title"},[a("translate",{attrs:{"translate-context":"Content/Home/Title"}},[t._v(" Recently added albums ")])],1),a("router-link",{attrs:{to:"/library"}},[a("translate",{attrs:{"translate-context":"Content/Home/Link"}},[t._v(" View more… ")]),a("div",{staticClass:"ui hidden divider"})],1)],2),a("div",{staticClass:"ui hidden section divider"}),a("h3",{staticClass:"ui header"},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" New channels ")])],1),a("channels-widget",{attrs:{"show-modification-date":!0,limit:10,filters:{ordering:"-creation_date",external:"false"}}})],1):t._e()])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"six wide column"},[s("img",{staticClass:"ui image",attrs:{src:a("42e0"),alt:""}})])}],n=a("5530"),r=a("ceb5"),o=a("2f62"),l=a("339e"),c=a.n(l),u=a("8356"),d=a("a5fd"),p=a("25ba"),h=a("6589"),m=a("98fc"),f={components:{AlbumWidget:u["a"],ChannelsWidget:d["a"],LoginForm:p["a"],SignupForm:h["a"]},data:function(){return{markdown:new c.a.Converter,excerptLength:2,humanSize:m["a"]}},computed:Object(n["a"])(Object(n["a"])({},Object(o["d"])({nodeinfo:function(t){return t.instance.nodeinfo}})),{},{labels:function(){return{title:this.$pgettext("Head/Home/Title","Home")}},podName:function(){return r["a"].get(this.nodeinfo,"metadata.nodeName")||"Funkwhale"},banner:function(){return r["a"].get(this.nodeinfo,"metadata.banner")},shortDescription:function(){return r["a"].get(this.nodeinfo,"metadata.shortDescription")},longDescription:function(){return r["a"].get(this.nodeinfo,"metadata.longDescription")},rules:function(){return r["a"].get(this.nodeinfo,"metadata.rules")},renderedDescription:function(){if(this.longDescription){var t=this.markdown.makeHtml(this.longDescription);return t}},stats:function(){var t={users:r["a"].get(this.nodeinfo,"usage.users.activeMonth",null),hours:r["a"].get(this.nodeinfo,"metadata.library.music.hours",null)};if(null!==t.users&&null!==t.artists)return t},contactEmail:function(){return r["a"].get(this.nodeinfo,"metadata.contactEmail")},defaultUploadQuota:function(){return r["a"].get(this.nodeinfo,"metadata.defaultUploadQuota")},anonymousCanListen:function(){return r["a"].get(this.nodeinfo,"metadata.library.anonymousCanListen")},openRegistrations:function(){return r["a"].get(this.nodeinfo,"openRegistrations")},headerStyle:function(){return this.banner?"background-image: url("+this.$store.getters["instance/absoluteUrl"](this.banner)+")":""}}),watch:{"$store.state.auth.authenticated":{handler:function(t){t&&(console.log("Authenticated, redirecting to /library…"),this.$router.push("/library"))},immediate:!0}}},b=f,v=a("2877"),g=Object(v["a"])(b,s,i,!1,null,null,null);e["default"]=g.exports},"5ea5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{class:["ui","vertical","left","visible","wide",{collapsed:t.isCollapsed},"sidebar","component-sidebar"]},[a("header",{staticClass:"ui basic segment header-wrapper"},[a("router-link",{attrs:{title:"Funkwhale",to:{name:t.logoUrl}}},[a("i",{staticClass:"logo bordered inverted vibrant big icon"},[a("logo",{staticClass:"logo"}),a("span",{staticClass:"visually-hidden"},[t._v("Home")])],1)]),a("nav",{staticClass:"top ui compact right aligned inverted text menu"},[a("div",{staticClass:"right menu"},[t.$store.state.auth.availablePermissions["settings"]||t.$store.state.auth.availablePermissions["moderation"]?a("div",{staticClass:"item",attrs:{title:t.labels.administration}},[a("div",{staticClass:"item ui inline admin-dropdown dropdown"},[a("i",{staticClass:"wrench icon"}),t.moderationNotifications>0?a("div",{class:["ui","accent","mini","bottom floating","circular","label"]},[t._v(" "+t._s(t.moderationNotifications)+" ")]):t._e(),a("div",{staticClass:"menu"},[a("h3",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Sidebar/Admin/Title/Noun"}},[t._v(" Administration ")])],1),a("div",{staticClass:"divider"}),t.$store.state.auth.availablePermissions["library"]?a("router-link",{staticClass:"item",attrs:{to:{name:"manage.library.edits",query:{q:"is_approved:null"}}}},[t.$store.state.ui.notifications.pendingReviewEdits>0?a("div",{class:["ui","circular","mini","right floated","accent","label"],attrs:{title:t.labels.pendingReviewEdits}},[t._v(" "+t._s(t.$store.state.ui.notifications.pendingReviewEdits)+" ")]):t._e(),a("translate",{attrs:{"translate-context":"*/*/*/Noun"}},[t._v(" Library ")])],1):t._e(),t.$store.state.auth.availablePermissions["moderation"]?a("router-link",{staticClass:"item",attrs:{to:{name:"manage.moderation.reports.list",query:{q:"resolved:no"}}}},[t.$store.state.ui.notifications.pendingReviewReports+t.$store.state.ui.notifications.pendingReviewRequests>0?a("div",{class:["ui","circular","mini","right floated","accent","label"],attrs:{title:t.labels.pendingReviewReports}},[t._v(" "+t._s(t.$store.state.ui.notifications.pendingReviewReports+t.$store.state.ui.notifications.pendingReviewRequests)+" ")]):t._e(),a("translate",{attrs:{"translate-context":"*/Moderation/*"}},[t._v(" Moderation ")])],1):t._e(),t.$store.state.auth.availablePermissions["settings"]?a("router-link",{staticClass:"item",attrs:{to:{name:"manage.users.users.list"}}},[a("translate",{attrs:{"translate-context":"*/*/*/Noun"}},[t._v(" Users ")])],1):t._e(),t.$store.state.auth.availablePermissions["settings"]?a("router-link",{staticClass:"item",attrs:{to:{path:"/manage/settings"}}},[a("translate",{attrs:{"translate-context":"*/*/*/Noun"}},[t._v(" Settings ")])],1):t._e()],1)])]):t._e()]),t.$store.state.auth.authenticated?a("router-link",{staticClass:"item",attrs:{to:{name:"content.index"}}},[a("i",{staticClass:"upload icon"}),a("span",{staticClass:"visually-hidden"},[t._v(t._s(t.labels.addContent))])]):t._e(),t.width>768?[a("div",{staticClass:"item"},[a("div",{staticClass:"ui user-dropdown dropdown"},[t.$store.state.auth.authenticated&&t.$store.state.auth.profile.avatar&&t.$store.state.auth.profile.avatar.urls.medium_square_crop?a("img",{staticClass:"ui avatar image",attrs:{alt:"",src:t.$store.getters["instance/absoluteUrl"](t.$store.state.auth.profile.avatar.urls.medium_square_crop)}}):t.$store.state.auth.authenticated?a("actor-avatar",{attrs:{actor:{preferred_username:t.$store.state.auth.username,full_username:t.$store.state.auth.username}}}):a("i",{staticClass:"cog icon"}),t.$store.state.ui.notifications.inbox+t.additionalNotifications>0?a("div",{class:["ui","accent","mini","bottom floating","circular","label"]},[t._v(" "+t._s(t.$store.state.ui.notifications.inbox+t.additionalNotifications)+" ")]):t._e(),a("user-menu",t._g({attrs:{width:t.width}},t.$listeners))],1)])]:[a("a",{staticClass:"item",attrs:{href:""},on:{click:function(e){if(e.preventDefault(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)return null;t.showUserModal=!t.showUserModal}}},[t.$store.state.auth.authenticated&&t.$store.state.auth.profile.avatar&&t.$store.state.auth.profile.avatar.urls.medium_square_crop?a("img",{staticClass:"ui avatar image",attrs:{alt:"",src:t.$store.getters["instance/absoluteUrl"](t.$store.state.auth.profile.avatar.urls.medium_square_crop)}}):t.$store.state.auth.authenticated?a("actor-avatar",{attrs:{actor:{preferred_username:t.$store.state.auth.username,full_username:t.$store.state.auth.username}}}):a("i",{staticClass:"cog icon"}),t.$store.state.ui.notifications.inbox+t.additionalNotifications>0?a("div",{class:["ui","accent","mini","bottom floating","circular","label"]},[t._v(" "+t._s(t.$store.state.ui.notifications.inbox+t.additionalNotifications)+" ")]):t._e()],1)],a("user-modal",{attrs:{show:t.showUserModal},on:{showThemeModalEvent:function(e){t.showThemeModal=!0},showLanguageModalEvent:function(e){t.showLanguageModal=!0},"update:show":function(e){t.showUserModal=e}}}),a("modal",{ref:"languageModal",attrs:{fullscreen:!1,show:t.showLanguageModal},on:{"update:show":function(e){t.showLanguageModal=e}}},[a("i",{staticClass:"left chevron back inside icon",attrs:{role:"button"},on:{click:function(e){if(e.preventDefault(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)return null;t.showUserModal=!t.showUserModal}}}),a("div",{staticClass:"header"},[a("h3",{staticClass:"title"},[t._v(" "+t._s(t.labels.language)+" ")])]),a("div",{staticClass:"content"},t._l(t.$language.available,(function(e,s){return a("fieldset",{key:s},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.languageSelection,expression:"languageSelection"}],attrs:{id:s,type:"radio",name:"language"},domProps:{value:s,checked:t._q(t.languageSelection,s)},on:{change:function(e){t.languageSelection=s}}}),a("label",{attrs:{for:s}},[t._v(t._s(e))])])})),0)]),a("modal",{ref:"themeModal",attrs:{fullscreen:!1,show:t.showThemeModal},on:{"update:show":function(e){t.showThemeModal=e}}},[a("i",{staticClass:"left chevron back inside icon",attrs:{role:"button"},on:{click:function(e){if(e.preventDefault(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)return null;t.showUserModal=!t.showUserModal}}}),a("div",{staticClass:"header"},[a("h3",{staticClass:"title"},[t._v(" "+t._s(t.labels.theme)+" ")])]),a("div",{staticClass:"content"},t._l(t.themes,(function(e){return a("fieldset",{key:e.key},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.themeSelection,expression:"themeSelection"}],attrs:{id:e.key,type:"radio",name:"theme"},domProps:{value:e.key,checked:t._q(t.themeSelection,e.key)},on:{change:function(a){t.themeSelection=e.key}}}),a("label",{attrs:{for:e.key}},[t._v(t._s(e.name))])])})),0)]),a("div",{staticClass:"item collapse-button-wrapper"},[a("button",{class:["ui","basic","big",{vibrant:!t.isCollapsed},"inverted icon","collapse","button"],on:{click:function(e){t.isCollapsed=!t.isCollapsed}}},[a("i",{staticClass:"sidebar icon"})])])],2)],1),a("div",{staticClass:"ui basic search-wrapper segment"},[a("search-bar",{on:{search:function(e){t.isCollapsed=!1}}})],1),t.$store.state.auth.authenticated?t._e():a("div",{staticClass:"ui basic signup segment"},[a("router-link",{staticClass:"ui fluid tiny primary button",attrs:{to:{name:"login"}}},[a("translate",{attrs:{"translate-context":"*/Login/*/Verb"}},[t._v(" Login ")])],1),a("div",{staticClass:"ui small hidden divider"}),a("router-link",{staticClass:"ui fluid tiny button",attrs:{to:{path:"/signup"}}},[a("translate",{attrs:{"translate-context":"*/Signup/Link/Verb"}},[t._v(" Create an account ")])],1)],1),a("nav",{staticClass:"secondary",attrs:{role:"navigation","aria-labelledby":"navigation-label"}},[a("h1",{staticClass:"visually-hidden",attrs:{id:"navigation-label"}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Main navigation ")])],1),a("div",{staticClass:"ui small hidden divider"}),a("section",{class:["ui","bottom","attached",{active:"library"===t.selectedTab},"tab"],attrs:{"aria-label":t.labels.mainMenu}},[a("nav",{staticClass:"ui vertical large fluid inverted menu",attrs:{role:"navigation","aria-label":t.labels.mainMenu}},[a("div",{class:[{collapsed:!t.exploreExpanded},"collapsible item"]},[a("h2",{staticClass:"header",attrs:{role:"button",tabindex:"0"},on:{click:function(e){t.exploreExpanded=!0},focus:function(e){t.exploreExpanded=!0}}},[a("translate",{attrs:{"translate-context":"*/*/*/Verb"}},[t._v(" Explore ")]),t.exploreExpanded?t._e():a("i",{staticClass:"angle right icon"})],1),a("div",{staticClass:"menu"},[a("router-link",{staticClass:"item",attrs:{to:{name:"search"}}},[a("i",{staticClass:"search icon"}),a("translate",{attrs:{"translate-context":"Sidebar/Navigation/List item.Link/Verb"}},[t._v(" Search ")])],1),a("router-link",{staticClass:"item",attrs:{exact:!0,to:{name:"library.index"}}},[a("i",{staticClass:"music icon"}),a("translate",{attrs:{"translate-context":"Sidebar/Navigation/List item.Link/Verb"}},[t._v(" Browse ")])],1),a("router-link",{staticClass:"item",attrs:{to:{name:"library.podcasts.browse"}}},[a("i",{staticClass:"podcast icon"}),a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Podcasts ")])],1),a("router-link",{staticClass:"item",attrs:{to:{name:"library.albums.browse"}}},[a("i",{staticClass:"compact disc icon"}),a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Albums ")])],1),a("router-link",{staticClass:"item",attrs:{to:{name:"library.artists.browse"}}},[a("i",{staticClass:"user icon"}),a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Artists ")])],1),a("router-link",{staticClass:"item",attrs:{to:{name:"library.playlists.browse"}}},[a("i",{staticClass:"list icon"}),a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Playlists ")])],1),a("router-link",{staticClass:"item",attrs:{to:{name:"library.radios.browse"}}},[a("i",{staticClass:"feed icon"}),a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Radios ")])],1)],1)]),t.$store.state.auth.authenticated?a("div",{class:[{collapsed:!t.myLibraryExpanded},"collapsible item"]},[a("h3",{staticClass:"header",attrs:{role:"button",tabindex:"0"},on:{click:function(e){t.myLibraryExpanded=!0},focus:function(e){t.myLibraryExpanded=!0}}},[a("translate",{attrs:{"translate-context":"*/*/*/Noun"}},[t._v(" My Library ")]),t.myLibraryExpanded?t._e():a("i",{staticClass:"angle right icon"})],1),a("div",{staticClass:"menu"},[a("router-link",{staticClass:"item",attrs:{exact:!0,to:{name:"library.me"}}},[a("i",{staticClass:"music icon"}),a("translate",{attrs:{"translate-context":"Sidebar/Navigation/List item.Link/Verb"}},[t._v(" Browse ")])],1),a("router-link",{staticClass:"item",attrs:{to:{name:"library.albums.me"}}},[a("i",{staticClass:"compact disc icon"}),a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Albums ")])],1),a("router-link",{staticClass:"item",attrs:{to:{name:"library.artists.me"}}},[a("i",{staticClass:"user icon"}),a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Artists ")])],1),a("router-link",{staticClass:"item",attrs:{to:{name:"library.playlists.me"}}},[a("i",{staticClass:"list icon"}),a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Playlists ")])],1),a("router-link",{staticClass:"item",attrs:{to:{name:"library.radios.me"}}},[a("i",{staticClass:"feed icon"}),a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Radios ")])],1),a("router-link",{staticClass:"item",attrs:{to:{name:"favorites"}}},[a("i",{staticClass:"heart icon"}),a("translate",{attrs:{"translate-context":"Sidebar/Favorites/List item.Link/Noun"}},[t._v(" Favorites ")])],1)],1)]):t._e(),t.$store.state.auth.authenticated?a("router-link",{staticClass:"header item",attrs:{to:{name:"subscriptions"}}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Channels ")])],1):t._e(),a("div",{staticClass:"item"},[a("h3",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Footer/About/List item.Link"}},[t._v(" More ")])],1),a("div",{staticClass:"menu"},[a("router-link",{staticClass:"item",attrs:{to:"/about"}},[a("i",{staticClass:"info icon"}),a("translate",{attrs:{"translate-context":"Sidebar/*/List item.Link"}},[t._v(" About this pod ")])],1)],1)]),t.production?t._e():a("div",{staticClass:"item"},[a("a",{staticClass:"link item",attrs:{role:"button",href:""},on:{click:function(e){return e.preventDefault(),t.$emit("show:set-instance-modal")}}},[t._v("Switch instance")])])],1)])])])},i=[],n=a("c7eb"),r=a("1da1"),o=a("5530"),l=(a("a9e3"),a("d81d"),a("26e9"),a("fb6a"),a("4160"),a("d3b7"),a("159b"),a("c975"),a("7db0"),a("2ca0"),a("2f62")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{show:t.show,scrolling:!0,fullscreen:!1},on:{"update:show":function(e){return t.$emit("update:show",e)}}},[t.$store.state.auth.authenticated?a("div",{staticClass:"header"},[t.$store.state.auth.profile.avatar&&t.$store.state.auth.profile.avatar.urls.medium_square_crop?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.getters["instance/absoluteUrl"](t.$store.state.auth.profile.avatar.urls.medium_square_crop),expression:"$store.getters['instance/absoluteUrl']($store.state.auth.profile.avatar.urls.medium_square_crop)"}],staticClass:"ui centered small circular image",attrs:{alt:""}}):a("actor-avatar",{attrs:{actor:{preferred_username:t.$store.state.auth.username,full_username:t.$store.state.auth.username}}}),a("h3",{staticClass:"user-modal title"},[t._v(" "+t._s(t.labels.header)+" ")])],1):a("div",{staticClass:"header"},[a("h3",{staticClass:"ui center aligned icon header"},[t._v(" "+t._s(t.labels.header)+" ")])]),a("div",{staticClass:"content"},[a("div",{staticClass:"ui one column unstackable grid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"column",attrs:{role:"button"},on:{click:function(e){t.$emit("update:show",!1),t.$emit("showLanguageModalEvent")}}},[a("i",{staticClass:"language icon user-modal list-icon"}),a("span",{staticClass:"user-modal list-item"},[t._v(t._s(t.labels.language)+":")]),a("div",{staticClass:"right floated"},[a("span",{staticClass:"user-modal list-item"},[t._v(t._s(t.$language.available[t.$language.current]))]),a("i",{staticClass:"action-hint chevron right icon"})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"column",attrs:{role:"button"},on:{click:function(e){t.$emit("update:show",!1),t.$emit("showThemeModalEvent")}}},[a("i",{staticClass:"palette icon user-modal list-icon"}),a("span",{staticClass:"user-modal list-item"},[t._v(t._s(t.labels.theme)+":")]),a("div",{staticClass:"right floated"},[a("span",{staticClass:"user-modal list-item"},[t._v(" "+t._s(t.themes.find((function(e){return e.key===t.$store.state.ui.theme})).name))]),a("i",{staticClass:"action-hint chevron right icon user-modal"})])])]),a("div",{staticClass:"ui divider"}),t.$store.state.auth.authenticated?[a("div",{staticClass:"row"},[a("div",{staticClass:"column",attrs:{role:"button"},on:{click:function(e){return e.preventDefault(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.$router.push({name:"profile.overview",params:{username:t.$store.state.auth.username}})}}},[a("i",{staticClass:"user icon user-modal list-icon"}),a("span",{staticClass:"user-modal list-item"},[t._v(t._s(t.labels.profile))])])]),a("div",{staticClass:"row"},[t.$store.state.auth.authenticated?a("router-link",{staticClass:"column",attrs:{tag:"div",to:{name:"notifications"},role:"button"}},[a("i",{staticClass:"user-modal list-icon bell icon"}),a("span",{staticClass:"user-modal list-item"},[t._v(t._s(t.labels.notifications))])]):t._e()],1),a("div",{staticClass:"row"},[a("router-link",{staticClass:"column",attrs:{tag:"div",to:{path:"/settings"},role:"button"}},[a("i",{staticClass:"user-modal list-icon cog icon"}),a("span",{staticClass:"user-modal list-item"},[t._v(t._s(t.labels.settings))])])],1),a("div",{staticClass:"ui divider"})]:t._e(),a("div",{staticClass:"row"},[a("a",{staticClass:"column",attrs:{href:"https://funkwhale.audio/help",target:"_blank"}},[a("i",{staticClass:"user-modal list-icon life ring outline icon"}),a("span",{staticClass:"user-modal list-item"},[t._v(t._s(t.labels.help))])])]),a("div",{staticClass:"row"},[a("a",{staticClass:"column",attrs:{href:"https://docs.funkwhale.audio",target:"_blank"}},[a("i",{staticClass:"user-modal list-icon book open icon"}),a("span",{staticClass:"user-modal list-item"},[t._v(t._s(t.labels.docs))])])]),a("div",{staticClass:"row"},[a("router-link",{staticClass:"column",attrs:{tag:"div",to:{name:"about"},role:"button"}},[a("i",{staticClass:"user-modal list-icon question circle outline icon"}),a("span",{staticClass:"user-modal list-item"},[t._v(t._s(t.labels.about))])])],1),a("div",{staticClass:"ui divider"}),t.$store.state.auth.authenticated?[a("router-link",{staticClass:"column",attrs:{tag:"div",to:{name:"logout"},role:"button"}},[a("i",{staticClass:"user-modal list-icon sign out alternate icon"}),a("span",{staticClass:"user-modal list-item"},[t._v(t._s(t.labels.logout))])])]:t._e(),t.$store.state.auth.authenticated?t._e():[a("router-link",{staticClass:"column",attrs:{tag:"div",to:{name:"login"},role:"button"}},[a("i",{staticClass:"user-modal list-icon sign in alternate icon"}),a("span",{staticClass:"user-modal list-item"},[t._v(t._s(t.labels.login))])])],t.$store.state.auth.authenticated?t._e():[a("router-link",{staticClass:"column",attrs:{tag:"div",to:{name:"signup"},role:"button"}},[a("i",{staticClass:"user-modal list-item user icon"}),a("span",{staticClass:"user-modal list-item"},[t._v(t._s(t.labels.signup))])])]],2)])])},u=[],d=a("404d"),p={components:{Modal:d["default"]},props:{show:{type:Boolean,required:!0}},computed:Object(o["a"])({labels:function(){return{header:this.$pgettext("Popup/Title/Noun","Options"),profile:this.$pgettext("*/*/*/Noun","Profile"),settings:this.$pgettext("*/*/*/Noun","Settings"),logout:this.$pgettext("Sidebar/Login/List item.Link/Verb","Log out"),about:this.$pgettext("Sidebar/About/List item.Link","About"),shortcuts:this.$pgettext("*/*/*/Noun","Keyboard shortcuts"),support:this.$pgettext("Sidebar/*/Listitem.Link","Help"),forum:this.$pgettext("Sidebar/*/Listitem.Link","Forum"),docs:this.$pgettext("Sidebar/*/Listitem.Link","Documentation"),help:this.$pgettext("Sidebar/*/Listitem.Link","Help"),language:this.$pgettext("Sidebar/Settings/Dropdown.Label/Short, Verb","Language"),theme:this.$pgettext("Sidebar/Settings/Dropdown.Label/Short, Verb","Theme"),chat:this.$pgettext("Sidebar/*/Listitem.Link","Chat room"),git:this.$pgettext("Sidebar/*/List item.Link","Issue tracker"),login:this.$pgettext("*/*/Button.Label/Verb","Log in"),signup:this.$pgettext("*/*/Button.Label/Verb","Sign up"),notifications:this.$pgettext("*/Notifications/*","Notifications"),useOtherInstance:this.$pgettext("Sidebar/*/List item.Link","Use another instance")}},themes:function(){return[{icon:"sun icon",name:this.$pgettext("Footer/Settings/Dropdown.Label/Theme name","Light"),key:"light"},{icon:"moon icon",name:this.$pgettext("Footer/Settings/Dropdown.Label/Theme name","Dark"),key:"dark"}]}},Object(l["c"])({additionalNotifications:"ui/additionalNotifications"}))},h=p,m=(a("861e"),a("2877")),f=Object(m["a"])(h,c,u,!1,null,null,null),b=f.exports,v=a("2241"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui fluid category search"},[t._t("default"),a("div",{staticClass:"ui icon input"},[a("input",{ref:"search",staticClass:"prompt",attrs:{"aria-label":t.labels.searchContent,type:"search",name:"search",placeholder:t.labels.placeholder},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:e.target.blur()}}}),a("i",{staticClass:"search icon"})]),a("div",{staticClass:"results"}),t._t("after"),a("GlobalEvents",{on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"f",void 0,e.key,void 0)?null:e.shiftKey?(e.preventDefault(),e.ctrlKey||e.altKey||e.metaKey?null:t.focusSearch.apply(null,arguments)):null}}})],2)},y=[],C=(a("ac1f"),a("841c"),a("99af"),a("498a"),a("1276"),a("1157")),_=a.n(C),w=a("a18c"),x=a("ceb5"),k=a("fe6c"),$={components:{GlobalEvents:k["a"]},computed:{labels:function(){return{placeholder:this.$pgettext("Sidebar/Search/Input.Placeholder","Search for artists, albums, tracks…"),searchContent:this.$pgettext("Sidebar/Search/Input.Label","Search for content")}}},mounted:function(){var t,e=this.$pgettext("*/*/*/Noun","Artist"),a=this.$pgettext("*/*/*","Album"),s=this.$pgettext("*/*/*/Noun","Track"),i=this.$pgettext("*/*/*/Noun","Tag"),n=this;_()(this.$el).keypress((function(e){13===e.which&&(_()(this.$el).search("cancel query"),w["default"].push("/search?q=".concat(t,"&type=artists")))})),_()(this.$el).search({type:"category",minCharacters:3,showNoResults:!0,error:{noResultsHeader:this.$pgettext("Sidebar/Search/Error","No matches found"),noResults:this.$pgettext("Sidebar/Search/Error.Label","Sorry, there are no results for this search")},onSelect:function(e,a){return _()(n.$el).search("set value",t),w["default"].push(e.routerUrl),_()(n.$el).search("hide results"),!1},onSearchQuery:function(e){n.$emit("search"),t=e},apiSettings:{beforeXHR:function(t){return n.$store.state.auth.authenticated?(n.$store.state.auth.oauth.accessToken&&t.setRequestHeader("Authorization",n.$store.getters["auth/header"]),t):t},onResponse:function(r){var o=n.extractObjId(t),l={},c=!0,u=[{code:"federation",name:n.$pgettext("*/*/*","Federation")},{code:"podcasts",name:n.$pgettext("*/*/*","Podcasts")},{code:"artists",route:"library.artists.detail",name:e,getTitle:function(t){return t.name},getDescription:function(t){return""},getId:function(t){return t.id}},{code:"albums",route:"library.albums.detail",name:a,getTitle:function(t){return t.title},getDescription:function(t){return t.artist.name},getId:function(t){return t.id}},{code:"tracks",route:"library.tracks.detail",name:s,getTitle:function(t){return t.title},getDescription:function(t){return t.album?"".concat(t.album.artist.name," - ").concat(t.album.title):t.artist.name},getId:function(t){return t.id}},{code:"tags",route:"library.tags.detail",name:i,getTitle:function(t){return"#".concat(t.name)},getDescription:function(t){return""},getId:function(t){return t.name}},{code:"more",name:""}];return u.forEach((function(e){if(l[e.code]={name:e.name,results:[]},"federation"===e.code){if(o){c=!1;var a=n.$pgettext("Search/*/*","Search on the fediverse");l.federation={name:n.$pgettext("*/*/*","Federation"),results:[{title:a,routerUrl:{name:"search",query:{id:o}}}]}}}else if("podcasts"===e.code){if(o){c=!1;var s=n.$pgettext("Search/*/*","Subscribe to podcast via RSS");l.podcasts={name:n.$pgettext("*/*/*","Podcasts"),results:[{title:s,routerUrl:{name:"search",query:{id:o,type:"rss"}}}]}}}else if("more"===e.code){var i=n.$pgettext("Search/*/*","More results 🡒");l.more={name:"",results:[{title:i,routerUrl:{name:"search",query:{type:"artists",q:t}}}]}}else r[e.code].forEach((function(t){c=!1;var a=e.getId(t);l[e.code].results.push({title:e.getTitle(t),id:a,routerUrl:{name:e.route,params:{id:a}},description:e.getDescription(t)})}))})),{results:c?{}:l}},url:this.$store.getters["instance/absoluteUrl"]("api/v1/search?query={query}")}})},methods:{focusSearch:function(){this.$refs.search.focus()},extractObjId:function(t){if(t=x["a"].trim(t),t=x["a"].trim(t,"@"),!(t.indexOf(" ")>-1))return t.startsWith("http://")||t.startsWith("https://")||t.split("@").length>1?t:void 0}}},L=$,S=Object(m["a"])(L,g,y,!1,null,null,null),P=S.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui menu"},[a("div",{staticClass:"ui scrolling dropdown item"},[a("i",{staticClass:"language icon"}),t._v(" "+t._s(t.labels.language)+" "),a("i",{staticClass:"dropdown icon"}),a("div",{staticClass:"menu",attrs:{id:"language-select"}},t._l(t.$language.available,(function(e,s){return a("a",{key:s,class:[{active:t.$language.current===s},"item"],attrs:{value:s},on:{click:function(e){return t.$store.dispatch("ui/currentLanguage",s)}}},[t._v(t._s(e))])})),0)]),a("div",{staticClass:"ui dropdown item"},[a("i",{staticClass:"palette icon"}),t._v(" "+t._s(t.labels.theme)+" "),a("i",{staticClass:"dropdown icon"}),a("div",{staticClass:"menu",attrs:{id:"theme-select"}},t._l(t.themes,(function(e){return a("a",{key:e.key,class:[{active:t.$store.state.ui.theme===e.key},"item"],attrs:{value:e.key},on:{click:function(a){return t.$store.dispatch("ui/theme",e.key)}}},[a("i",{class:e.icon}),t._v(" "+t._s(e.name)+" ")])})),0)]),t.$store.state.auth.authenticated?[a("div",{staticClass:"divider"}),a("router-link",{staticClass:"item",attrs:{to:{name:"profile.overview",params:{username:t.$store.state.auth.username}}}},[a("i",{staticClass:"user icon"}),t._v(" "+t._s(t.labels.profile)+" ")]),t.$store.state.auth.authenticated?a("router-link",{staticClass:"item",attrs:{to:{name:"notifications"}}},[a("i",{staticClass:"bell icon"}),t._v(" "+t._s(t.labels.notifications)+" ")]):t._e(),a("router-link",{staticClass:"item",attrs:{to:{path:"/settings"}}},[a("i",{staticClass:"cog icon"}),t._v(" "+t._s(t.labels.settings)+" ")])]:t._e(),a("div",{staticClass:"divider"}),a("div",{staticClass:"ui dropdown item"},[a("i",{staticClass:"life ring outline icon"}),t._v(" "+t._s(t.labels.support)+" "),a("i",{staticClass:"dropdown icon"}),a("div",{staticClass:"menu"},[a("a",{staticClass:"item",attrs:{href:"https://forum.funkwhale.audio",target:"_blank"}},[a("i",{staticClass:"users icon"}),t._v(" "+t._s(t.labels.forum)+" ")]),a("a",{staticClass:"item",attrs:{href:"https://matrix.to/#/#funkwhale-support:matrix.org",target:"_blank"}},[a("i",{staticClass:"comment icon"}),t._v(" "+t._s(t.labels.chat)+" ")]),a("a",{staticClass:"item",attrs:{href:"https://dev.funkwhale.audio/funkwhale/funkwhale/issues",target:"_blank"}},[a("i",{staticClass:"gitlab icon"}),t._v(" "+t._s(t.labels.git)+" ")])])]),a("a",{staticClass:"item",attrs:{href:"https://docs.funkwhale.audio",target:"_blank"}},[a("i",{staticClass:"book open icon"}),t._v(" "+t._s(t.labels.docs)+" ")]),a("a",{staticClass:"item",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.showShortcuts.apply(null,arguments)}}},[a("i",{staticClass:"keyboard icon"}),t._v(" "+t._s(t.labels.shortcuts)+" ")]),"/about"!=t.$route.path?a("router-link",{staticClass:"item",attrs:{to:{name:"about"}}},[a("i",{staticClass:"question circle outline icon"}),t._v(" "+t._s(t.labels.about)+" ")]):t._e(),t.$store.state.auth.authenticated&&"/logout"!=t.$route.path?[a("div",{staticClass:"divider"}),a("router-link",{staticClass:"item",staticStyle:{color:"var(--danger-color)!important"},attrs:{to:{name:"logout"}}},[a("i",{staticClass:"sign out alternate icon"}),t._v(" "+t._s(t.labels.logout)+" ")])]:t._e(),t.$store.state.auth.authenticated?t._e():[a("div",{staticClass:"divider"}),a("router-link",{staticClass:"item",attrs:{to:{name:"login"}}},[a("i",{staticClass:"sign in alternate icon"}),t._v(" "+t._s(t.labels.login)+" ")])],!t.$store.state.auth.authenticated&&t.$store.state.instance.settings.users.registration_enabled.value?[a("router-link",{staticClass:"item",attrs:{to:{name:"signup"}}},[a("i",{staticClass:"user icon"}),t._v(" "+t._s(t.labels.signup)+" ")])]:t._e()],2)},T=[],E={computed:Object(o["a"])({labels:function(){return{profile:this.$pgettext("*/*/*/Noun","Profile"),settings:this.$pgettext("*/*/*/Noun","Settings"),logout:this.$pgettext("Sidebar/Login/List item.Link/Verb","Log out"),about:this.$pgettext("Sidebar/About/List item.Link","About"),shortcuts:this.$pgettext("*/*/*/Noun","Keyboard shortcuts"),support:this.$pgettext("Sidebar/*/Listitem.Link","Help"),forum:this.$pgettext("Sidebar/*/Listitem.Link","Forum"),docs:this.$pgettext("Sidebar/*/Listitem.Link","Documentation"),language:this.$pgettext("Footer/Settings/Dropdown.Label/Short, Verb","Change language"),theme:this.$pgettext("Footer/Settings/Dropdown.Label/Short, Verb","Change theme"),chat:this.$pgettext("Sidebar/*/Listitem.Link","Chat room"),git:this.$pgettext("Footer/*/List item.Link","Issue tracker"),login:this.$pgettext("*/*/Button.Label/Verb","Log in"),signup:this.$pgettext("*/*/Button.Label/Verb","Sign up"),notifications:this.$pgettext("*/Notifications/*","Notifications")}},themes:function(){return[{icon:"sun icon",name:this.$pgettext("Footer/Settings/Dropdown.Label/Theme name","Light"),key:"light"},{icon:"moon icon",name:this.$pgettext("Footer/Settings/Dropdown.Label/Theme name","Dark"),key:"dark"}]}},Object(l["c"])({additionalNotifications:"ui/additionalNotifications"})),methods:{showShortcuts:function(){this.$emit("show:shortcuts-modal"),console.log(this.$store.getters["ui/windowSize"])}}},q=E,V=Object(m["a"])(q,j,T,!1,null,null,null),N=V.exports,O={name:"Sidebar",components:{SearchBar:P,Logo:v["a"],UserMenu:N,UserModal:b,Modal:d["default"]},props:{width:{type:Number,required:!0}},data:function(){return{selectedTab:"library",isCollapsed:!0,fetchInterval:null,exploreExpanded:!1,myLibraryExpanded:!1,showUserModal:!1,showLanguageModal:!1,showThemeModal:!1,languageSelection:this.$language.current,themeSelection:this.$store.state.ui.theme}},destroy:function(){this.fetchInterval&&clearInterval(this.fetchInterval)},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(l["d"])({queue:function(t){return t.queue},url:function(t){return t.route.path}})),Object(l["c"])({additionalNotifications:"ui/additionalNotifications"})),{},{labels:function(){var t=this.$pgettext("Sidebar/*/Hidden text","Main menu"),e=this.$pgettext("Sidebar/Player/Hidden text","Play this track"),a=this.$pgettext("Sidebar/Notifications/Hidden text","Pending follow requests"),s=this.$pgettext("Sidebar/Moderation/Hidden text","Pending review edits"),i=this.$pgettext("Sidebar/Settings/Dropdown.Label/Short, Verb","Language"),n=this.$pgettext("Sidebar/Settings/Dropdown.Label/Short, Verb","Theme");return{pendingFollows:a,mainMenu:t,selectTrack:e,pendingReviewEdits:s,language:i,theme:n,addContent:this.$pgettext("*/Library/*/Verb","Add content"),administration:this.$pgettext("Sidebar/Admin/Title/Noun","Administration")}},logoUrl:function(){return this.$store.state.auth.authenticated?"library.index":"index"},focusedMenu:function(){var t={search:"exploreExpanded","library.index":"exploreExpanded","library.podcasts.browse":"exploreExpanded","library.albums.browse":"exploreExpanded","library.albums.detail":"exploreExpanded","library.artists.browse":"exploreExpanded","library.artists.detail":"exploreExpanded","library.tracks.detail":"exploreExpanded","library.playlists.browse":"exploreExpanded","library.playlists.detail":"exploreExpanded","library.radios.browse":"exploreExpanded","library.radios.detail":"exploreExpanded","library.me":"myLibraryExpanded","library.albums.me":"myLibraryExpanded","library.artists.me":"myLibraryExpanded","library.playlists.me":"myLibraryExpanded","library.radios.me":"myLibraryExpanded",favorites:"myLibraryExpanded"},e=t[this.$route.name];return e||(this.$store.state.auth.authenticated?"myLibraryExpanded":"exploreExpanded")},moderationNotifications:function(){return this.$store.state.ui.notifications.pendingReviewEdits+this.$store.state.ui.notifications.pendingReviewReports+this.$store.state.ui.notifications.pendingReviewRequests},production:function(){return!0},themes:function(){return[{name:this.$pgettext("Sidebar/Settings/Dropdown.Label/Theme name","Light"),key:"light"},{name:this.$pgettext("Sidebar/Settings/Dropdown.Label/Theme name","Dark"),key:"dark"}]}}),watch:{url:function(){this.isCollapsed=!0},"$store.state.moderation.lastUpdate":function(){this.applyContentFilters()},"$store.state.auth.authenticated":{immediate:!0,handler:function(t){var e=this;t?this.$nextTick((function(){e.setupDropdown(".user-dropdown"),e.setupDropdown(".admin-dropdown")})):this.$nextTick((function(){e.setupDropdown(".user-dropdown")}))}},"$store.state.auth.availablePermissions":{immediate:!0,handler:function(t){var e=this;this.$nextTick((function(){e.setupDropdown(".admin-dropdown")}))},deep:!0},focusedMenu:{immediate:!0,handler:function(t){t&&(this[t]=!0)}},myLibraryExpanded:function(t){t&&(this.exploreExpanded=!1)},exploreExpanded:function(t){t&&(this.myLibraryExpanded=!1)},languageSelection:function(t){this.$store.dispatch("ui/currentLanguage",t),this.$refs.languageModal.closeModal()},themeSelection:function(t){this.$store.dispatch("ui/theme",t),this.$refs.themeModal.closeModal()}},mounted:function(){this.$nextTick((function(){document.getElementById("fake-sidebar").classList.add("loaded")}))},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])({cleanTrack:"queue/cleanTrack"})),{},{applyContentFilters:function(){var t=this.$store.getters["moderation/artistFilters"]().map((function(t){return t.target.id}));if(0!==t.length){var e=this,a=this.tracks.slice().reverse();a.forEach(function(){var s=Object(r["a"])(Object(n["a"])().mark((function s(i,r){var o,l;return Object(n["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(o=a.length-r-1,l=t.indexOf(i.artist.id)>-1,!l){s.next=6;break}return s.next=5,e.cleanTrack(o);case 5:return s.abrupt("return",s.sent);case 6:if(!(i.album&&t.indexOf(i.album.artist.id)>-1)){s.next=10;break}return s.next=9,e.cleanTrack(o);case 9:return s.abrupt("return",s.sent);case 10:case"end":return s.stop()}}),s)})));return function(t,e){return s.apply(this,arguments)}}())}},setupDropdown:function(t){var e=this;_()(e.$el).find(t).dropdown({selectOnKeydown:!1,action:function(a,s,i){var n=_()(i).closest("a"),r=n.attr("href");r.startsWith("http")?window.open(r,"_blank").focus():e.$router.push(r),_()(e.$el).find(t).dropdown("hide")}})}})},D=O,F=(a("23c8"),Object(m["a"])(D,s,i,!1,null,null,null));e["default"]=F.exports},"64d0":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",[t.recentActivity>0?a("radio-button",{staticClass:"right floated",attrs:{type:"account","object-id":{username:t.object.preferred_username,fullUsername:t.object.full_username},"client-only":!0}}):t._e(),a("h2",{staticClass:"ui header"},[a("translate",{attrs:{"translate-context":"Content/Home/Title"}},[t._v(" Recently listened ")])],1),a("div",{staticClass:"ui divider"}),a("track-widget",{attrs:{url:"history/listenings/",filters:{scope:"actor:"+t.object.full_username,ordering:"-creation_date"}},on:{count:function(e){t.recentActivity=e}}})],1),a("div",{staticClass:"ui hidden divider"}),a("div",[a("h2",{staticClass:"ui header"},[a("translate",{attrs:{"translate-context":"Content/Home/Title"}},[t._v(" Recently favorited ")])],1),a("div",{staticClass:"ui divider"}),a("track-widget",{attrs:{url:"favorites/tracks/",filters:{scope:"actor:"+t.object.full_username,ordering:"-creation_date"}}})],1),a("div",{staticClass:"ui hidden divider"}),a("div",[a("h2",{staticClass:"ui header"},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Playlists ")])],1),a("div",{staticClass:"ui divider"}),a("playlist-widget",{attrs:{url:"playlists/",filters:{scope:"actor:"+t.object.full_username,playable:!0,ordering:"-modification_date"}}})],1)])},i=[],n=a("359d"),r=a("773e"),o=a("d4fd"),l={components:{TrackWidget:n["a"],PlaylistWidget:r["a"],RadioButton:o["a"]},props:{object:{type:Object,required:!0}},data:function(){return{recentActivity:0}}},c=l,u=a("2877"),d=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=d.exports},6589:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.submitted?a("div",[a("div",{staticClass:"ui success message"},[t.signupRequiresApproval?a("p",[a("translate",{attrs:{"translate-context":"Content/Signup/Form/Paragraph"}},[t._v(" Your account request was successfully submitted. You will be notified by e-mail when our moderation team has reviewed your request. ")])],1):a("p",[a("translate",{attrs:{"translate-context":"Content/Signup/Form/Paragraph"}},[t._v(" Your account was successfully created. Please verify your e-mail address before trying to login. ")])],1)]),a("h2",[a("translate",{attrs:{"translate-context":"Content/Login/Title/Verb"}},[t._v(" Log in to your Funkwhale account ")])],1),a("login-form",{attrs:{"button-classes":"basic success","show-signup":!1}})],1):a("form",{class:["ui",{loading:t.isLoadingInstanceSetting},"form"],on:{submit:function(e){return e.preventDefault(),t.submit()}}},[t.$store.state.instance.settings.users.registration_enabled.value?t.signupRequiresApproval?a("p",{staticClass:"ui message"},[a("translate",{attrs:{"translate-context":"Content/Signup/Form/Paragraph"}},[t._v(" Registrations on this pod are open, but reviewed by moderators before approval. ")])],1):t._e():a("p",{staticClass:"ui message"},[a("translate",{attrs:{"translate-context":"Content/Signup/Form/Paragraph"}},[t._v(" Public registrations are not possible on this instance. You will need an invitation code to sign up. ")])],1),t.formCustomization&&t.formCustomization.help_text?[a("rendered-description",{attrs:{content:t.formCustomization.help_text,"fetch-html":t.fetchDescriptionHtml,permissive:!0}}),a("div",{staticClass:"ui hidden divider"})]:t._e(),t.errors.length>0?a("div",{staticClass:"ui negative message",attrs:{role:"alert"}},[a("h4",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Content/Signup/Form/Paragraph"}},[t._v(" Your account cannot be created. ")])],1),a("ul",{staticClass:"list"},t._l(t.errors,(function(e,s){return a("li",{key:s},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),a("div",{staticClass:"required field"},[a("label",{attrs:{for:"username-field"}},[a("translate",{attrs:{"translate-context":"Content/*/*"}},[t._v("Username")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],ref:"username",attrs:{id:"username-field",name:"username",required:"",type:"text",autofocus:"",placeholder:t.labels.usernamePlaceholder},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),a("div",{staticClass:"required field"},[a("label",{attrs:{for:"email-field"}},[a("translate",{attrs:{"translate-context":"Content/*/*/Noun"}},[t._v("E-mail address")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],ref:"email",attrs:{id:"email-field",name:"email",required:"",type:"email",placeholder:t.labels.emailPlaceholder},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"required field"},[a("label",{attrs:{for:"password-field"}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Password")])],1),a("password-input",{attrs:{"field-id":"password-field"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t.$store.state.instance.settings.users.registration_enabled.value?t._e():a("div",{staticClass:"required field"},[a("label",{attrs:{for:"invitation-code"}},[a("translate",{attrs:{"translate-context":"Content/*/Input.Label"}},[t._v("Invitation code")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invitation,expression:"invitation"}],attrs:{id:"invitation-code",required:"",type:"text",name:"invitation",placeholder:t.labels.placeholder},domProps:{value:t.invitation},on:{input:function(e){e.target.composing||(t.invitation=e.target.value)}}})]),t.signupRequiresApproval&&t.formCustomization&&t.formCustomization.fields&&t.formCustomization.fields.length>0?t._l(t.formCustomization.fields,(function(e,s){return a("div",{key:s,class:[{required:e.required},"field"]},[a("label",{attrs:{for:"custom-field-"+s}},[t._v(t._s(e.label))]),"long_text"===e.input_type?a("textarea",{attrs:{id:"custom-field-"+s,required:e.required,rows:"5"},domProps:{value:t.customFields[e.label]},on:{input:function(a){return t.$set(t.customFields,e.label,a.target.value)}}}):a("input",{attrs:{id:"custom-field-"+s,type:"text",required:e.required},domProps:{value:t.customFields[e.label]},on:{input:function(a){return t.$set(t.customFields,e.label,a.target.value)}}})])})):t._e(),a("button",{class:["ui",t.buttonClasses,{loading:t.isLoading}," right floated button"],attrs:{type:"submit"}},[a("translate",{attrs:{"translate-context":"Content/Signup/Button.Label"}},[t._v(" Create my account ")])],1)],2)},i=[],n=a("bc3a"),r=a.n(n),o=a("3677"),l=a("25ba"),c=a("663d"),u={components:{LoginForm:l["a"],PasswordInput:c["a"]},props:{defaultInvitation:{type:String,required:!1,default:null},next:{type:String,default:"/"},buttonClasses:{type:String,default:"success"},customization:{type:Object,default:null},fetchDescriptionHtml:{type:Boolean,default:!1},signupApprovalEnabled:{type:Boolean,default:null,required:!1}},data:function(){return{username:"",email:"",password:"",isLoadingInstanceSetting:!0,errors:[],isLoading:!1,invitation:this.defaultInvitation,customFields:{},submitted:!1}},computed:{labels:function(){var t=this.$pgettext("Content/Signup/Form/Placeholder","Enter your invitation code (case insensitive)"),e=this.$pgettext("Content/Signup/Form/Placeholder","Enter your username"),a=this.$pgettext("Content/Signup/Form/Placeholder","Enter your e-mail address");return{usernamePlaceholder:e,emailPlaceholder:a,placeholder:t}},formCustomization:function(){return this.customization||this.$store.state.instance.settings.moderation.signup_form_customization.value},signupRequiresApproval:function(){return null===this.signupApprovalEnabled?this.$store.state.instance.settings.moderation.signup_approval_enabled.value:this.signupApprovalEnabled}},created:function(){var t=this;this.$store.dispatch("instance/fetchSettings",{callback:function(){t.isLoadingInstanceSetting=!1}})},methods:{submit:function(){var t=this;t.isLoading=!0,this.errors=[];var e={username:this.username,password1:this.password,password2:this.password,email:this.email,invitation:this.invitation,request_fields:this.customFields};return r.a.post("auth/registration/",e).then((function(e){o["a"].default.info("Successfully created account"),t.submitted=!0,t.isLoading=!1}),(function(e){t.errors=e.backendErrors,t.isLoading=!1}))}}},d=u,p=a("2877"),h=Object(p["a"])(d,s,i,!1,null,null,null);e["a"]=h.exports},"663d":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui fluid action input"},[a("input",{attrs:{id:t.fieldId,required:"",name:"password",type:t.passwordInputType},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),a("button",{staticClass:"ui icon button",attrs:{type:"button",title:t.labels.title},on:{click:function(e){e.preventDefault(),t.showPassword=!t.showPassword}}},[a("i",{staticClass:"eye icon"})]),t.copyButton?a("button",{staticClass:"ui icon button",attrs:{type:"button",title:t.labels.copy},on:{click:function(e){return e.preventDefault(),t.copyPassword.apply(null,arguments)}}},[a("i",{staticClass:"copy icon"})]):t._e()])},i=[],n={props:{value:{type:String,required:!0},defaultShow:{type:Boolean,default:!1},copyButton:{type:Boolean,default:!1},fieldId:{type:String,required:!0}},data:function(){return{showPassword:this.defaultShow||!1}},computed:{labels:function(){return{title:this.$pgettext("Content/Settings/Button.Tooltip/Verb","Show/hide password"),copy:this.$pgettext("*/*/Button.Label/Short, Verb","Copy")}},passwordInputType:function(){return this.showPassword?"text":"password"}},methods:{copyPassword:function(){try{this._copyStringToClipboard(this.value),this.$store.commit("ui/addMessage",{content:this.$pgettext("Content/*/Paragraph","Text copied to clipboard!"),date:new Date})}catch(t){console.error("Cannot copy",t)}},_copyStringToClipboard:function(t){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style={position:"absolute",left:"-9999px"},document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}},r=n,o=a("2877"),l=Object(o["a"])(r,s,i,!1,null,null,null);e["a"]=l.exports},"6eaa":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"ui form",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.submit.apply(null,arguments)}}},[t.errors.length>0?a("div",{staticClass:"ui negative message",attrs:{role:"alert"}},[a("h4",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Content/*/Error message.Title"}},[t._v(" Error while saving channel ")])],1),a("ul",{staticClass:"list"},t._l(t.errors,(function(e,s){return a("li",{key:s},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),t.metadataChoices?[t.creating&&1===t.step?a("fieldset",{staticClass:"ui grouped channel-type required field"},[a("legend",[a("translate",{attrs:{"translate-context":"Content/Channel/Paragraph"}},[t._v(" What will this channel be used for? ")])],1),a("div",{staticClass:"ui hidden divider"}),a("div",{staticClass:"field"},t._l(t.categoryChoices,(function(e,s){return a("div",{key:s,class:["ui","radio","checkbox",{selected:e.value==t.newValues.content_category}]},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newValues.content_category,expression:"newValues.content_category"}],attrs:{id:"category-"+e.value,type:"radio",name:"channel-category"},domProps:{value:e.value,checked:t._q(t.newValues.content_category,e.value)},on:{change:function(a){return t.$set(t.newValues,"content_category",e.value)}}}),a("label",{attrs:{for:"category-"+e.value}},[a("span",{class:["right floated","placeholder","image",{circular:"music"===e.value}]}),a("strong",[t._v(t._s(e.label))]),a("div",{staticClass:"ui small hidden divider"}),t._v(" "+t._s(e.helpText)+" ")])])})),0)]):t._e(),t.creating&&2!==t.step?t._e():[a("div",{staticClass:"ui required field"},[a("label",{attrs:{for:"channel-name"}},[a("translate",{attrs:{"translate-context":"Content/Channel/*"}},[t._v("Name")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newValues.name,expression:"newValues.name"}],attrs:{type:"text",required:"",placeholder:t.labels.namePlaceholder},domProps:{value:t.newValues.name},on:{input:function(e){e.target.composing||t.$set(t.newValues,"name",e.target.value)}}})]),a("div",{staticClass:"ui required field"},[a("label",{attrs:{for:"channel-username"}},[a("translate",{attrs:{"translate-context":"Content/Channel/*"}},[t._v("Fediverse handle")])],1),a("div",{staticClass:"ui left labeled input"},[a("div",{staticClass:"ui basic label"},[t._v(" @ ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newValues.username,expression:"newValues.username"}],attrs:{type:"text",required:t.creating,disabled:!t.creating,placeholder:t.labels.usernamePlaceholder},domProps:{value:t.newValues.username},on:{input:function(e){e.target.composing||t.$set(t.newValues,"username",e.target.value)}}})]),t.creating?[a("div",{staticClass:"ui small hidden divider"}),a("p",[a("translate",{attrs:{"translate-context":"Content/Channels/Paragraph"}},[t._v(" Used in URLs and to follow this channel in the Fediverse. It cannot be changed later. ")])],1)]:t._e()],2),a("div",{staticClass:"six wide column"},[a("attachment-input",{attrs:{required:!1,"image-class":"podcast"===t.newValues.content_category?"":"circular"},on:{delete:function(e){t.newValues.cover=null}},model:{value:t.newValues.cover,callback:function(e){t.$set(t.newValues,"cover",e)},expression:"newValues.cover"}},[a("translate",{attrs:{slot:"label","translate-context":"Content/Channel/*"},slot:"label"},[t._v(" Channel Picture ")])],1)],1),a("div",{staticClass:"ui small hidden divider"}),a("div",{staticClass:"ui stackable grid row"},[a("div",{staticClass:"ten wide column"},[a("div",{staticClass:"ui field"},[a("label",{attrs:{for:"channel-tags"}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Tags")])],1),a("tags-selector",{attrs:{id:"channel-tags",required:!1},model:{value:t.newValues.tags,callback:function(e){t.$set(t.newValues,"tags",e)},expression:"newValues.tags"}})],1)]),"podcast"===t.newValues.content_category?a("div",{staticClass:"six wide column"},[a("div",{staticClass:"ui required field"},[a("label",{attrs:{for:"channel-language"}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Language")])],1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newValues.metadata.language,expression:"newValues.metadata.language"}],staticClass:"ui search selection dropdown",attrs:{id:"channel-language",name:"channel-language",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newValues.metadata,"language",e.target.multiple?a:a[0])}}},t._l(t.metadataChoices.language,(function(e,s){return a("option",{key:s,domProps:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),0)])]):t._e()]),a("div",{staticClass:"ui small hidden divider"}),a("div",{staticClass:"ui field"},[a("label",{attrs:{for:"channel-name"}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Description")])],1),a("content-form",{model:{value:t.newValues.description,callback:function(e){t.$set(t.newValues,"description",e)},expression:"newValues.description"}})],1),"podcast"===t.newValues.content_category?a("div",{staticClass:"ui two fields"},[a("div",{staticClass:"ui required field"},[a("label",{attrs:{for:"channel-itunes-category"}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Category")])],1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newValues.metadata.itunes_category,expression:"newValues.metadata.itunes_category"}],staticClass:"ui dropdown",attrs:{id:"itunes-category",name:"itunes-category",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newValues.metadata,"itunes_category",e.target.multiple?a:a[0])}}},t._l(t.metadataChoices.itunes_category,(function(e,s){return a("option",{key:s,domProps:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),0)]),a("div",{staticClass:"ui field"},[a("label",{attrs:{for:"channel-itunes-category"}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Subcategory")])],1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newValues.metadata.itunes_subcategory,expression:"newValues.metadata.itunes_subcategory"}],staticClass:"ui dropdown",attrs:{id:"itunes-category",name:"itunes-category",disabled:!t.newValues.metadata.itunes_category},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newValues.metadata,"itunes_subcategory",e.target.multiple?a:a[0])}}},t._l(t.itunesSubcategories,(function(e,s){return a("option",{key:s,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)])]):t._e(),"podcast"===t.newValues.content_category?a("div",{staticClass:"ui two fields"},[a("div",{staticClass:"ui field"},[a("label",{attrs:{for:"channel-itunes-email"}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Owner e-mail address")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newValues.metadata.owner_email,expression:"newValues.metadata.owner_email"}],attrs:{id:"channel-itunes-email",name:"channel-itunes-email",type:"email"},domProps:{value:t.newValues.metadata.owner_email},on:{input:function(e){e.target.composing||t.$set(t.newValues.metadata,"owner_email",e.target.value)}}})]),a("div",{staticClass:"ui field"},[a("label",{attrs:{for:"channel-itunes-name"}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Owner name")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newValues.metadata.owner_name,expression:"newValues.metadata.owner_name"}],attrs:{id:"channel-itunes-name",name:"channel-itunes-name",maxlength:"255"},domProps:{value:t.newValues.metadata.owner_name},on:{input:function(e){e.target.composing||t.$set(t.newValues.metadata,"owner_name",e.target.value)}}})])]):t._e(),a("p",[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Used for the itunes:email and itunes:name field required by certain platforms such as Spotify or iTunes. ")])],1)]]:a("div",{staticClass:"ui active inverted dimmer"},[a("div",{staticClass:"ui text loader"},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Loading ")])],1)])],2)},i=[],n=a("5530"),r=(a("ac1f"),a("5319"),a("d401"),a("d3b7"),a("25f0"),a("a9e3"),a("a4d3"),a("e01a"),a("bc3a")),o=a.n(r),l=a("c3b4"),c=a("8352");function u(t){return t.toString().toLowerCase().replace(/\s+/g,"").replace(/[^\w]+/g,"")}var d={components:{AttachmentInput:l["a"],TagsSelector:c["a"]},props:{object:{type:Object,required:!1,default:null},step:{type:Number,required:!1,default:1}},data:function(){var t={};return this.object&&(t.metadata=Object(n["a"])({},this.object.metadata||{}),t.name=this.object.artist.name,t.description=this.object.artist.description,t.cover=this.object.artist.cover,t.tags=this.object.artist.tags,t.content_category=this.object.artist.content_category,t.username=this.object.actor.preferred_username),{isLoading:!1,errors:[],metadataChoices:null,newValues:{name:t.name||"",username:t.username||"",tags:t.tags||[],description:(t.description||{}).text||"",cover:(t.cover||{}).uuid||null,content_category:t.content_category||"podcast",metadata:t.metadata||{}}}},computed:{creating:function(){return null===this.object},categoryChoices:function(){return[{value:"podcast",label:this.$pgettext("*/*/*","Podcasts"),helpText:this.$pgettext("Content/Channels/Help","Host your episodes and keep your community updated.")},{value:"music",label:this.$pgettext("*/*/*","Artist discography"),helpText:this.$pgettext("Content/Channels/Help","Publish music you make as a nice discography of albums and singles.")}]},itunesSubcategories:function(){for(var t=0;t<this.metadataChoices.itunes_category.length;t++){var e=this.metadataChoices.itunes_category[t];if(e.value===this.newValues.metadata.itunes_category)return e.children||[]}return[]},labels:function(){return{namePlaceholder:this.$pgettext("Content/Channel/Form.Field.Placeholder","Awesome channel name"),usernamePlaceholder:this.$pgettext("Content/Channel/Form.Field.Placeholder","awesomechannelname")}},submittable:function(){var t=this.newValues.name&&this.newValues.username;return"podcast"===this.newValues.content_category&&(t=t&&this.newValues.metadata.itunes_category&&this.newValues.metadata.language),!!t}},watch:{"newValues.name":function(t){this.creating&&(this.newValues.username=u(t))},"newValues.metadata.itunes_category":function(t){this.newValues.metadata.itunes_subcategory=null},"newValues.content_category":{handler:function(t){this.$emit("category",t)},immediate:!0},isLoading:{handler:function(t){this.$emit("loading",t)},immediate:!0},submittable:{handler:function(t){this.$emit("submittable",t)},immediate:!0}},created:function(){this.fetchMetadataChoices()},methods:{fetchMetadataChoices:function(){var t=this;o.a.get("channels/metadata-choices").then((function(e){t.metadataChoices=e.data}),(function(e){t.errors=e.backendErrors}))},submit:function(){this.isLoading=!0;var t=this,e=this.creating?o.a.post:o.a.patch,a=this.creating?"channels/":"channels/".concat(this.object.uuid),s={name:this.newValues.name,username:this.newValues.username,tags:this.newValues.tags,content_category:this.newValues.content_category,cover:this.newValues.cover,metadata:this.newValues.metadata};this.newValues.description?s.description={content_type:"text/markdown",text:this.newValues.description}:s.description=null,e(a,s).then((function(e){t.isLoading=!1,t.creating?t.$emit("created",e.data):t.$emit("updated",e.data)}),(function(e){t.isLoading=!1,t.errors=e.backendErrors,t.$emit("errored",t.errors)}))}}},p=d,h=a("2877"),m=Object(h["a"])(p,s,i,!1,null,null,null);e["a"]=m.exports},"773e":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.$slots.title?a("h3",{staticClass:"ui header"},[t._t("title")],2):t._e(),t.isLoading?a("div",{staticClass:"ui inverted active dimmer"},[a("div",{staticClass:"ui loader"})]):t._e(),t.playlistsExist?a("div",{staticClass:"ui cards app-cards"},t._l(t.objects,(function(t){return a("playlist-card",{key:t.id,attrs:{playlist:t}})})),1):a("div",{staticClass:"ui placeholder segment"},[a("div",{staticClass:"ui icon header"},[a("i",{staticClass:"list icon"}),a("translate",{attrs:{"translate-context":"Content/Home/Placeholder"}},[t._v(" No playlists have been created yet ")])],1),t.$store.state.auth.authenticated?a("button",{staticClass:"ui success icon labeled button",on:{click:function(e){return t.$store.commit("playlists/chooseTrack",null)}}},[a("i",{staticClass:"list icon"}),a("translate",{attrs:{"translate-context":"Content/Home/CreatePlaylist"}},[t._v(" Create Playlist ")])],1):t._e()]),t.nextPage?[a("div",{staticClass:"ui hidden divider"}),t.nextPage?a("button",{class:["ui","basic","button"],on:{click:function(e){return t.fetchData(t.nextPage)}}},[a("translate",{attrs:{"translate-context":"*/*/Button,Label"}},[t._v(" Show more ")])],1):t._e()]:t._e()],2)},i=[],n=a("2909"),r=(a("99af"),a("ceb5")),o=a("bc3a"),l=a.n(o),c=a("2696"),u={components:{PlaylistCard:c["a"]},props:{filters:{type:Object,required:!0},url:{type:String,required:!0}},data:function(){return{objects:[],limit:this.filters.limit||3,isLoading:!1,errors:null,previousPage:null,nextPage:null}},computed:{playlistsExist:function(){return this.objects.length>0}},watch:{offset:function(){this.fetchData()},"$store.state.moderation.lastUpdate":function(){this.fetchData(this.url)}},created:function(){this.fetchData(this.url)},methods:{fetchData:function(t){if(t){this.isLoading=!0;var e=this,a=r["a"].clone(this.filters);a.page_size=this.limit,a.offset=this.offset,l.a.get(t,{params:a}).then((function(t){e.previousPage=t.data.previous,e.nextPage=t.data.next,e.isLoading=!1,e.objects=[].concat(Object(n["a"])(e.objects),Object(n["a"])(t.data.results))}),(function(t){e.isLoading=!1,e.errors=t.backendErrors}))}},updateOffset:function(t){t?this.offset+=this.limit:this.offset=Math.max(this.offset-this.limit,0)}}},d=u,p=a("2877"),h=Object(p["a"])(d,s,i,!1,null,null,null);e["a"]=h.exports},8352:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dropdown",staticClass:"ui multiple search selection dropdown"},[a("input",{attrs:{type:"hidden"}}),a("i",{staticClass:"dropdown icon"}),a("input",{staticClass:"search",attrs:{id:"tags-search",type:"text"}}),a("div",{staticClass:"default text"},[a("translate",{attrs:{"translate-context":"*/Dropdown/Placeholder/Verb"}},[t._v(" Search… ")])],1)])},i=[],n=a("5530"),r=a("2909"),o=(a("4e82"),a("ac1f"),a("1276"),a("7db0"),a("d3b7"),a("c975"),a("99af"),a("a434"),a("1157")),l=a.n(o),c=a("ceb5"),u={props:{value:{type:Array,required:!0}},watch:{value:{handler:function(t){var e=l()(this.$refs.dropdown).dropdown("get value").split(",").sort();c["a"].isEqual(Object(r["a"])(t).sort(),e)||l()(this.$refs.dropdown).dropdown("set exactly",t)},deep:!0}},mounted:function(){var t=this;this.$nextTick((function(){t.initDropdown()}))},methods:{initDropdown:function(){var t=this,e=function(){var e=l()(t.$refs.dropdown).dropdown("get value").split(",");return t.$emit("input",e),e},a={keys:{delimiter:32},forceSelection:!1,saveRemoteData:!1,filterRemoteData:!0,preserveHTML:!1,apiSettings:{url:this.$store.getters["instance/absoluteUrl"]("/api/v1/tags/?name__startswith={query}&ordering=length&page_size=5"),beforeXHR:function(e){return t.$store.state.auth.oauth.accessToken&&e.setRequestHeader("Authorization",t.$store.getters["auth/header"]),e},onResponse:function(e){var a=l()(t.$refs.dropdown).dropdown("get query");if(e=Object(n["a"])({results:[]},e),a){var s=e.results.find((function(t){return t.name===a}));s?0!==e.results.indexOf(s)&&(e.results=[s].concat(Object(r["a"])(e.results)),e.results.splice(e.results.indexOf(s)+1,1)):e.results=[{name:a}].concat(Object(r["a"])(e.results))}return e}},fields:{remoteValues:"results",value:"name"},allowAdditions:!0,minCharacters:1,onAdd:e,onRemove:e,onLabelRemove:e,onChange:e};l()(this.$refs.dropdown).dropdown(a),l()(this.$refs.dropdown).dropdown("set exactly",this.value)}}},d=u,p=a("2877"),h=Object(p["a"])(d,s,i,!1,null,null,null);e["a"]=h.exports},8479:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.playlists.length>0?a("div",[a("div",{staticClass:"ui app-cards cards"},t._l(t.playlists,(function(t){return a("playlist-card",{key:t.id,attrs:{playlist:t}})})),1)]):t._e()},i=[],n=a("2696"),r={components:{PlaylistCard:n["a"]},props:{playlists:{type:Array,required:!0}}},o=r,l=a("2877"),c=Object(l["a"])(o,s,i,!1,null,null,null);e["a"]=c.exports},"85a8":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",["small"===t.$store.getters["ui/layoutVersion"]?a("div",[a("rendered-description",{attrs:{content:t.object.summary,"field-name":"summary","update-url":"users/"+t.$store.state.auth.username+"/","can-update":t.$store.state.auth.authenticated&&t.object.full_username===t.$store.state.auth.fullUsername},on:{updated:function(e){return t.$emit("updated",e)}}}),a("div",{staticClass:"ui hidden divider"})],1):t._e(),a("div",[a("h2",{staticClass:"ui with-actions header"},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Channels ")]),t.$store.state.auth.authenticated&&t.object.full_username===t.$store.state.auth.fullUsername?a("div",{staticClass:"actions"},[a("a",{attrs:{href:""},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.showCreateModal=!0}}},[a("i",{staticClass:"plus icon"}),a("translate",{attrs:{"translate-context":"Content/Profile/Button"}},[t._v("Add new")])],1)]):t._e()],1),a("channels-widget",{attrs:{filters:{scope:"actor:"+t.object.full_username}}}),a("h2",{staticClass:"ui with-actions header"},[a("translate",{attrs:{"translate-context":"Content/Profile/Header"}},[t._v(" User Libraries ")]),t.$store.state.auth.authenticated&&t.object.full_username===t.$store.state.auth.fullUsername?a("div",{staticClass:"actions"},[a("router-link",{attrs:{to:{name:"content.libraries.index"}}},[a("i",{staticClass:"plus icon"}),a("translate",{attrs:{"translate-context":"Content/Profile/Button"}},[t._v(" Add new ")])],1)],1):t._e()],1),a("library-widget",{attrs:{url:"federation/actors/"+t.object.full_username+"/libraries/"}},[a("translate",{attrs:{slot:"title","translate-context":"Content/Profile/Paragraph"},slot:"title"},[t._v(" This user shared the following libraries ")])],1)],1),a("modal",{attrs:{show:t.showCreateModal},on:{"update:show":function(e){t.showCreateModal=e}}},[a("h4",{staticClass:"header"},[1===t.step?a("translate",{key:"1",attrs:{"translate-context":"Content/Channel/*/Verb"}},[t._v(" Create channel ")]):"podcast"===t.category?a("translate",{key:"2",attrs:{"translate-context":"Content/Channel/*"}},[t._v(" Podcast channel ")]):a("translate",{key:"3",attrs:{"translate-context":"Content/Channel/*"}},[t._v(" Artist channel ")])],1),a("div",{ref:"modalContent",staticClass:"scrolling content"},[a("channel-form",{ref:"createForm",attrs:{object:null,step:t.step},on:{loading:function(e){t.isLoading=e},submittable:function(e){t.submittable=e},category:function(e){t.category=e},errored:function(e){t.$refs.modalContent.scrollTop=0},created:function(e){return t.$router.push({name:"channels.detail",params:{id:e.actor.preferred_username}})}}}),a("div",{staticClass:"ui hidden divider"})],1),a("div",{staticClass:"actions"},[1===t.step?a("button",{staticClass:"ui basic deny button"},[a("translate",{attrs:{"translate-context":"*/*/Button.Label/Verb"}},[t._v(" Cancel ")])],1):t._e(),t.step>1?a("button",{staticClass:"ui basic button",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.step-=1}}},[a("translate",{attrs:{"translate-context":"*/*/Button.Label/Verb"}},[t._v(" Previous step ")])],1):t._e(),1===t.step?a("button",{staticClass:"ui primary button",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.step+=1}}},[a("translate",{attrs:{"translate-context":"*/*/Button.Label"}},[t._v(" Next step ")])],1):t._e(),2===t.step?a("button",{class:["ui","primary button",{loading:t.isLoading}],attrs:{type:"submit",disabled:!t.submittable&&!t.isLoading},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$refs.createForm.submit.apply(null,arguments)}}},[a("translate",{attrs:{"translate-context":"*/Channels/Button.Label"}},[t._v(" Create channel ")])],1):t._e()])])],1)},i=[],n=a("404d"),r=a("06cd"),o=a("a5fd"),l=a("6eaa"),c={components:{ChannelsWidget:o["a"],LibraryWidget:r["a"],ChannelForm:l["a"],Modal:n["default"]},props:{object:{type:Object,required:!0}},data:function(){return{showCreateModal:!1,isLoading:!1,submittable:!1,step:1,category:"podcast"}}},u=c,d=a("2877"),p=Object(d["a"])(u,s,i,!1,null,null,null);e["default"]=p.exports},"861e":function(t,e,a){"use strict";a("8de5")},"8bbd":function(t,e,a){},"8dcb":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{show:t.show},on:{"update:show":function(e){t.$emit("update:show",e),t.isError=!1}}},[a("h3",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Popup/Instance/Title"}},[t._v(" Choose your instance ")])],1),a("div",{staticClass:"scrolling content"},[t.isError?a("div",{staticClass:"ui negative message",attrs:{role:"alert"}},[a("h4",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Popup/Instance/Error message.Title"}},[t._v(" It is not possible to connect to the given URL ")])],1),a("ul",{staticClass:"list"},[a("li",[a("translate",{attrs:{"translate-context":"Popup/Instance/Error message.List item"}},[t._v(" The server might be down ")])],1),a("li",[a("translate",{attrs:{"translate-context":"Popup/Instance/Error message.List item"}},[t._v(" The given address is not a Funkwhale server ")])],1)])]):t._e(),a("form",{staticClass:"ui form",on:{submit:function(e){return e.preventDefault(),t.checkAndSwitch(t.instanceUrl)}}},[t.$store.state.instance.instanceUrl?a("p",{directives:[{name:"translate",rawName:"v-translate",value:{url:t.$store.state.instance.instanceUrl,hostname:t.instanceHostname},expression:"{url: $store.state.instance.instanceUrl, hostname: instanceHostname }"}],staticClass:"description",attrs:{"translate-context":"Popup/Login/Paragraph"}},[t._v(" You are currently connected to "),a("a",{attrs:{href:"%{ url }",target:"_blank"}},[t._v("%{ hostname } "),a("i",{staticClass:"external icon"})]),t._v(". If you continue, you will be disconnected from your current instance and all your local data will be deleted. ")]):a("p",[a("translate",{attrs:{"translate-context":"Popup/Instance/Paragraph"}},[t._v(" To continue, please select the Funkwhale instance you want to connect to. Enter the address directly, or select one of the suggested choices. ")])],1),a("div",{staticClass:"field"},[a("label",{attrs:{for:"instance-picker"}},[a("translate",{attrs:{"translate-context":"Popup/Instance/Input.Label/Noun"}},[t._v("Instance URL")])],1),a("div",{staticClass:"ui action input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.instanceUrl,expression:"instanceUrl"}],attrs:{id:"instance-picker",type:"text",placeholder:"https://funkwhale.server"},domProps:{value:t.instanceUrl},on:{input:function(e){e.target.composing||(t.instanceUrl=e.target.value)}}}),a("button",{class:["ui","icon",{loading:t.isLoading},"button"],attrs:{type:"submit"}},[a("translate",{attrs:{"translate-context":"*/*/Button.Label/Verb"}},[t._v(" Submit ")])],1)])])]),a("div",{staticClass:"ui hidden divider"}),a("form",{staticClass:"ui form",on:{submit:function(t){t.preventDefault()}}},[a("div",{staticClass:"field"},[a("h4",[a("translate",{attrs:{"translate-context":"Popup/Instance/List.Label"}},[t._v(" Suggested choices ")])],1),t._l(t.suggestedInstances,(function(e,s){return a("button",{key:s,staticClass:"ui basic button",on:{click:function(a){return t.checkAndSwitch(e)}}},[t._v(" "+t._s(e)+" ")])}))],2)])]),a("div",{staticClass:"actions"},[a("button",{staticClass:"ui basic cancel button"},[a("translate",{attrs:{"translate-context":"*/*/Button.Label/Verb"}},[t._v(" Cancel ")])],1)])])},i=[],n=(a("fb6a"),a("8a79"),a("4de4"),a("d3b7"),a("99af"),a("2ca0"),a("404d")),r=a("bc3a"),o=a.n(r),l=a("ceb5"),c={components:{Modal:n["default"]},props:{show:{type:Boolean,required:!0}},data:function(){return{instanceUrl:null,nodeinfo:null,isError:!1,isLoading:!1,path:"api/v1/instance/nodeinfo/2.0/"}},computed:{suggestedInstances:function(){var t=this.$store.state.instance.knownInstances.slice(0);if(this.$store.state.instance.frontSettings.defaultServerUrl){var e=this.$store.state.instance.frontSettings.defaultServerUrl;e.endsWith("/")||(e+="/"),t.push(e)}var a=this;return t.push(this.$store.getters["instance/defaultUrl"](),"https://demo.funkwhale.audio/"),l["a"].uniq(t.filter((function(t){return t!==a.$store.state.instance.instanceUrl})))},instanceHostname:function(){var t=this.$store.state.instance.instanceUrl,e=document.createElement("a");return e.href=t,e.hostname}},watch:{"$store.state.instance.instanceUrl":function(){this.$store.dispatch("instance/fetchSettings"),this.fetchNodeInfo()}},methods:{fetchNodeInfo:function(){var t=this;o.a.get("instance/nodeinfo/2.0/").then((function(e){t.nodeinfo=e.data}))},fetchUrl:function(t){var e=t;return e=e.endsWith("/")?"".concat(e).concat(this.path):"".concat(e,"/").concat(this.path),e.startsWith("https://")||e.startsWith("http://")||(e="https://".concat(e)),e},requestDistantNodeInfo:function(t){var e=this;o.a.get(this.fetchUrl(t)).then((function(a){e.isLoading=!1,t.startsWith("https://")||t.startsWith("http://")||(t="https://".concat(t)),e.switchInstance(t)})).catch((function(){e.isLoading=!1,e.isError=!0}))},switchInstance:function(t){this.$emit("update:show",!1),this.isError=!1;var e=this.$pgettext("*/Instance/Message","You are now using the Funkwhale instance at %{ url }");this.$store.commit("ui/addMessage",{content:this.$gettextInterpolate(e,{url:t}),date:new Date});var a=this;this.$nextTick((function(){a.$store.commit("instance/instanceUrl",null),a.$store.dispatch("instance/setUrl",t)}))},checkAndSwitch:function(t){this.isError=!1,this.isLoading=!0,this.requestDistantNodeInfo(t)}}},u=c,d=a("2877"),p=Object(d["a"])(u,s,i,!1,null,null,null);e["default"]=p.exports},"8de5":function(t,e,a){},ace9:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"both"===t.type||void 0===t.type?a("div",{staticClass:"two ui buttons"},[a("button",{staticClass:"ui left floated labeled icon button",on:{click:function(e){return e.preventDefault(),t.changeType("rss")}}},[a("i",{staticClass:"feed icon"}),a("translate",{attrs:{"translate-context":"Content/Search/Input.Label/Noun"}},[t._v(" RSS ")])],1),a("div",{staticClass:"or"}),a("button",{staticClass:"ui right floated right labeled icon button",on:{click:function(e){return e.preventDefault(),t.changeType("artists")}}},[a("i",{staticClass:"globe icon"}),a("translate",{attrs:{"translate-context":"Content/Search/Input.Label/Noun"}},[t._v(" Fediverse ")])],1)]):a("div",[a("form",{class:["ui",{loading:t.isLoading},"form"],attrs:{id:"remote-search"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[t.errors.length>0?a("div",{staticClass:"ui negative message",attrs:{role:"alert"}},[a("h3",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Content/*/Error message.Title"}},[t._v(" Error while fetching object ")])],1),a("ul",{staticClass:"list"},t._l(t.errors,(function(e,s){return a("li",{key:s},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),a("div",{staticClass:"ui required field"},[a("label",{attrs:{for:"object-id"}},[t._v(" "+t._s(t.labels.fieldLabel)+" ")]),"rss"===t.type?a("p",[a("translate",{attrs:{"translate-context":"Content/Fetch/Paragraph"}},[t._v(" Use this form to subscribe to an RSS feed from its URL. ")])],1):"artists"===t.type?a("p",[a("translate",{attrs:{"translate-context":"Content/Fetch/Paragraph"}},[t._v(" Use this form to subscribe to a channel hosted somewhere else on the Fediverse. ")])],1):t._e(),a("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{id:"object-id",type:"text",name:"object-id",placeholder:t.labels.fieldPlaceholder,required:""},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}})]),t.showSubmit?a("button",{class:["ui","primary",{loading:t.isLoading},"button"],attrs:{type:"submit",disabled:t.isLoading||!t.id||0===t.id.length}},[a("translate",{attrs:{"translate-context":"Content/Search/Input.Label/Noun"}},[t._v(" Search ")])],1):t._e()]),t.isLoading||!t.fetch||"finished"!==t.fetch.status||t.redirectRoute?t._e():a("div",{staticClass:"ui warning message",attrs:{role:"alert"}},[a("p",[a("translate",{attrs:{"translate-context":"Content/*/Error message.Title"}},[t._v(" This kind of object isn't supported yet ")])],1)])])},i=[],n=a("3835"),r=(a("ac1f"),a("1276"),a("5319"),a("bc3a")),o=a.n(r),l={props:{initialId:{type:String,required:!1,default:""},initialType:{type:String,required:!1,default:""},redirect:{type:Boolean,default:!0},showSubmit:{type:Boolean,default:!0},standalone:{type:Boolean,default:!0}},data:function(){return{type:this.initialType,id:this.initialId,fetch:null,obj:null,isLoading:!1,errors:[]}},computed:{labels:function(){var t="",e="",a="";return"rss"===this.type?(t=this.$pgettext("Head/Fetch/Title","Subscribe to a podcast RSS feed"),e=this.$pgettext("*/*/*","RSS feed location"),a=this.$pgettext("Head/Fetch/Field.Placeholder","https://website.example.com/rss.xml")):"artists"===this.type&&(t=this.$pgettext("Head/Fetch/Title","Subscribe to a podcast hosted on the Fediverse"),e=this.$pgettext("*/*/*","Fediverse object"),a=this.$pgettext("Head/Fetch/Field.Placeholder","@username@example.com")),{title:t,fieldLabel:e,fieldPlaceholder:a}},objInfo:function(){return this.fetch&&"finished"===this.fetch.status?this.fetch.object:null},redirectRoute:function(){if(this.objInfo){switch(this.objInfo.type){case"account":var t=this.objInfo.full_username.split("@"),e=Object(n["a"])(t,2),a=e[0],s=e[1];return{name:"profile.full",params:{username:a,domain:s}};case"library":return{name:"library.detail",params:{id:this.objInfo.uuid}};case"artist":return{name:"library.artists.detail",params:{id:this.objInfo.id}};case"album":return{name:"library.albums.detail",params:{id:this.objInfo.id}};case"track":return{name:"library.tracks.detail",params:{id:this.objInfo.id}};case"upload":return{name:"library.uploads.detail",params:{id:this.objInfo.uuid}};case"channel":return{name:"channels.detail",params:{id:this.objInfo.uuid}};default:break}return null}}},watch:{initialId:function(t){this.id=t,this.createFetch()},redirectRoute:function(t){t&&this.redirect&&this.$router.push(t)}},created:function(){this.id&&("rss"===this.type?this.rssSubscribe():"artists"===this.type&&this.createFetch())},methods:{changeType:function(t){this.type=t},submit:function(){return"rss"===this.type?this.rssSubscribe():this.createFetch()},createFetch:function(){if(this.id){this.standalone&&this.$router.replace({name:"search",query:{id:this.id}}),this.fetch=null;var t=this;t.errors=[],t.isLoading=!0;var e={object:this.id};o.a.post("federation/fetches/",e).then((function(e){t.isLoading=!1,t.fetch=e.data,"errored"!==t.fetch.status&&"skipped"!==t.fetch.status||t.errors.push(t.$pgettext("Content/*/Error message.Title","This object cannot be retrieved"))}),(function(e){t.isLoading=!1,t.errors=e.backendErrors}))}},rssSubscribe:function(){if(this.id){this.standalone&&this.$router.replace({name:"search",query:{id:this.id,type:"rss"}}),this.fetch=null;var t=this;t.errors=[],t.isLoading=!0;var e={url:this.id};o.a.post("channels/rss-subscribe/",e).then((function(e){t.isLoading=!1,t.$store.commit("channels/subscriptions",{uuid:e.data.channel.uuid,value:!0}),t.$emit("subscribed",e.data),t.redirect&&t.$router.push({name:"channels.detail",params:{id:e.data.channel.uuid}})}),(function(e){t.isLoading=!1,t.errors=e.backendErrors}))}}}},c=l,u=a("2877"),d=Object(u["a"])(c,s,i,!1,null,null,null);e["a"]=d.exports},b0fb:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{directives:[{name:"title",rawName:"v-title",value:t.labels.title,expression:"labels.title"}],staticClass:"ui vertical aligned stripe segment"},[a("div",{staticClass:"ui text container"},[a("h1",[t._v(t._s(t.labels.title))]),a("p",[a("strong",[a("translate",{attrs:{"translate-context":"Content/Library/Paragraph","translate-params":{quota:t.defaultQuota}}},[t._v("This instance offers up to %{quota} of storage space for every user.")])],1)]),a("div",{staticClass:"ui segment"},[a("h2",[a("i",{staticClass:"feed icon"}),t._v("  "),a("translate",{attrs:{"translate-context":"Content/Library/Title/Verb"}},[t._v(" Publish your work in a channel ")])],1),a("p",[a("translate",{attrs:{"translate-context":"Content/Library/Paragraph"}},[t._v(" If you are a musician or a podcaster, channels are designed for you! ")]),t._v(" "),a("translate",{attrs:{"translate-context":"Content/Library/Paragraph"}},[t._v(" Share your work publicly and get subscribers on Funkwhale, the Fediverse or any podcasting application. ")])],1),a("router-link",{staticClass:"ui primary button",attrs:{to:{name:"profile.overview",params:{username:t.$store.state.auth.username},hash:"#channels"}}},[a("translate",{attrs:{"translate-context":"Content/Library/Button.Label/Verb"}},[t._v(" Get started ")])],1)],1),a("div",{staticClass:"ui segment"},[a("h2",[a("i",{staticClass:"cloud icon"}),t._v("  "),a("translate",{attrs:{"translate-context":"Content/Library/Title/Verb"}},[t._v(" Upload third-party content in a library ")])],1),a("p",[a("translate",{attrs:{"translate-context":"Content/Library/Paragraph"}},[t._v(" Upload your personal music library to Funkwhale to enjoy it from anywhere and share it with friends and family. ")])],1),a("router-link",{staticClass:"ui primary button",attrs:{to:{name:"content.libraries.index"}}},[a("translate",{attrs:{"translate-context":"Content/Library/Button.Label/Verb"}},[t._v(" Get started ")])],1)],1),a("div",{staticClass:"ui segment"},[a("h2",[a("i",{staticClass:"download icon"}),t._v("  "),a("translate",{attrs:{"translate-context":"Content/Library/Title/Verb"}},[t._v(" Follow remote libraries ")])],1),a("p",[a("translate",{attrs:{"translate-context":"Content/Library/Paragraph"}},[t._v(" Follow libraries from other users to get access to new music. Public libraries can be followed immediately, while following a private library requires approval from its owner. ")])],1),a("router-link",{staticClass:"ui primary button",attrs:{to:{name:"content.remote.index"}}},[a("translate",{attrs:{"translate-context":"Content/Library/Button.Label/Verb"}},[t._v(" Get started ")])],1)],1)])])},i=[],n=a("98fc"),r={computed:{labels:function(){return{title:this.$pgettext("Content/Library/Title/Verb","Add and manage content")}},defaultQuota:function(){var t=1e3*this.$store.state.instance.settings.users.upload_quota.value*1e3;return Object(n["a"])(t)}}},o=r,l=a("2877"),c=Object(l["a"])(o,s,i,!1,null,null,null);e["default"]=c.exports},b5e5:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui card"},[a("div",{staticClass:"content"},[a("h4",{staticClass:"header"},[t.radio.id?a("router-link",{staticClass:"discrete link",attrs:{to:{name:"library.radios.detail",params:{id:t.radio.id}}}},[t._v(" "+t._s(t.radio.name)+" ")]):[t._v(" "+t._s(t.radio.name)+" ")]],2),a("div",{staticClass:"description",class:{expanded:t.isDescriptionExpanded},on:{click:function(e){t.isDescriptionExpanded=!t.isDescriptionExpanded}}},[t._v(" "+t._s(t.radio.description)+" ")])]),a("div",{staticClass:"extra content"},[t.radio.user?a("user-link",{staticClass:"left floated",attrs:{user:t.radio.user}}):t._e(),a("div",{staticClass:"ui hidden divider"}),a("radio-button",{staticClass:"right floated button",attrs:{type:t.type,"custom-radio-id":t.customRadioId,"object-id":t.objectId}}),t.$store.state.auth.authenticated&&"custom"===t.type&&t.radio.user.id===t.$store.state.auth.profile.id?a("router-link",{staticClass:"ui success button right floated",attrs:{to:{name:"library.radios.edit",params:{id:t.customRadioId}}}},[a("translate",{attrs:{"translate-context":"Content/*/Button.Label/Verb"}},[t._v(" Edit ")])],1):t._e()],1)])},i=[],n=(a("b64b"),a("d4fd")),r={components:{RadioButton:n["a"]},props:{type:{type:String,required:!0,default:""},customRadio:{type:Object,required:!1,default:function(){return{}}},objectId:{type:String,required:!1,default:null}},data:function(){return{isDescriptionExpanded:!1}},computed:{radio:function(){return Object.keys(this.customRadio).length>0?this.customRadio:this.$store.getters["radios/types"][this.type]},customRadioId:function(){return this.customRadio?this.customRadio.id:null}}},o=r,l=a("2877"),c=Object(l["a"])(o,s,i,!1,null,null,null);e["a"]=c.exports},c256:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{show:t.show},on:{"update:show":function(e){return t.$emit("update:show",e)}}},[a("header",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"*/*/*/Noun"}},[t._v(" Keyboard shortcuts ")])],1),a("section",{staticClass:"scrolling content"},[a("div",{staticClass:"ui stackable two column grid"},[a("div",{staticClass:"column"},t._l(t.player,(function(e){return a("table",{key:e.title,staticClass:"ui compact basic table"},[a("caption",[t._v(t._s(e.title))]),a("tbody",t._l(e.shortcuts,(function(e){return a("tr",{key:e.summary},[a("td",[t._v(t._s(e.summary))]),a("td",[a("span",{staticClass:"ui label"},[t._v(t._s(e.key))])])])})),0)])})),0),a("div",{staticClass:"column"},t._l(t.general,(function(e){return a("table",{key:e.title,staticClass:"ui compact basic table"},[a("caption",[t._v(t._s(e.title))]),a("tbody",t._l(e.shortcuts,(function(e){return a("tr",{key:e.summary},[a("td",[t._v(t._s(e.summary))]),a("td",[a("span",{staticClass:"ui label"},[t._v(t._s(e.key))])])])})),0)])})),0)])]),a("footer",{staticClass:"actions"},[a("button",{staticClass:"ui basic cancel button"},[a("translate",{attrs:{"translate-context":"*/*/Button.Label/Verb"}},[t._v(" Close ")])],1)])])},i=[],n=(a("d3b7"),a("3ca3"),a("ddb0"),{components:{Modal:function(){return Promise.resolve().then(a.bind(null,"404d"))}},props:{show:{type:Boolean,required:!0}},computed:{general:function(){return[{title:this.$pgettext("Popup/Keyboard shortcuts/Title","General shortcuts"),shortcuts:[{key:"h",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Show available keyboard shortcuts")},{key:"shift + f",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Focus searchbar")},{key:"esc",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Unfocus searchbar")}]}]},player:function(){return[{title:this.$pgettext("Popup/Keyboard shortcuts/Title","Audio player shortcuts"),shortcuts:[{key:"p",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Pause/play the current track")},{key:"left",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Seek backwards 5s")},{key:"right",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Seek forwards 5s")},{key:"shift + left",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Seek backwards 30s")},{key:"shift + right",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Seek forwards 30s")},{key:"ctrl + shift + left",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Play previous track")},{key:"ctrl + shift + right",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Play next track")},{key:"shift + up",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Increase volume")},{key:"shift + down",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Decrease volume")},{key:"m",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Toggle mute")},{key:"e",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Expand queue/player view")},{key:"l",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Toggle queue looping")},{key:"s",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Shuffle queue")},{key:"q",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Clear queue")},{key:"f",summary:this.$pgettext("Popup/Keyboard shortcuts/Table.Label/Verb","Toggle favorite")}]}]}}}),r=n,o=a("2877"),l=Object(o["a"])(r,s,i,!1,null,null,null);e["default"]=l.exports},c395:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui card"},[a("div",{staticClass:"content"},[a("h4",{staticClass:"header"},[a("router-link",{attrs:{to:{name:"library.detail",params:{id:t.library.uuid}}}},[t._v(" "+t._s(t.library.name)+" ")]),a("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui right floated dropdown"},[a("i",{staticClass:"ellipsis vertical large icon nomargin"}),a("div",{staticClass:"menu"},t._l(t.getReportableObjs({library:t.library,account:t.library.actor}),(function(e){return a("button",{key:e.target.type+e.target.id,staticClass:"item basic",on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.$store.dispatch("moderation/report",e.target)}}},[a("i",{staticClass:"share icon"}),t._v(" "+t._s(e.label)+" ")])})),0)]),"me"===t.library.privacy_level?a("span",{staticClass:"right floated",attrs:{"data-tooltip":t.labels.tooltips.me}},[a("i",{staticClass:"small lock icon"})]):"everyone"===t.library.privacy_level?a("span",{staticClass:"right floated",attrs:{"data-tooltip":t.labels.tooltips.everyone}},[a("i",{staticClass:"small globe icon"})]):t._e()],1),a("div",{staticClass:"meta"},[a("span",[a("i",{staticClass:"small outline clock icon"}),a("human-date",{attrs:{date:t.library.creation_date}})],1)]),a("div",{staticClass:"description"},[t._v(" "+t._s(t.library.description)+" "),a("div",{staticClass:"ui hidden divider"})]),a("div",{staticClass:"meta"},[a("i",{staticClass:"music icon"}),a("translate",{attrs:{"translate-context":"*/*/*","translate-params":{count:t.library.uploads_count},"translate-n":t.library.uploads_count,"translate-plural":"%{ count } tracks"}},[t._v(" %{ count } track ")])],1),t.displayScan&&t.latestScan?a("div",{staticClass:"meta"},["pending"===t.latestScan.status?[a("i",{staticClass:"hourglass icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item"}},[t._v(" Scan pending ")])]:t._e(),"scanning"===t.latestScan.status?[a("i",{staticClass:"loading spinner icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item","translate-params":{progress:t.scanProgress}}},[t._v(" Scanning… (%{ progress }%) ")])]:"errored"===t.latestScan.status?[a("i",{staticClass:"dangerdownload icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item"}},[t._v(" Problem during scanning ")])]:"finished"===t.latestScan.status&&0===t.latestScan.errored_files?[a("i",{staticClass:"success download icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item"}},[t._v(" Scanned ")])]:"finished"===t.latestScan.status&&t.latestScan.errored_files>0?[a("i",{staticClass:"warning download icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item"}},[t._v(" Scanned with errors ")])]:t._e(),a("a",{staticClass:"link right floated",attrs:{href:""},on:{click:function(e){e.preventDefault(),t.showScan=!t.showScan}}},[a("translate",{attrs:{"translate-context":"Content/Library/Card.Button.Label/Noun"}},[t._v("Details")]),t.showScan?a("i",{staticClass:"angle down icon"}):a("i",{staticClass:"angle right icon"})],1),t.showScan?a("div",[t.latestScan.modification_date?[a("translate",{attrs:{"translate-context":"Content/Library/Card.List item/Noun"}},[t._v(" Last update: ")]),a("human-date",{attrs:{date:t.latestScan.modification_date}}),a("br")]:t._e(),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item/Noun"}},[t._v(" Failed tracks: ")]),t._v(" "+t._s(t.latestScan.errored_files)+" ")],2):t._e()],2):t._e(),t.displayScan&&t.canLaunchScan?a("div",{staticClass:"clearfix"},[a("a",{staticClass:"right floated link",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.launchScan.apply(null,arguments)}}},[a("translate",{attrs:{"translate-context":"Content/Library/Card.Button.Label/Verb"}},[t._v("Scan now")]),t._v(" "),a("i",{staticClass:"paper plane icon"})],1)]):t._e()]),a("div",{staticClass:"extra content"},[a("actor-link",{staticStyle:{color:"var(--link-color)"},attrs:{actor:t.library.actor}})],1),t.displayCopyFid?a("div",{staticClass:"extra content"},[a("div",{staticClass:"ui form"},[a("div",{staticClass:"field"},[a("label",{attrs:{for:t.library.fid}},[a("translate",{attrs:{"translate-context":"Content/Library/Title"}},[t._v("Sharing link")])],1),a("copy-input",{attrs:{id:t.library.fid,"button-classes":"basic",value:t.library.fid}})],1)])]):t._e(),t.displayFollow||t.radioPlayable?a("div",{class:["ui",{two:t.displayFollow&&t.radioPlayable},"bottom","attached","buttons"]},[t.radioPlayable?a("radio-button",{attrs:{type:"library","object-id":t.library.uuid}}):t._e(),t.displayFollow?[t.library.follow?t.library.follow.approved?t.library.follow.approved?[a("dangerous-button",{class:["ui","button"],attrs:{action:t.unfollow}},[a("translate",{attrs:{"translate-context":"*/Library/Button.Label/Verb"}},[t._v(" Unfollow ")]),a("p",{attrs:{slot:"modal-header"},slot:"modal-header"},[a("translate",{attrs:{"translate-context":"Popup/Library/Title"}},[t._v(" Unfollow this library? ")])],1),a("div",{attrs:{slot:"modal-content"},slot:"modal-content"},[a("p",[a("translate",{attrs:{"translate-context":"Popup/Library/Paragraph"}},[t._v(" By unfollowing this library, you loose access to its content. ")])],1)]),a("div",{attrs:{slot:"modal-confirm"},slot:"modal-confirm"},[a("translate",{attrs:{"translate-context":"*/Library/Button.Label/Verb"}},[t._v(" Unfollow ")])],1)],1)]:t._e():[a("button",{staticClass:"ui disabled button"},[a("i",{staticClass:"hourglass icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.Paragraph"}},[t._v(" Follow request pending approval ")])],1),a("button",{staticClass:"ui button",on:{click:t.unfollow}},[a("translate",{attrs:{"translate-context":"Content/Library/Card.Paragraph"}},[t._v(" Cancel follow request ")])],1)]:a("button",{class:["ui","success",{loading:t.isLoadingFollow},"button"],on:{click:function(e){return t.follow()}}},[a("translate",{attrs:{"translate-context":"Content/Library/Card.Button.Label/Verb"}},[t._v(" Follow ")])],1)]:t._e()],2):t._e()])},i=[],n=(a("e25e"),a("bc3a")),r=a.n(n),o=a("add5"),l=a("d4fd"),c={components:{RadioButton:l["a"]},mixins:[o["a"]],props:{initialLibrary:{type:Object,required:!0},displayFollow:{type:Boolean,default:!0},displayScan:{type:Boolean,default:!0},displayCopyFid:{type:Boolean,default:!0}},data:function(){return{library:this.initialLibrary,isLoadingFollow:!1,showScan:!1,scanTimeout:null,latestScan:this.initialLibrary.latest_scan}},computed:{labels:function(){var t=this.$pgettext("Content/Library/Card.Help text","This library is private and your approval from its owner is needed to access its content"),e=this.$pgettext("Content/Library/Card.Help text","This library is public and you can access its content freely");return{tooltips:{me:t,everyone:e}}},scanProgress:function(){var t=this.latestScan,e=100*t.processed_files/t.total_files;return Math.min(parseInt(e),100)},scanStatus:function(){return this.latestScan?this.latestScan.status:"unknown"},canLaunchScan:function(){return"pending"!==this.scanStatus&&"scanning"!==this.scanStatus},radioPlayable:function(){return(this.library.actor.is_local||"finished"===this.scanStatus)&&("everyone"===this.library.privacy_level||this.library.follow&&this.library.follow.is_approved)}},watch:{showScan:function(t,e){t?"pending"!==this.scanStatus&&"scanning"!==this.scanStatus||this.fetchScanStatus():this.scanTimeout&&clearTimeout(this.scanTimeout)}},methods:{launchScan:function(){var t=this,e=this.$pgettext("Content/Library/Message","Scan launched"),a=this.$pgettext("Content/Library/Message","Scan skipped (previous scan is too recent)");r.a.post("federation/libraries/".concat(this.library.uuid,"/scan/")).then((function(s){var i;"skipped"===s.data.status?i=a:(t.latestScan=s.data.scan,i=e),t.$store.commit("ui/addMessage",{content:i,date:new Date})}))},follow:function(){var t=this;this.isLoadingFollow=!0,r.a.post("federation/follows/library/",{target:this.library.uuid}).then((function(e){t.library.follow=e.data,t.isLoadingFollow=!1,t.$emit("followed")}),(function(e){t.isLoadingFollow=!1,t.$store.commit("ui/addMessage",{content:"Cannot follow remote library: "+e,date:new Date})}))},unfollow:function(){var t=this;this.isLoadingFollow=!0,r.a.delete("federation/follows/library/".concat(this.library.follow.uuid,"/")).then((function(e){t.$emit("deleted"),t.library.follow=null,t.isLoadingFollow=!1}),(function(e){t.isLoadingFollow=!1,t.$store.commit("ui/addMessage",{content:"Cannot unfollow remote library: "+e,date:new Date})}))},fetchScanStatus:function(){var t=this;r.a.get("federation/follows/library/".concat(this.library.follow.uuid,"/")).then((function(e){t.latestScan=e.data.target.latest_scan,"pending"===t.scanStatus||"scanning"===t.scanStatus?t.scanTimeout=setTimeout(t.fetchScanStatus(),5e3):clearTimeout(t.scanTimeout)}))}}},u=c,d=a("2877"),p=Object(d["a"])(u,s,i,!1,null,null,null);e["a"]=p.exports},c3b4:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui form"},[t.errors.length>0?a("div",{staticClass:"ui negative message",attrs:{role:"alert"}},[a("h4",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Content/*/Error message.Title"}},[t._v(" Your attachment cannot be saved ")])],1),a("ul",{staticClass:"list"},t._l(t.errors,(function(e,s){return a("li",{key:s},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),a("div",{staticClass:"ui field"},[a("span",{attrs:{id:"avatarLabel"}},[t._t("label")],2),a("div",{staticClass:"ui stackable grid row"},[a("div",{staticClass:"three wide column"},[t.value&&t.value===t.initialValue?a("img",{class:["ui",t.imageClass,"image"],attrs:{alt:"",src:t.$store.getters["instance/absoluteUrl"]("api/v1/attachments/"+t.value+"/proxy?next=medium_square_crop")}}):t.attachment?a("img",{class:["ui",t.imageClass,"image"],attrs:{alt:"",src:t.$store.getters["instance/absoluteUrl"]("api/v1/attachments/"+t.attachment.uuid+"/proxy?next=medium_square_crop")}}):a("div",{class:["ui",t.imageClass,"static","large placeholder image"]})]),a("div",{staticClass:"eleven wide column"},[a("div",{staticClass:"file-input"},[a("label",{attrs:{for:t.attachmentId}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Upload New Picture…")])],1),a("input",{ref:"attachment",staticClass:"ui input",attrs:{id:t.attachmentId,type:"file",accept:"image/x-png,image/jpeg"},on:{change:t.submit}})]),a("div",{staticClass:"ui very small hidden divider"}),a("p",[a("translate",{attrs:{"translate-context":"Content/*/Paragraph"}},[t._v(" PNG or JPG. Dimensions should be between 1400x1400px and 3000x3000px. Maximum file size allowed is 5MB. ")])],1),t.value?a("button",{staticClass:"ui basic tiny button",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.remove(t.value)}}},[a("translate",{attrs:{"translate-context":"Content/Radio/Button.Label/Verb"}},[t._v(" Remove ")])],1):t._e(),t.isLoading?a("div",{staticClass:"ui active inverted dimmer"},[a("div",{staticClass:"ui indeterminate text loader"},[a("translate",{attrs:{"translate-context":"Content/*/*/Noun"}},[t._v(" Uploading file… ")])],1)]):t._e()])])])])},i=[],n=(a("d401"),a("d3b7"),a("25f0"),a("bc3a")),r=a.n(n),o={props:{value:{type:String,default:null},imageClass:{type:String,default:"",required:!1}},data:function(){return{attachment:null,isLoading:!1,errors:[],initialValue:this.value,attachmentId:Math.random().toString(36).substring(7)}},watch:{value:function(t){this.attachment&&t===this.initialValue&&this.remove(this.attachment.uuid)}},methods:{submit:function(){var t=this;this.isLoading=!0,this.errors=[];var e=this;this.file=this.$refs.attachment.files[0];var a=new FormData;a.append("file",this.file),r.a.post("attachments/",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){t.isLoading=!1,e.attachment=a.data,e.$emit("input",e.attachment.uuid)}),(function(t){e.isLoading=!1,e.errors=t.backendErrors}))},remove:function(t){var e=this;this.isLoading=!0,this.errors=[];var a=this;r.a.delete("attachments/".concat(t,"/")).then((function(t){e.isLoading=!1,a.attachment=null,a.$emit("delete")}),(function(t){a.isLoading=!1,a.errors=t.backendErrors}))}}},l=o,c=a("2877"),u=Object(c["a"])(l,s,i,!1,null,null,null);e["a"]=u.exports},c8d2:function(t,e,a){var s=a("5e77").PROPER,i=a("d039"),n=a("5899"),r="​᠎";t.exports=function(t){return i((function(){return!!n[t]()||r[t]()!==r||s&&n[t].name!==t}))}},d998:function(t,e,a){var s=a("342f");t.exports=/MSIE|Trident/.test(s)},e821:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{directives:[{name:"title",rawName:"v-title",value:t.labels.title,expression:"labels.title"}],key:t.$router.currentRoute.name},[a("section",{staticClass:"ui vertical stripe segment"},[a("div",{staticClass:"ui stackable three column grid"},[a("div",{staticClass:"column"},[a("track-widget",{attrs:{url:"history/listenings/",filters:{scope:t.scope,ordering:"-creation_date"}}},[a("template",{slot:"title"},[a("translate",{attrs:{"translate-context":"Content/Home/Title"}},[t._v(" Recently listened ")])],1)],2)],1),a("div",{staticClass:"column"},[a("track-widget",{attrs:{url:"favorites/tracks/",filters:{scope:t.scope,ordering:"-creation_date"}}},[a("template",{slot:"title"},[a("translate",{attrs:{"translate-context":"Content/Home/Title"}},[t._v(" Recently favorited ")])],1)],2)],1),a("div",{staticClass:"column"},[a("playlist-widget",{attrs:{url:"playlists/",filters:{scope:t.scope,playable:!0,ordering:"-modification_date"}}},[a("template",{slot:"title"},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Playlists ")])],1)],2)],1)]),a("div",{staticClass:"ui section hidden divider"}),a("div",{staticClass:"ui stackable one column grid"},[a("div",{staticClass:"column"},[a("album-widget",{attrs:{filters:{scope:t.scope,playable:!0,ordering:"-creation_date"}}},[a("template",{slot:"title"},[a("translate",{attrs:{"translate-context":"Content/Home/Title"}},[t._v(" Recently added ")])],1)],2)],1)]),"all"===t.scope?[a("h3",{staticClass:"ui header"},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" New channels ")])],1),a("channels-widget",{attrs:{"show-modification-date":!0,limit:12,filters:{ordering:"-creation_date",external:"false"}}})]:t._e()],2)])},i=[],n=a("bc3a"),r=a.n(n),o=a("3677"),l=a("a5fd"),c=a("359d"),u=a("8356"),d=a("773e"),p="artists/",h={name:"Library",components:{TrackWidget:c["a"],AlbumWidget:u["a"],PlaylistWidget:d["a"],ChannelsWidget:l["a"]},props:{scope:{type:String,default:"all"}},data:function(){return{artists:[],isLoadingArtists:!1}},computed:{labels:function(){return{title:this.$pgettext("Head/Home/Title","Library")}}},created:function(){this.fetchArtists()},methods:{fetchArtists:function(){var t=this;this.isLoadingArtists=!0;var e={ordering:"-creation_date",playable:!0},a=p;o["a"].default.time("Loading latest artists"),r.a.get(a,{params:e}).then((function(e){t.artists=e.data.results,o["a"].default.timeEnd("Loading latest artists"),t.isLoadingArtists=!1}))}}},m=h,f=a("2877"),b=Object(f["a"])(m,s,i,!1,null,null,null);e["default"]=b.exports},f0ac:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{directives:[{name:"title",rawName:"v-title",value:t.labels.title,expression:"labels.title"}],staticClass:"main pusher"},[a("nav",{staticClass:"ui secondary pointing menu",attrs:{role:"navigation","aria-label":t.labels.secondaryMenu}},[a("router-link",{staticClass:"ui item",attrs:{to:{name:"content.libraries.index"}}},[a("translate",{attrs:{"translate-context":"*/*/*/Noun"}},[t._v(" Libraries ")])],1),a("router-link",{staticClass:"ui item",attrs:{to:{name:"content.libraries.files"}}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Tracks ")])],1)],1),a("router-view",{key:t.$route.fullPath})],1)},i=[],n={computed:{labels:function(){var t=this.$pgettext("*/Library/*/Verb","Add content"),e=this.$pgettext("Menu/*/Hidden text","Secondary menu");return{title:t,secondaryMenu:e}}}},r=n,o=a("2877"),l=Object(o["a"])(r,s,i,!1,null,null,null);e["default"]=l.exports}}]);