(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["albums"],{"06cd":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[t.$slots.title?a("h3",{staticClass:"ui header"},[t._t("title")],2):t._e(),!t.isLoading&&t.libraries.length>0?a("p",{staticClass:"ui subtitle"},[t._t("subtitle")],2):t._e(),t.isLoading||0!==t.libraries.length?t._e():a("p",{staticClass:"ui subtitle"},[a("translate",{attrs:{"translate-context":"Content/Federation/Paragraph"}},[t._v(" No matching library. ")])],1),a("div",{staticClass:"ui hidden divider"}),a("div",{staticClass:"ui cards"},[t.isLoading?a("div",{staticClass:"ui inverted active dimmer"},[a("div",{staticClass:"ui loader"})]):t._e(),t._l(t.libraries,(function(e){return a("library-card",{key:e.uuid,attrs:{"display-scan":!1,"display-follow":t.$store.state.auth.authenticated&&e.actor.full_username!=t.$store.state.auth.fullUsername,"initial-library":e,"display-copy-fid":!0}})}))],2),t.nextPage?[a("div",{staticClass:"ui hidden divider"}),t.nextPage?a("button",{class:["ui","basic","button"],on:{click:function(e){return t.fetchData(t.nextPage)}}},[a("translate",{attrs:{"translate-context":"*/*/Button,Label"}},[t._v(" Show more ")])],1):t._e()]:t._e()],2)},i=[],n=a("2909"),r=(a("99af"),a("ceb5")),o=a("bc3a"),l=a.n(o),c=a("c395"),u={components:{LibraryCard:c["a"]},props:{url:{type:String,required:!0}},data:function(){return{libraries:[],limit:6,isLoading:!1,errors:null,previousPage:null,nextPage:null}},watch:{offset:function(){this.fetchData()}},created:function(){this.fetchData(this.url)},methods:{fetchData:function(t){this.isLoading=!0;var e=this,a=r["a"].clone({});a.page_size=this.limit,a.offset=this.offset,l.a.get(t,{params:a}).then((function(t){e.previousPage=t.data.previous,e.nextPage=t.data.next,e.isLoading=!1,e.libraries=[].concat(Object(n["a"])(e.libraries),Object(n["a"])(t.data.results)),e.$emit("loaded",e.libraries)}),(function(t){e.isLoading=!1,e.errors=t.backendErrors}))},updateOffset:function(t){t?this.offset+=this.limit:this.offset=Math.max(this.offset-this.limit,0)}}},d=u,p=a("2877"),b=Object(p["a"])(d,s,i,!1,null,null,null);e["a"]=b.exports},"20be":function(t,e,a){"use strict";a("ac1f"),a("1276"),a("a15b"),a("fb6a");var s,i,n={props:{defaultOrdering:{type:String,required:!1,default:""},orderingConfigName:{type:String,required:!1,default:""}},computed:{orderingConfig:function(){return this.$store.state.ui.routePreferences[this.orderingConfigName||this.$route.name]},paginateBy:{set:function(t){this.$store.commit("ui/paginateBy",{route:this.$route.name,value:t})},get:function(){return this.orderingConfig.paginateBy}},ordering:{set:function(t){this.$store.commit("ui/ordering",{route:this.$route.name,value:t})},get:function(){return this.orderingConfig.ordering}},orderingDirection:{set:function(t){this.$store.commit("ui/orderingDirection",{route:this.$route.name,value:t})},get:function(){return this.orderingConfig.orderingDirection}}},methods:{getOrderingFromString:function(t){var e=t.split("-");return e.length>1?{direction:"-",field:e.slice(1).join("-")}:{direction:"+",field:t}},getOrderingAsString:function(){var t=this.orderingDirection;return"+"===t&&(t=""),[t,this.ordering].join("")}}},r=n,o=a("2877"),l=Object(o["a"])(r,s,i,!1,null,null,null);e["a"]=l.exports},"38b2":function(t,e,a){"use strict";a("a9e3");var s,i,n={props:{defaultPage:{type:Number,required:!1,default:1},defaultPaginateBy:{type:Number,required:!1,default:1}}},r=n,o=a("2877"),l=Object(o["a"])(r,s,i,!1,null,null,null);e["a"]=l.exports},"64c4":function(t,e,a){"use strict";var s,i,n={computed:{sharedLabels:function(){return{fields:{privacy_level:{label:this.$pgettext("Content/Settings/Dropdown.Label/Noun","Activity visibility"),help:this.$pgettext("Content/Settings/Dropdown.Help text","Determine the visibility level of your activity"),choices:{me:this.$pgettext("Content/Settings/Dropdown","Nobody except me"),instance:this.$pgettext("Content/Settings/Dropdown","Everyone on this instance"),everyone:this.$pgettext("Content/Settings/Dropdown","Everyone, across all instances")},shortChoices:{me:this.$pgettext("Content/Settings/Dropdown/Short","Private"),instance:this.$pgettext("Content/Settings/Dropdown/Short","Instance"),everyone:this.$pgettext("Content/Settings/Dropdown/Short","Everyone")}},import_status:{detailTitle:this.$pgettext("Content/Library/Link.Title","Click to display more information about the import process for this upload"),choices:{skipped:{label:this.$pgettext("Content/Library/*","Skipped"),help:this.$pgettext("Content/Library/Help text","This track is already present in one of your libraries")},draft:{label:this.$pgettext("Content/Library/*/Short","Draft"),help:this.$pgettext("Content/Library/Help text","This track has been uploaded, but hasn't been scheduled for processing yet")},pending:{label:this.$pgettext("Content/Library/*/Short","Pending"),help:this.$pgettext("Content/Library/Help text","This track has been uploaded, but hasn't been processed by the server yet")},errored:{label:this.$pgettext("Content/Library/Table/Short","Errored"),help:this.$pgettext("Content/Library/Help text","This track could not be processed, please make sure it is tagged correctly")},finished:{label:this.$pgettext("Content/Library/*","Finished"),help:this.$pgettext("Content/Library/Help text","Imported")}}},report_type:{label:this.$pgettext("*/*/*","Category"),choices:{takedown_request:this.$pgettext("Content/Moderation/Dropdown","Takedown request"),invalid_metadata:this.$pgettext("Popup/Import/Error.Label","Invalid metadata"),illegal_content:this.$pgettext("Content/Moderation/Dropdown","Illegal content"),offensive_content:this.$pgettext("Content/Moderation/Dropdown","Offensive content"),other:this.$pgettext("Content/Moderation/Dropdown","Other")}},summary:{label:this.$pgettext("Content/Account/*","Bio")},content_category:{label:this.$pgettext("Content/*/Dropdown.Label/Noun","Content category"),choices:{podcast:this.$pgettext("Content/*/Dropdown","Podcast"),music:this.$pgettext("*/*/*","Music"),other:this.$pgettext("*/*/*","Other")}}},filters:{creation_date:this.$pgettext("Content/*/*/Noun","Creation date"),release_date:this.$pgettext("Content/*/*/Noun","Release date"),accessed_date:this.$pgettext("Content/*/*/Noun","Accessed date"),first_seen:this.$pgettext("Content/Moderation/Dropdown/Noun","First seen date"),last_seen:this.$pgettext("Content/Moderation/Dropdown/Noun","Last seen date"),modification_date:this.$pgettext("Content/Playlist/Dropdown/Noun","Modification date"),expiration_date:this.$pgettext("Content/Admin/Table.Label/Noun","Expiration date"),track_title:this.$pgettext("Content/*/Dropdown/Noun","Track name"),album_title:this.$pgettext("Content/*/Dropdown/Noun","Album name"),artist_name:this.$pgettext("Content/*/Dropdown/Noun","Artist name"),name:this.$pgettext("*/*/*/Noun","Name"),length:this.$pgettext("*/*/*/Noun","Duration"),items_count:this.$pgettext("*/*/*/Noun","Items"),size:this.$pgettext("Content/*/*/Noun","Size"),bitrate:this.$pgettext("Content/Track/*/Noun","Bitrate"),duration:this.$pgettext("Content/*/*","Duration"),date_joined:this.$pgettext("Content/Admin/Table.Label/Noun","Sign-up date"),last_activity:this.$pgettext("Content/Profile/Table.Label/Short, Noun (Value is a date)","Last activity"),username:this.$pgettext("Content/*/*","Username"),domain:this.$pgettext("Content/Moderation/*/Noun","Domain"),users:this.$pgettext("*/*/*/Noun","Users"),received_messages:this.$pgettext("Content/Moderation/*/Noun","Received messages"),uploads:this.$pgettext("*/*/*","Uploads"),followers:this.$pgettext("Content/Federation/*/Noun","Followers")},scopes:{profile:{label:this.$pgettext("Content/OAuth Scopes/Label","Profile"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to e-mail, username, and profile information")},libraries:{label:this.$pgettext("Content/OAuth Scopes/Label","Libraries and uploads"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to audio files, libraries, artists, albums and tracks")},favorites:{label:this.$pgettext("Sidebar/Favorites/List item.Link/Noun","Favorites"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to favorites")},listenings:{label:this.$pgettext("*/*/*/Noun","Listenings"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to listening history")},follows:{label:this.$pgettext("Content/OAuth Scopes/Label","Follows"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to follows")},playlists:{label:this.$pgettext("*/*/*","Playlists"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to playlists")},radios:{label:this.$pgettext("*/*/*","Radios"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to radios")},filters:{label:this.$pgettext("Content/Settings/Title/Noun","Content filters"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to content filters")},notifications:{label:this.$pgettext("*/Notifications/*","Notifications"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to notifications")},edits:{label:this.$pgettext("*/Admin/*/Noun","Edits"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to edits")},security:{label:this.$pgettext("*/Admin/*/Noun","Security"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to security settings such as password and authorization")},reports:{label:this.$pgettext("*/Moderation/*/Noun","Reports"),description:this.$pgettext("Content/OAuth Scopes/Paragraph","Access to moderation reports")}}}}}},r=n,o=a("2877"),l=Object(o["a"])(r,s,i,!1,null,null,null);e["a"]=l.exports},"845c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[t.isLoading?s("div",{directives:[{name:"title",rawName:"v-title",value:t.labels.title,expression:"labels.title"}],staticClass:"ui vertical segment"},[s("div",{class:["ui","centered","active","inline","loader"]})]):t._e(),t.object?[s("section",{staticClass:"ui vertical stripe segment channel-serie"},[s("div",{staticClass:"ui stackable grid container"},[s("div",{staticClass:"ui seven wide column"},[t.isSerie?s("div",{staticClass:"padded basic segment"},[t.isSerie?s("div",{staticClass:"ui two column grid"},[s("div",{staticClass:"column"},[s("div",{staticClass:"large two-images"},[t.object.cover&&t.object.cover.urls.original?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.getters["instance/absoluteUrl"](t.object.cover.urls.medium_square_crop),expression:"$store.getters['instance/absoluteUrl'](object.cover.urls.medium_square_crop)"}],staticClass:"channel-image",attrs:{alt:""}}):s("img",{staticClass:"channel-image",attrs:{alt:"",src:a("271e")}}),t.object.cover&&t.object.cover.urls.original?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.getters["instance/absoluteUrl"](t.object.cover.urls.medium_square_crop),expression:"$store.getters['instance/absoluteUrl'](object.cover.urls.medium_square_crop)"}],staticClass:"channel-image",attrs:{alt:""}}):s("img",{staticClass:"channel-image",attrs:{alt:"",src:a("271e")}})])]),s("div",{staticClass:"ui column right aligned"},[t.object.tags&&t.object.tags.length>0?s("tags-list",{attrs:{tags:t.object.tags}}):t._e(),s("div",{staticClass:"ui small hidden divider"}),t.totalDuration>0?s("human-duration",{attrs:{duration:t.totalDuration}}):t._e(),t.totalTracks>0?[s("div",{staticClass:"ui hidden very small divider"}),t.isSerie?s("translate",{key:"1",attrs:{"translate-context":"Content/Channel/Paragraph","translate-plural":"%{ count } episodes","translate-n":t.totalTracks,"translate-params":{count:t.totalTracks}}},[t._v(" %{ count } episode ")]):s("translate",{attrs:{"translate-context":"*/*/*","translate-params":{count:t.totalTracks},"translate-n":t.totalTracks,"translate-plural":"%{ count } tracks"}},[t._v(" %{ count } track ")])]:t._e(),s("div",{staticClass:"ui small hidden divider"}),s("play-button",{staticClass:"vibrant",attrs:{tracks:t.object.tracks,"is-playable":t.object.is_playable}}),s("div",{staticClass:"ui hidden horizontal divider"}),s("album-dropdown",{attrs:{object:t.object,"public-libraries":t.publicLibraries,"is-loading":t.isLoading,"is-album":t.isAlbum,"is-serie":t.isSerie,"is-channel":t.isChannel,artist:t.artist}})],2)]):t._e(),s("div",{staticClass:"ui small hidden divider"}),s("header",[s("h2",{staticClass:"ui header",attrs:{title:t.object.title}},[t._v(" "+t._s(t.object.title)+" ")]),s("artist-label",{attrs:{artist:t.artist}})],1)]):s("div",{staticClass:"ui center aligned text padded basic segment"},[t.object.cover&&t.object.cover.urls.original?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.getters["instance/absoluteUrl"](t.object.cover.urls.medium_square_crop),expression:"$store.getters['instance/absoluteUrl'](object.cover.urls.medium_square_crop)"}],staticClass:"channel-image",attrs:{alt:""}}):s("img",{staticClass:"channel-image",attrs:{alt:"",src:a("271e")}}),s("div",{staticClass:"ui hidden divider"}),s("header",[s("h2",{staticClass:"ui header",attrs:{title:t.object.title}},[t._v(" "+t._s(t.object.title)+" ")]),s("artist-label",{staticClass:"rounded",attrs:{artist:t.artist}})],1),t.object.release_date||t.totalTracks>0?s("div",{staticClass:"ui small hidden divider"}):t._e(),t.object.release_date?s("span",[t._v(t._s(t._f("moment")(t.object.release_date,"Y"))+" · ")]):t._e(),t.totalTracks>0?[t.isSerie?s("translate",{key:"1",attrs:{"translate-context":"Content/Channel/Paragraph","translate-plural":"%{ count } episodes","translate-n":t.totalTracks,"translate-params":{count:t.totalTracks}}},[t._v(" %{ count } episode ")]):s("translate",{attrs:{"translate-context":"*/*/*","translate-params":{count:t.totalTracks},"translate-n":t.totalTracks,"translate-plural":"%{ count } tracks"}},[t._v(" %{ count } track ")]),t._v(" · ")]:t._e(),t.totalDuration>0?s("human-duration",{attrs:{duration:t.totalDuration}}):t._e(),s("div",{staticClass:"ui small hidden divider"}),s("play-button",{staticClass:"vibrant",attrs:{album:t.object,"is-playable":t.object.is_playable}}),s("div",{staticClass:"ui horizontal hidden divider"}),s("album-dropdown",{attrs:{object:t.object,"public-libraries":t.publicLibraries,"is-loading":t.isLoading,"is-album":t.isAlbum,"is-serie":t.isSerie,"is-channel":t.isChannel,artist:t.artist}}),t.object.tags&&t.object.tags.length>0||t.object.description||t.$store.state.auth.authenticated&&t.object.is_local?s("div",[s("div",{staticClass:"ui small hidden divider"}),s("div",{staticClass:"ui divider"}),s("div",{staticClass:"ui small hidden divider"}),t.object.tags&&t.object.tags.length>0?[s("tags-list",{attrs:{tags:t.object.tags}}),s("div",{staticClass:"ui small hidden divider"})]:t._e(),t.object.description?s("rendered-description",{attrs:{content:t.object.description,"can-update":!1}}):t.$store.state.auth.authenticated&&t.object.is_local?s("router-link",{attrs:{to:{name:"library.albums.edit",params:{id:t.object.id}}}},[s("i",{staticClass:"pencil icon"}),s("translate",{attrs:{"translate-context":"Content/*/Button.Label/Verb"}},[t._v(" Add a description… ")])],1):t._e()],2):t._e()],2),t.isSerie?[s("div",{staticClass:"ui hidden divider"}),t.object.description?s("rendered-description",{attrs:{content:t.object.description,"can-update":!1}}):t.$store.state.auth.authenticated&&t.object.is_local?s("router-link",{attrs:{to:{name:"library.albums.edit",params:{id:t.object.id}}}},[s("i",{staticClass:"pencil icon"}),s("translate",{attrs:{"translate-context":"Content/*/Button.Label/Verb"}},[t._v(" Add a description… ")])],1):t._e()]:t._e()],2),s("div",{staticClass:"nine wide column"},[t.object?s("router-view",{key:t.$route.fullPath,attrs:{"paginate-by":t.paginateBy,page:t.page,"total-tracks":t.totalTracks,"is-serie":t.isSerie,artist:t.artist,discs:t.discs,object:t.object,"object-type":"album"},on:{"libraries-loaded":function(e){t.libraries=e},"page-changed":function(e){t.page=e}}}):t._e()],1)])])]:t._e()],2)},i=[],n=a("c7eb"),r=a("1da1"),o=(a("a9e3"),a("4160"),a("d3b7"),a("159b"),a("4de4"),a("13d5"),a("bc3a")),l=a.n(o),c=a("ceb5"),u=a("a3e6"),d=a("6b08"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{staticClass:"artist-label ui image label",attrs:{to:t.route}},[t.artist.cover&&t.artist.cover.urls.original?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.getters["instance/absoluteUrl"](t.artist.cover.urls.medium_square_crop),expression:"$store.getters['instance/absoluteUrl'](artist.cover.urls.medium_square_crop)"}],class:[{circular:"podcast"!=t.artist.content_category}],attrs:{alt:""}}):a("i",{class:["podcast"!=t.artist.content_category?"circular":"bordered","inverted violet users icon"]}),t._v(" "+t._s(t.artist.name)+" ")])},b=[],h={props:{artist:{type:Object,required:!0}},computed:{route:function(){return this.artist.channel?{name:"channels.detail",params:{id:this.artist.channel.uuid}}:{name:"library.artists.detail",params:{id:this.artist.id}}}}},g=h,m=a("2877"),v=Object(m["a"])(g,p,b,!1,null,null,null),f=v.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t.isEmbedable?a("modal",{attrs:{show:t.showEmbedModal},on:{"update:show":function(e){t.showEmbedModal=e}}},[a("h4",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Popup/Album/Title/Verb"}},[t._v("Embed this album on your website")])],1),a("div",{staticClass:"scrolling content"},[a("div",{staticClass:"description"},[a("embed-wizard",{attrs:{id:t.object.id,type:"album"}})],1)]),a("div",{staticClass:"actions"},[a("button",{staticClass:"ui basic deny button"},[a("translate",{attrs:{"translate-context":"*/*/Button.Label/Verb"}},[t._v("Cancel")])],1)])]):t._e(),a("button",{directives:[{name:"dropdown",rawName:"v-dropdown",value:{direction:"downward"},expression:"{direction: 'downward'}"}],staticClass:"ui floating dropdown circular icon basic button",attrs:{title:t.labels.more}},[a("i",{staticClass:"ellipsis vertical icon"}),a("div",{staticClass:"menu"},[t.domain!=t.$store.getters["instance/domain"]?a("a",{staticClass:"basic item",attrs:{href:t.object.fid,target:"_blank"}},[a("i",{staticClass:"external icon"}),a("translate",{attrs:{"translate-params":{domain:t.domain},"translate-context":"Content/*/Button.Label/Verb"}},[t._v("View on %{ domain }")])],1):t._e(),t.isEmbedable?a("div",{staticClass:"basic item",attrs:{role:"button"},on:{click:function(e){t.showEmbedModal=!t.showEmbedModal}}},[a("i",{staticClass:"code icon"}),a("translate",{attrs:{"translate-context":"Content/*/Button.Label/Verb"}},[t._v("Embed")])],1):t._e(),t.isAlbum&&t.musicbrainzUrl?a("a",{staticClass:"basic item",attrs:{href:t.musicbrainzUrl,target:"_blank",rel:"noreferrer noopener"}},[a("i",{staticClass:"external icon"}),a("translate",{attrs:{"translate-context":"Content/*/*/Clickable, Verb"}},[t._v("View on MusicBrainz")])],1):t._e(),!t.isChannel&&t.isAlbum?a("a",{staticClass:"basic item",attrs:{href:t.discogsUrl,target:"_blank",rel:"noreferrer noopener"}},[a("i",{staticClass:"external icon"}),a("translate",{attrs:{"translate-context":"Content/*/Button.Label/Verb"}},[t._v("Search on Discogs")])],1):t._e(),t.object.is_local?a("router-link",{staticClass:"basic item",attrs:{to:{name:"library.albums.edit",params:{id:t.object.id}}}},[a("i",{staticClass:"edit icon"}),a("translate",{attrs:{"translate-context":"Content/*/Button.Label/Verb"}},[t._v("Edit")])],1):t._e(),t.artist&&t.$store.state.auth.authenticated&&t.artist.channel&&t.artist.attributed_to.full_username===t.$store.state.auth.fullUsername?a("dangerous-button",{class:["ui",{loading:t.isLoading},"item"],on:{confirm:function(e){return t.remove()}}},[a("i",{staticClass:"ui trash icon"}),a("translate",{attrs:{"translate-context":"*/*/*/Verb"}},[t._v("Delete…")]),a("p",{attrs:{slot:"modal-header"},slot:"modal-header"},[a("translate",{attrs:{"translate-context":"Popup/Channel/Title"}},[t._v("Delete this album?")])],1),a("div",{attrs:{slot:"modal-content"},slot:"modal-content"},[a("p",[a("translate",{attrs:{"translate-context":"Content/Moderation/Paragraph"}},[t._v("The album will be deleted, as well as any related files and data. This action is irreversible.")])],1)]),a("p",{attrs:{slot:"modal-confirm"},slot:"modal-confirm"},[a("translate",{attrs:{"translate-context":"*/*/*/Verb"}},[t._v("Delete")])],1)],1):t._e(),a("div",{staticClass:"divider"}),t._l(t.getReportableObjs({album:t.object,channel:t.artist.channel}),(function(e){return a("div",{key:e.target.type+e.target.id,staticClass:"basic item",attrs:{role:"button"},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.$store.dispatch("moderation/report",e.target)}}},[a("i",{staticClass:"share icon"}),t._v(" "+t._s(e.label)+" ")])})),a("div",{staticClass:"divider"}),t.$store.state.auth.availablePermissions["library"]?a("router-link",{staticClass:"basic item",attrs:{to:{name:"manage.library.albums.detail",params:{id:t.object.id}}}},[a("i",{staticClass:"wrench icon"}),a("translate",{attrs:{"translate-context":"Content/Moderation/Link"}},[t._v("Open in moderation interface")])],1):t._e(),t.$store.state.auth.profile&&t.$store.state.auth.profile.is_superuser?a("a",{staticClass:"basic item",attrs:{href:t.$store.getters["instance/absoluteUrl"]("/api/admin/music/album/"+t.object.id),target:"_blank",rel:"noopener noreferrer"}},[a("i",{staticClass:"wrench icon"}),a("translate",{attrs:{"translate-context":"Content/Moderation/Link/Verb"}},[t._v("View in Django's admin")]),t._v("  ")],1):t._e()],2)])],1)},C=[],_=a("21a2"),x=a("404d"),w=a("add5"),$=a("025e"),S={components:{EmbedWizard:_["a"],Modal:x["default"]},mixins:[w["a"]],props:{isLoading:Boolean,artist:{type:Object,required:!0},object:{type:Object,required:!0},publicLibraries:{type:Array,required:!0},isAlbum:Boolean,isChannel:Boolean,isSerie:Boolean},data:function(){return{showEmbedModal:!1}},computed:{domain:function(){return this.object?Object($["b"])(this.object.fid):null},labels:function(){return{more:this.$pgettext("*/*/Button.Label/Noun","More…")}},isEmbedable:function(){return this.isChannel&&this.artist.channel.actor||this.publicLibraries.length>0},musicbrainzUrl:function(){return this.object.mbid?"https://musicbrainz.org/release/"+this.object.mbid:null},discogsUrl:function(){return"https://discogs.com/search/?type=release&title="+encodeURI(this.object.title)+"&artist="+encodeURI(this.object.artist.name)}}},L=S,j=Object(m["a"])(L,y,C,!1,null,null,null),k=j.exports;function P(t){function e(e,a){var s=a.disc_number-t;return void 0===e[s]?e.push([a]):e[s].push(a),e}return e}var D={components:{PlayButton:u["a"],TagsList:d["a"],ArtistLabel:f,AlbumDropdown:k},props:{id:{type:[String,Number],required:!0}},data:function(){return{isLoading:!0,object:null,artist:null,discs:[],libraries:[],page:1,paginateBy:50}},computed:{totalTracks:function(){return this.object.tracks_count},isChannel:function(){return!!this.object.artist.channel},isSerie:function(){return"podcast"===this.object.artist.content_category},isAlbum:function(){return"music"===this.object.artist.content_category},totalDuration:function(){var t=[0];return this.object.tracks.forEach((function(e){e.uploads[0]&&e.uploads[0].duration&&t.push(e.uploads[0].duration)})),c["a"].sum(t)},labels:function(){return{title:this.$pgettext("*/*/*","Album")}},publicLibraries:function(){return this.libraries.filter((function(t){return"everyone"===t.privacy_level}))}},watch:{id:function(){this.fetchData()},page:function(){this.fetchData()}},created:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:case"end":return e.stop()}}),e)})))()},methods:{fetchData:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){var a,s,i;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,a=l.a.get("tracks/",{params:{ordering:"disc_number,position",album:t.id,page_size:t.paginateBy,page:t.page,include_channels:"true"}}),e.next=4,l.a.get("albums/".concat(t.id,"/"),{params:{refresh:"true"}});case 4:return s=e.sent,e.next=7,l.a.get("artists/".concat(s.data.artist.id,"/"));case 7:return i=e.sent,t.artist=i.data,t.artist.channel&&(t.artist.channel.artist=t.artist),e.next=12,a;case 12:a=e.sent,t.object=s.data,t.object.tracks=a.data.results,t.discs=t.object.tracks.reduce(P(t.object.tracks[0].disc_number),[]),t.isLoading=!1;case 17:case"end":return e.stop()}}),e)})))()},remove:function(){var t=this,e=this;e.isLoading=!0,l.a.delete("albums/".concat(this.object.id)).then((function(a){e.isLoading=!1,e.$emit("deleted"),e.$router.push({name:"library.artists.detail",params:{id:t.artist.id}})}),(function(t){e.isLoading=!1,e.errors=t.backendErrors}))}}},N=D,A=Object(m["a"])(N,s,i,!1,null,null,null);e["default"]=A.exports},"9fd5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.object?a("div",[a("h2",{staticClass:"ui header"},[t.isSerie?a("translate",{key:"1",attrs:{"translate-context":"Content/Channels/*"}},[t._v(" Episodes ")]):a("translate",{key:"2",attrs:{"translate-context":"*/*/*"}},[t._v(" Tracks ")])],1),t.artist.channel&&t.isSerie?a("channel-entries",{attrs:{"is-podcast":t.isSerie,limit:50,filters:{channel:t.artist.channel.uuid,album:t.object.id,ordering:"-creation_date"}}}):t.discs&&t.discs.length>1?t._l(t.discs,(function(e){return a("div",{key:e.disc_number},[a("div",{staticClass:"ui hidden divider"}),a("play-button",{staticClass:"right floated mini inverted vibrant",attrs:{tracks:e}}),a("translate",{attrs:{tag:"h3","translate-params":{number:e[0].disc_number},"translate-context":"Content/Album/"}},[t._v(" Volume %{ number } ")]),a("track-table",{attrs:{"is-album":!0,tracks:e,"show-position":!0,"show-art":!1,"show-album":!1,"show-artist":!1,"paginate-results":!0,total:t.totalTracks,"paginate-by":t.paginateBy,page:t.page},on:{"page-changed":t.updatePage}})],1)})):[a("track-table",{attrs:{"is-album":!0,tracks:t.object.tracks,"show-position":!0,"show-art":!1,"show-album":!1,"show-artist":!1,"paginate-results":!0,total:t.totalTracks,"paginate-by":t.paginateBy,page:t.page},on:{"page-changed":t.updatePage}})],t.artist.channel||t.isSerie?t._e():[a("h2",[a("translate",{attrs:{"translate-context":"Content/*/Title/Noun"}},[t._v(" User libraries ")])],1),a("library-widget",{attrs:{url:"albums/"+t.object.id+"/libraries/"},on:{loaded:function(e){return t.$emit("libraries-loaded",e)}}},[a("translate",{attrs:{slot:"subtitle","translate-context":"Content/Album/Paragraph"},slot:"subtitle"},[t._v(" This album is present in the following libraries: ")])],1)]],2):t._e()},i=[],n=(a("a9e3"),a("cadb")),r=a("06cd"),o=a("1e6f"),l=a("5a65"),c=a("a3e6"),u={components:{LibraryWidget:r["a"],TrackTable:l["a"],ChannelEntries:o["a"],PlayButton:c["a"]},props:{object:{type:Object,required:!0},discs:{type:Array,required:!0},isSerie:{type:Boolean,required:!0},artist:{type:Object,required:!0},page:{type:Number,required:!0},paginateBy:{type:Number,required:!0},totalTracks:{type:Number,required:!0}},data:function(){return{time:n["a"],id:this.object.id}},methods:{updatePage:function(t){this.$emit("page-changed",t)}}},d=u,p=a("2877"),b=Object(p["a"])(d,s,i,!1,null,null,null);e["default"]=b.exports},af46:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{directives:[{name:"title",rawName:"v-title",value:t.labels.title,expression:"labels.title"}]},[a("section",{staticClass:"ui vertical stripe segment"},[a("h2",{staticClass:"ui header"},[a("translate",{attrs:{"translate-context":"Content/Album/Title"}},[t._v(" Browsing albums ")])],1),a("form",{class:["ui",{loading:t.isLoading},"form"],on:{submit:function(e){e.preventDefault(),t.updatePage(),t.updateQueryString(),t.fetchData()}}},[a("div",{staticClass:"fields"},[a("div",{staticClass:"field"},[a("label",{attrs:{for:"albums-search"}},[a("translate",{attrs:{"translate-context":"Content/Search/Input.Label/Noun"}},[t._v("Search")])],1),a("div",{staticClass:"ui action input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],attrs:{id:"albums-search",type:"text",name:"search",placeholder:t.labels.searchPlaceholder},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),a("button",{staticClass:"ui icon button",attrs:{type:"submit","aria-label":t.$pgettext("Content/Search/Input.Label/Noun","Search")}},[a("i",{staticClass:"search icon"})])])]),a("div",{staticClass:"field"},[a("label",{attrs:{for:"tags-search"}},[a("translate",{attrs:{"translate-context":"*/*/*/Noun"}},[t._v("Tags")])],1),a("tags-selector",{model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}})],1),a("div",{staticClass:"field"},[a("label",{attrs:{for:"album-ordering"}},[a("translate",{attrs:{"translate-context":"Content/Search/Dropdown.Label/Noun"}},[t._v("Ordering")])],1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.ordering,expression:"ordering"}],staticClass:"ui dropdown",attrs:{id:"album-ordering"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.ordering=e.target.multiple?a:a[0]}}},t._l(t.orderingOptions,(function(e,s){return a("option",{key:s,domProps:{value:e[0]}},[t._v(" "+t._s(t.sharedLabels.filters[e[1]])+" ")])})),0)]),a("div",{staticClass:"field"},[a("label",{attrs:{for:"album-ordering-direction"}},[a("translate",{attrs:{"translate-context":"Content/Search/Dropdown.Label/Noun"}},[t._v("Ordering direction")])],1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.orderingDirection,expression:"orderingDirection"}],staticClass:"ui dropdown",attrs:{id:"album-ordering-direction"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.orderingDirection=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"+"}},[a("translate",{attrs:{"translate-context":"Content/Search/Dropdown"}},[t._v(" Ascending ")])],1),a("option",{attrs:{value:"-"}},[a("translate",{attrs:{"translate-context":"Content/Search/Dropdown"}},[t._v(" Descending ")])],1)])]),a("div",{staticClass:"field"},[a("label",{attrs:{for:"album-results"}},[a("translate",{attrs:{"translate-context":"Content/Search/Dropdown.Label/Noun"}},[t._v("Results per page")])],1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.paginateBy,expression:"paginateBy"}],staticClass:"ui dropdown",attrs:{id:"album-results"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.paginateBy=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:parseInt(12)}},[t._v(" 12 ")]),a("option",{domProps:{value:parseInt(25)}},[t._v(" 25 ")]),a("option",{domProps:{value:parseInt(50)}},[t._v(" 50 ")])])])])]),a("div",{staticClass:"ui hidden divider"}),t.result?a("div",{attrs:{"transition-duration":"0","item-selector":".column","percent-position":"true",stagger:"0"}},[t.result.results.length>0?a("div",{staticClass:"ui app-cards cards"},t._l(t.result.results,(function(t){return a("album-card",{key:t.id,attrs:{album:t}})})),1):a("div",{staticClass:"ui placeholder segment sixteen wide column",staticStyle:{"text-align":"center",display:"flex","align-items":"center"}},[a("div",{staticClass:"ui icon header"},[a("i",{staticClass:"compact disc icon"}),a("translate",{attrs:{"translate-context":"Content/Albums/Placeholder"}},[t._v(" No results matching your query ")])],1),t.$store.state.auth.authenticated?a("router-link",{staticClass:"ui success button labeled icon",attrs:{to:{name:"content.index"}}},[a("i",{staticClass:"upload icon"}),a("translate",{attrs:{"translate-context":"Content/*/Verb"}},[t._v(" Add some music ")])],1):t._e()],1)]):t._e(),a("div",{staticClass:"ui center aligned basic segment"},[t.result&&t.result.count>t.paginateBy?a("pagination",{attrs:{current:t.page,"paginate-by":t.paginateBy,total:t.result.count},on:{"page-changed":t.selectPage}}):t._e()],1)])])},i=[],n=(a("e25e"),a("4de4"),a("d3b7"),a("d401"),a("25f0"),a("3ca3"),a("ddb0"),a("9861"),a("4328")),r=a.n(n),o=a("bc3a"),l=a.n(o),c=a("1157"),u=a.n(c),d=a("3677"),p=a("20be"),b=a("38b2"),h=a("64c4"),g=a("af03"),m=a("1799"),v=a("8352"),f="albums/",y={components:{AlbumCard:g["a"],Pagination:m["a"],TagsSelector:v["a"]},mixins:[p["a"],b["a"],h["a"]],props:{defaultQuery:{type:String,required:!1,default:""},defaultTags:{type:Array,required:!1,default:function(){return[]}},scope:{type:String,required:!1,default:"all"}},data:function(){return{isLoading:!0,result:null,page:parseInt(this.defaultPage),query:this.defaultQuery,tags:(this.defaultTags||[]).filter((function(t){return t.length>0})),orderingOptions:[["creation_date","creation_date"],["title","album_title"],["release_date","release_date"]]}},computed:{labels:function(){var t=this.$pgettext("Content/Search/Input.Placeholder","Enter album title…"),e=this.$pgettext("*/*/*","Albums");return{searchPlaceholder:t,title:e}}},watch:{page:function(){this.updateQueryString(),this.fetchData()},"$store.state.moderation.lastUpdate":function(){this.fetchData()}},created:function(){this.fetchData()},mounted:function(){u()(".ui.dropdown").dropdown()},methods:{updateQueryString:function(){history.pushState({},null,this.$route.path+"?"+new URLSearchParams({query:this.query,page:this.page,tag:this.tags,paginateBy:this.paginateBy,ordering:this.getOrderingAsString()}).toString())},fetchData:function(){var t=this;this.isLoading=!0;var e=f,a={scope:this.scope,page:this.page,page_size:this.paginateBy,q:this.query,ordering:this.getOrderingAsString(),playable:"true",tag:this.tags,include_channels:"true",content_category:"music"};d["a"].default.debug("Fetching albums"),l.a.get(e,{params:a,paramsSerializer:function(t){return r.a.stringify(t,{indices:!1})}}).then((function(e){t.result=e.data,t.isLoading=!1}),(function(){t.result=null,t.isLoading=!1}))},selectPage:function(t){this.page=t},updatePage:function(){this.page=this.defaultPage}}},C=y,_=a("2877"),x=Object(_["a"])(C,s,i,!1,null,null,null);e["default"]=x.exports},c395:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui card"},[a("div",{staticClass:"content"},[a("h4",{staticClass:"header"},[a("router-link",{attrs:{to:{name:"library.detail",params:{id:t.library.uuid}}}},[t._v(" "+t._s(t.library.name)+" ")]),a("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui right floated dropdown"},[a("i",{staticClass:"ellipsis vertical large icon nomargin"}),a("div",{staticClass:"menu"},t._l(t.getReportableObjs({library:t.library,account:t.library.actor}),(function(e){return a("button",{key:e.target.type+e.target.id,staticClass:"item basic",on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.$store.dispatch("moderation/report",e.target)}}},[a("i",{staticClass:"share icon"}),t._v(" "+t._s(e.label)+" ")])})),0)]),"me"===t.library.privacy_level?a("span",{staticClass:"right floated",attrs:{"data-tooltip":t.labels.tooltips.me}},[a("i",{staticClass:"small lock icon"})]):"everyone"===t.library.privacy_level?a("span",{staticClass:"right floated",attrs:{"data-tooltip":t.labels.tooltips.everyone}},[a("i",{staticClass:"small globe icon"})]):t._e()],1),a("div",{staticClass:"meta"},[a("span",[a("i",{staticClass:"small outline clock icon"}),a("human-date",{attrs:{date:t.library.creation_date}})],1)]),a("div",{staticClass:"description"},[t._v(" "+t._s(t.library.description)+" "),a("div",{staticClass:"ui hidden divider"})]),a("div",{staticClass:"meta"},[a("i",{staticClass:"music icon"}),a("translate",{attrs:{"translate-context":"*/*/*","translate-params":{count:t.library.uploads_count},"translate-n":t.library.uploads_count,"translate-plural":"%{ count } tracks"}},[t._v(" %{ count } track ")])],1),t.displayScan&&t.latestScan?a("div",{staticClass:"meta"},["pending"===t.latestScan.status?[a("i",{staticClass:"hourglass icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item"}},[t._v(" Scan pending ")])]:t._e(),"scanning"===t.latestScan.status?[a("i",{staticClass:"loading spinner icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item","translate-params":{progress:t.scanProgress}}},[t._v(" Scanning… (%{ progress }%) ")])]:"errored"===t.latestScan.status?[a("i",{staticClass:"dangerdownload icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item"}},[t._v(" Problem during scanning ")])]:"finished"===t.latestScan.status&&0===t.latestScan.errored_files?[a("i",{staticClass:"success download icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item"}},[t._v(" Scanned ")])]:"finished"===t.latestScan.status&&t.latestScan.errored_files>0?[a("i",{staticClass:"warning download icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item"}},[t._v(" Scanned with errors ")])]:t._e(),a("a",{staticClass:"link right floated",attrs:{href:""},on:{click:function(e){e.preventDefault(),t.showScan=!t.showScan}}},[a("translate",{attrs:{"translate-context":"Content/Library/Card.Button.Label/Noun"}},[t._v("Details")]),t.showScan?a("i",{staticClass:"angle down icon"}):a("i",{staticClass:"angle right icon"})],1),t.showScan?a("div",[t.latestScan.modification_date?[a("translate",{attrs:{"translate-context":"Content/Library/Card.List item/Noun"}},[t._v(" Last update: ")]),a("human-date",{attrs:{date:t.latestScan.modification_date}}),a("br")]:t._e(),a("translate",{attrs:{"translate-context":"Content/Library/Card.List item/Noun"}},[t._v(" Failed tracks: ")]),t._v(" "+t._s(t.latestScan.errored_files)+" ")],2):t._e()],2):t._e(),t.displayScan&&t.canLaunchScan?a("div",{staticClass:"clearfix"},[a("a",{staticClass:"right floated link",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.launchScan.apply(null,arguments)}}},[a("translate",{attrs:{"translate-context":"Content/Library/Card.Button.Label/Verb"}},[t._v("Scan now")]),t._v(" "),a("i",{staticClass:"paper plane icon"})],1)]):t._e()]),a("div",{staticClass:"extra content"},[a("actor-link",{staticStyle:{color:"var(--link-color)"},attrs:{actor:t.library.actor}})],1),t.displayCopyFid?a("div",{staticClass:"extra content"},[a("div",{staticClass:"ui form"},[a("div",{staticClass:"field"},[a("label",{attrs:{for:t.library.fid}},[a("translate",{attrs:{"translate-context":"Content/Library/Title"}},[t._v("Sharing link")])],1),a("copy-input",{attrs:{id:t.library.fid,"button-classes":"basic",value:t.library.fid}})],1)])]):t._e(),t.displayFollow||t.radioPlayable?a("div",{class:["ui",{two:t.displayFollow&&t.radioPlayable},"bottom","attached","buttons"]},[t.radioPlayable?a("radio-button",{attrs:{type:"library","object-id":t.library.uuid}}):t._e(),t.displayFollow?[t.library.follow?t.library.follow.approved?t.library.follow.approved?[a("dangerous-button",{class:["ui","button"],attrs:{action:t.unfollow}},[a("translate",{attrs:{"translate-context":"*/Library/Button.Label/Verb"}},[t._v(" Unfollow ")]),a("p",{attrs:{slot:"modal-header"},slot:"modal-header"},[a("translate",{attrs:{"translate-context":"Popup/Library/Title"}},[t._v(" Unfollow this library? ")])],1),a("div",{attrs:{slot:"modal-content"},slot:"modal-content"},[a("p",[a("translate",{attrs:{"translate-context":"Popup/Library/Paragraph"}},[t._v(" By unfollowing this library, you loose access to its content. ")])],1)]),a("div",{attrs:{slot:"modal-confirm"},slot:"modal-confirm"},[a("translate",{attrs:{"translate-context":"*/Library/Button.Label/Verb"}},[t._v(" Unfollow ")])],1)],1)]:t._e():[a("button",{staticClass:"ui disabled button"},[a("i",{staticClass:"hourglass icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Card.Paragraph"}},[t._v(" Follow request pending approval ")])],1),a("button",{staticClass:"ui button",on:{click:t.unfollow}},[a("translate",{attrs:{"translate-context":"Content/Library/Card.Paragraph"}},[t._v(" Cancel follow request ")])],1)]:a("button",{class:["ui","success",{loading:t.isLoadingFollow},"button"],on:{click:function(e){return t.follow()}}},[a("translate",{attrs:{"translate-context":"Content/Library/Card.Button.Label/Verb"}},[t._v(" Follow ")])],1)]:t._e()],2):t._e()])},i=[],n=(a("e25e"),a("bc3a")),r=a.n(n),o=a("add5"),l=a("d4fd"),c={components:{RadioButton:l["a"]},mixins:[o["a"]],props:{initialLibrary:{type:Object,required:!0},displayFollow:{type:Boolean,default:!0},displayScan:{type:Boolean,default:!0},displayCopyFid:{type:Boolean,default:!0}},data:function(){return{library:this.initialLibrary,isLoadingFollow:!1,showScan:!1,scanTimeout:null,latestScan:this.initialLibrary.latest_scan}},computed:{labels:function(){var t=this.$pgettext("Content/Library/Card.Help text","This library is private and your approval from its owner is needed to access its content"),e=this.$pgettext("Content/Library/Card.Help text","This library is public and you can access its content freely");return{tooltips:{me:t,everyone:e}}},scanProgress:function(){var t=this.latestScan,e=100*t.processed_files/t.total_files;return Math.min(parseInt(e),100)},scanStatus:function(){return this.latestScan?this.latestScan.status:"unknown"},canLaunchScan:function(){return"pending"!==this.scanStatus&&"scanning"!==this.scanStatus},radioPlayable:function(){return(this.library.actor.is_local||"finished"===this.scanStatus)&&("everyone"===this.library.privacy_level||this.library.follow&&this.library.follow.is_approved)}},watch:{showScan:function(t,e){t?"pending"!==this.scanStatus&&"scanning"!==this.scanStatus||this.fetchScanStatus():this.scanTimeout&&clearTimeout(this.scanTimeout)}},methods:{launchScan:function(){var t=this,e=this.$pgettext("Content/Library/Message","Scan launched"),a=this.$pgettext("Content/Library/Message","Scan skipped (previous scan is too recent)");r.a.post("federation/libraries/".concat(this.library.uuid,"/scan/")).then((function(s){var i;"skipped"===s.data.status?i=a:(t.latestScan=s.data.scan,i=e),t.$store.commit("ui/addMessage",{content:i,date:new Date})}))},follow:function(){var t=this;this.isLoadingFollow=!0,r.a.post("federation/follows/library/",{target:this.library.uuid}).then((function(e){t.library.follow=e.data,t.isLoadingFollow=!1,t.$emit("followed")}),(function(e){t.isLoadingFollow=!1,t.$store.commit("ui/addMessage",{content:"Cannot follow remote library: "+e,date:new Date})}))},unfollow:function(){var t=this;this.isLoadingFollow=!0,r.a.delete("federation/follows/library/".concat(this.library.follow.uuid,"/")).then((function(e){t.$emit("deleted"),t.library.follow=null,t.isLoadingFollow=!1}),(function(e){t.isLoadingFollow=!1,t.$store.commit("ui/addMessage",{content:"Cannot unfollow remote library: "+e,date:new Date})}))},fetchScanStatus:function(){var t=this;r.a.get("federation/follows/library/".concat(this.library.follow.uuid,"/")).then((function(e){t.latestScan=e.data.target.latest_scan,"pending"===t.scanStatus||"scanning"===t.scanStatus?t.scanTimeout=setTimeout(t.fetchScanStatus(),5e3):clearTimeout(t.scanTimeout)}))}}},u=c,d=a("2877"),p=Object(d["a"])(u,s,i,!1,null,null,null);e["a"]=p.exports},d4fd:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{class:["ui","primary",{inverted:t.running},"icon","labeled","button"],on:{click:t.toggleRadio}},[a("i",{staticClass:"ui feed icon",attrs:{role:"button"}}),t.running?[a("translate",{attrs:{"translate-context":"*/Player/Button.Label/Short, Verb"}},[t._v(" Stop radio ")])]:[a("translate",{attrs:{"translate-context":"*/Queue/Button.Label/Short, Verb"}},[t._v(" Play radio ")])]],2)},i=[],n=(a("a9e3"),a("ceb5")),r={props:{customRadioId:{type:Number,required:!1,default:null},type:{type:String,required:!1,default:""},clientOnly:{type:Boolean,default:!1},objectId:{type:[String,Number,Object],default:null}},computed:{running:function(){var t=this.$store.state.radios,e=t.current;return!!t.running&&(e.type===this.type&&n["a"].isEqual(e.objectId,this.objectId)&&e.customRadioId===this.customRadioId)}},methods:{toggleRadio:function(){this.running?this.$store.dispatch("radios/stop"):this.$store.dispatch("radios/start",{type:this.type,objectId:this.objectId,customRadioId:this.customRadioId,clientOnly:this.clientOnly})}}},o=r,l=a("2877"),c=Object(l["a"])(o,s,i,!1,null,null,null);e["a"]=c.exports}}]);