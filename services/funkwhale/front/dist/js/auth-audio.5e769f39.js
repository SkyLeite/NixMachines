(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["auth-audio"],{"02b2":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{show:t.$store.state.playlists.showModal},on:{"update:show":t.update}},[a("h4",{staticClass:"header"},[t.track?[a("h2",{staticClass:"ui header"},[a("translate",{attrs:{"translate-context":"Popup/Playlist/Title/Verb"}},[t._v(" Add to playlist ")]),a("div",{directives:[{name:"translate",rawName:"v-translate",value:{artist:t.track.artist.name,title:t.track.title},expression:"{artist: track.artist.name, title: track.title}"}],staticClass:"ui sub header",attrs:{"translate-context":"Popup/Playlist/Paragraph","translate-params":{artist:t.track.artist.name,title:t.track.title}}},[t._v(' "%{ title }", by %{ artist } ')])],1)]:a("translate",{attrs:{"translate-context":"Popup/Playlist/Title/Verb"}},[t._v(" Manage playlists ")])],2),a("div",{staticClass:"scrolling content"},[a("playlist-form",{key:t.formKey}),a("div",{staticClass:"ui divider"}),t.playlists.length>0?a("div",[t.showDuplicateTrackAddConfirmation?a("div",{staticClass:"ui warning message",attrs:{role:"alert"}},[a("p",{directives:[{name:"translate",rawName:"v-translate",value:{track:t.track.title,playlist:t.duplicateTrackAddInfo.playlist_name},expression:"{track: track.title, playlist: duplicateTrackAddInfo.playlist_name}"}],attrs:{"translate-context":"Popup/Playlist/Paragraph","translate-params":{track:t.track.title,playlist:t.duplicateTrackAddInfo.playlist_name}}},[a("strong",[t._v("%{ track }")]),t._v(" is already in "),a("strong",[t._v("%{ playlist }")]),t._v(". ")]),a("button",{staticClass:"ui small basic cancel button",on:{click:function(e){return t.duplicateTrackAddConfirm(!1)}}},[a("translate",{attrs:{"translate-context":"*/*/Button.Label/Verb"}},[t._v(" Cancel ")])],1),a("button",{staticClass:"ui small success button",on:{click:function(e){return t.addToPlaylist(t.lastSelectedPlaylist,!0)}}},[a("translate",{attrs:{"translate-context":"*/Playlist/Button.Label/Verb"}},[t._v(" Add anyways ")])],1)]):t._e(),t.errors.length>0?a("div",{staticClass:"ui negative message",attrs:{role:"alert"}},[a("h4",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Popup/Playlist/Error message.Title"}},[t._v(" The track can't be added to a playlist ")])],1),a("ul",{staticClass:"list"},t._l(t.errors,(function(e,n){return a("li",{key:n},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),a("h4",{staticClass:"ui header"},[a("translate",{attrs:{"translate-context":"Popup/Playlist/Title"}},[t._v(" Available playlists ")])],1),a("div",{staticClass:"ui form"},[a("div",{staticClass:"fields"},[a("div",{staticClass:"field"},[a("label",{attrs:{for:"playlist-name-filter"}},[a("translate",{attrs:{"translate-context":"Popup/Playlist/Label"}},[t._v("Filter")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.playlistNameFilter,expression:"playlistNameFilter"}],staticClass:"inline",attrs:{id:"playlist-name-filter",type:"text",placeholder:t.labels.filterPlaylistField},domProps:{value:t.playlistNameFilter},on:{input:function(e){e.target.composing||(t.playlistNameFilter=e.target.value)}}})])])]),t.sortedPlaylists.length>0?a("table",{staticClass:"ui unstackable very basic table"},[a("thead",[a("tr",[a("th",[a("span",{staticClass:"visually-hidden"},[a("translate",{attrs:{"translate-context":"*/*/*/Verb"}},[t._v("Edit")])],1)]),a("th",[a("translate",{attrs:{"translate-context":"*/*/*/Noun"}},[t._v(" Name ")])],1),a("th",{staticClass:"sorted descending"},[a("translate",{attrs:{"translate-context":"Popup/Playlist/Table.Label/Short"}},[t._v(" Last modification ")])],1),a("th",[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Tracks ")])],1)])]),a("tbody",t._l(t.sortedPlaylists,(function(e,n){return a("tr",{key:n},[a("td",[a("router-link",{staticClass:"ui icon basic small button",attrs:{to:{name:"library.playlists.detail",params:{id:e.id},query:{mode:"edit"}}}},[a("i",{staticClass:"ui pencil icon"}),a("span",{staticClass:"visually-hidden"},[a("translate",{attrs:{"translate-context":"*/*/*/Verb"}},[t._v("Edit")])],1)])],1),a("td",[a("router-link",{attrs:{to:{name:"library.playlists.detail",params:{id:e.id}}},nativeOn:{click:function(e){return t.update(!1)}}},[t._v(" "+t._s(e.name)+" ")])],1),a("td",[a("human-date",{attrs:{date:e.modification_date}})],1),a("td",[t._v(t._s(e.tracks_count))]),a("td",[t.track?a("button",{staticClass:"ui success icon basic small right floated button",attrs:{title:t.labels.addToPlaylist},on:{click:function(a){return a.preventDefault(),t.addToPlaylist(e.id,!1)}}},[a("i",{staticClass:"plus icon"}),t._v(" "),a("translate",{attrs:{"translate-context":"Popup/Playlist/Table.Button.Label/Verb"}},[t._v(" Add track ")])],1):t._e()])])})),0)]):[a("div",{staticClass:"ui small placeholder segment component-placeholder"},[a("h4",{staticClass:"ui header"},[a("translate",{attrs:{"translate-context":"Popup/Playlist/EmptyState"}},[t._v(" No results matching your filter ")])],1)])]],2):[a("div",{staticClass:"ui placeholder segment"},[a("div",{staticClass:"ui icon header"},[a("i",{staticClass:"list icon"}),a("translate",{attrs:{"translate-context":"Content/Home/Placeholder"}},[t._v(" No playlists have been created yet ")])],1)])]],2),a("div",{staticClass:"actions"},[a("button",{staticClass:"ui basic cancel button"},[a("translate",{attrs:{"translate-context":"*/*/Button.Label/Verb"}},[t._v(" Cancel ")])],1)])])},r=[],s=a("5530"),i=(a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("25f0"),a("466d"),a("26e9"),a("0f05")),o=a.n(i),l=a("4a79"),c=a.n(l),u=a("b429"),d=a.n(u),p=a("bc3a"),f=a.n(p),h=a("2f62"),v=a("3677"),m=a("404d"),b=a("b910"),g={components:{Modal:m["default"],PlaylistForm:b["a"]},data:function(){return{formKey:String(new Date),errors:[],playlistNameFilter:"",duplicateTrackAddInfo:{},showDuplicateTrackAddConfirmation:!1,lastSelectedPlaylist:-1}},computed:Object(s["a"])(Object(s["a"])({},Object(h["d"])({playlists:function(t){return t.playlists.playlists},track:function(t){return t.playlists.modalTrack}})),{},{labels:function(){return{addToPlaylist:this.$pgettext("Popup/Playlist/Table.Button.Tooltip/Verb","Add to this playlist"),filterPlaylistField:this.$pgettext("Popup/Playlist/Form/Placeholder","Enter playlist name")}},sortedPlaylists:function(){var t=new RegExp(this.playlistNameFilter,"i"),e=d()(o()((function(e){return null!==e.name.match(t)})),c()((function(t){return t.modification_date})))(this.playlists);return e.reverse(),e}}),watch:{"$store.state.route.path":function(){this.$store.commit("playlists/showModal",!1),this.showDuplicateTrackAddConfirmation=!1},"$store.state.playlists.showModal":function(){this.formKey=String(new Date),this.showDuplicateTrackAddConfirmation=!1}},methods:{update:function(t){this.$store.commit("playlists/showModal",t)},addToPlaylist:function(t,e){var a=this,n={tracks:[this.track.id],allow_duplicates:e};return a.lastSelectedPlaylist=t,f.a.post("playlists/".concat(t,"/add"),n).then((function(t){v["a"].default.info("Successfully added track to playlist"),a.update(!1),a.$store.dispatch("playlists/fetchOwn")}),(function(t){1===t.backendErrors.length&&"tracks_already_exist_in_playlist"===t.backendErrors[0].code?(a.duplicateTrackAddInfo=t.backendErrors[0],a.showDuplicateTrackAddConfirmation=!0):(a.errors=t.backendErrors,a.showDuplicateTrackAddConfirmation=!1)}))},duplicateTrackAddConfirm:function(t){this.showDuplicateTrackAddConfirmation=t}}},y=g,_=a("2877"),x=Object(_["a"])(y,n,r,!1,null,null,null);e["default"]=x.exports},"0f05":function(t,e,a){var n=a("b190"),r=n("filter",a("9380"));r.placeholder=a("c2e4"),t.exports=r},"111b":function(t,e,a){var n=a("25b4"),r=Object.prototype,s=r.hasOwnProperty;function i(t){var e=t.name+"",a=n[e],r=s.call(n,e)?a.length:0;while(r--){var i=a[r],o=i.func;if(null==o||o==t)return i.name}return e}t.exports=i},1257:function(t,e,a){var n=a("7530"),r=a("1a8c");function s(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var a=n(t.prototype),s=t.apply(a,e);return r(s)?s:a}}t.exports=s},"220e":function(t,e,a){t.exports={ary:a("bfcb"),assign:a("5b01"),clone:a("b8ce"),curry:a("dc46"),forEach:a("8057"),isArray:a("6747"),isError:a("3eda"),isFunction:a("9520"),isWeakMap:a("833e"),iteratee:a("7168"),keys:a("03dd"),rearg:a("6dee"),toInteger:a("4b17"),toPath:a("d018")}},"25b4":function(t,e){var a={};t.exports=a},2626:function(t,e,a){"use strict";var n=a("d066"),r=a("9bf2"),s=a("b622"),i=a("83ab"),o=s("species");t.exports=function(t){var e=n(t),a=r.f;i&&e&&!e[o]&&a(e,o,{configurable:!0,get:function(){return this}})}},"285e":function(t,e,a){var n=a("6b9a"),r=a("bcdf"),s=n?function(t){return n.get(t)}:r;t.exports=s},"29fb":function(t,e,a){var n=a("6286"),r=a("e9a7"),s=a("46b4"),i=a("6747"),o=a("1310"),l=a("c452"),c=Object.prototype,u=c.hasOwnProperty;function d(t){if(o(t)&&!i(t)&&!(t instanceof n)){if(t instanceof r)return t;if(u.call(t,"__wrapped__"))return l(t)}return new r(t)}d.prototype=s.prototype,d.prototype.constructor=d,t.exports=d},"2c3e":function(t,e,a){var n=a("da84"),r=a("83ab"),s=a("9f7f").MISSED_STICKY,i=a("c6b6"),o=a("9bf2").f,l=a("69f3").get,c=RegExp.prototype,u=n.TypeError;r&&s&&o(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===i(this))return!!l(this).sticky;throw u("Incompatible receiver, RegExp required")}}})},"30c8":function(t,e){var a=Math.max;function n(t,e,n,r){var s=-1,i=t.length,o=-1,l=n.length,c=-1,u=e.length,d=a(i-l,0),p=Array(d+u),f=!r;while(++s<d)p[s]=t[s];var h=s;while(++c<u)p[h+c]=e[c];while(++o<l)(f||s<i)&&(p[h+n[o]]=t[s++]);return p}t.exports=n},3414:function(t,e,a){var n=a("e9a7"),r=a("c6cf"),s=a("285e"),i=a("111b"),o=a("6747"),l=a("3789"),c="Expected a function",u=8,d=32,p=128,f=256;function h(t){return r((function(e){var a=e.length,r=a,h=n.prototype.thru;t&&e.reverse();while(r--){var v=e[r];if("function"!=typeof v)throw new TypeError(c);if(h&&!m&&"wrapper"==i(v))var m=new n([],!0)}r=m?r:a;while(++r<a){v=e[r];var b=i(v),g="wrapper"==b?s(v):void 0;m=g&&l(g[0])&&g[1]==(p|u|d|f)&&!g[4].length&&1==g[9]?m[i(g[0])].apply(m,g[3]):1==v.length&&l(v)?m[b]():m.thru(v)}return function(){var t=arguments,n=t[0];if(m&&1==t.length&&o(n))return m.plant(n).value();var r=0,s=a?e[r].apply(this,t):n;while(++r<a)s=e[r].call(this,s);return s}}))}t.exports=h},3789:function(t,e,a){var n=a("6286"),r=a("285e"),s=a("111b"),i=a("29fb");function o(t){var e=s(t),a=i[e];if("function"!=typeof a||!(e in n.prototype))return!1;if(t===a)return!0;var o=r(a);return!!o&&t===o[0]}t.exports=o},"3eda":function(t,e,a){var n=a("3729"),r=a("1310"),s=a("60ed"),i="[object DOMException]",o="[object Error]";function l(t){if(!r(t))return!1;var e=n(t);return e==o||e==i||"string"==typeof t.message&&"string"==typeof t.name&&!s(t)}t.exports=l},4389:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.button?a("button",{class:["ui","pink",{inverted:t.isFavorite},{favorited:t.isFavorite},"icon","labeled","button"],on:{click:function(e){return e.stopPropagation(),t.$store.dispatch("favorites/toggle",t.track.id)}}},[a("i",{staticClass:"heart icon"}),t.isFavorite?a("translate",{attrs:{"translate-context":"Content/Track/Button.Message"}},[t._v(" In favorites ")]):a("translate",{attrs:{"translate-context":"Content/Track/*/Verb"}},[t._v(" Add to favorites ")])],1):a("button",{class:["ui","favorite-icon",{pink:t.isFavorite},{favorited:t.isFavorite},"basic","circular","icon",{really:!t.border},"button"],attrs:{"aria-label":t.title,title:t.title},on:{click:function(e){return e.stopPropagation(),t.$store.dispatch("favorites/toggle",t.track.id)}}},[a("i",{class:["heart",{pink:t.isFavorite},"basic","icon"]})])},r=[],s={props:{track:{type:Object,default:function(){return{}}},button:{type:Boolean,default:!1},border:{type:Boolean,default:!1}},computed:{title:function(){return this.isFavorite?this.$pgettext("Content/Track/Icon.Tooltip/Verb","Remove from favorites"):this.$pgettext("Content/Track/*/Verb","Add to favorites")},isFavorite:function(){return this.$store.getters["favorites/isFavorite"](this.track.id)}}},i=s,o=a("2877"),l=Object(o["a"])(i,n,r,!1,null,null,null);e["default"]=l.exports},"46b4":function(t,e){function a(){}t.exports=a},"470f":function(t,e,a){var n=a("85e3"),r=a("1257"),s=a("6b5c"),i=a("e6c3"),o=a("57d6"),l=a("e8a9"),c=a("2b3e");function u(t,e,a){var u=r(t);function d(){var r=arguments.length,p=Array(r),f=r,h=o(d);while(f--)p[f]=arguments[f];var v=r<3&&p[0]!==h&&p[r-1]!==h?[]:l(p,h);if(r-=v.length,r<a)return i(t,e,s,d.placeholder,void 0,p,v,void 0,void 0,a-r);var m=this&&this!==c&&this instanceof d?u:t;return n(m,this,p)}return d}t.exports=u},"4a79":function(t,e,a){var n=a("b190"),r=n("sortBy",a("c707"));r.placeholder=a("c2e4"),t.exports=r},"4b17":function(t,e,a){var n=a("6428");function r(t){var e=n(t),a=e%1;return e===e?a?e-a:e:0}t.exports=r},"4c04":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.button?a("button",{class:["ui","icon","labeled","button"],on:{click:function(e){return e.stopPropagation(),t.$store.commit("playlists/chooseTrack",t.track)}}},[a("i",{staticClass:"list icon"}),a("translate",{attrs:{"translate-context":"Sidebar/Player/Icon.Tooltip/Verb"}},[t._v(" Add to playlist… ")])],1):a("button",{class:["ui","basic","circular","icon",{really:!t.border},"button"],attrs:{"aria-label":t.labels.addToPlaylist,title:t.labels.addToPlaylist},on:{click:function(e){return e.stopPropagation(),t.$store.commit("playlists/chooseTrack",t.track)}}},[a("i",{class:["list","basic","icon"]})])},r=[],s={props:{track:{type:Object,default:function(){return{}}},button:{type:Boolean,default:!1},border:{type:Boolean,default:!1}},data:function(){return{showModal:!1}},computed:{labels:function(){return{addToPlaylist:this.$pgettext("Sidebar/Player/Icon.Tooltip/Verb","Add to playlist…")}}}},i=s,o=a("2877"),l=Object(o["a"])(i,n,r,!1,null,null,null);e["default"]=l.exports},"4d63":function(t,e,a){var n=a("83ab"),r=a("da84"),s=a("e330"),i=a("94ca"),o=a("7156"),l=a("9112"),c=a("9bf2").f,u=a("241c").f,d=a("3a9b"),p=a("44e7"),f=a("577e"),h=a("ad6d"),v=a("9f7f"),m=a("6eeb"),b=a("d039"),g=a("1a2d"),y=a("69f3").enforce,_=a("2626"),x=a("b622"),w=a("fce3"),C=a("107c"),k=x("match"),P=r.RegExp,O=P.prototype,A=r.SyntaxError,I=s(h),D=s(O.exec),j=s("".charAt),L=s("".replace),E=s("".indexOf),S=s("".slice),F=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,$=/a/g,T=/a/g,W=new P($)!==$,R=v.MISSED_STICKY,M=v.UNSUPPORTED_Y,B=n&&(!W||R||w||C||b((function(){return T[k]=!1,P($)!=$||P(T)==T||"/a/i"!=P($,"i")}))),V=function(t){for(var e,a=t.length,n=0,r="",s=!1;n<=a;n++)e=j(t,n),"\\"!==e?s||"."!==e?("["===e?s=!0:"]"===e&&(s=!1),r+=e):r+="[\\s\\S]":r+=e+j(t,++n);return r},U=function(t){for(var e,a=t.length,n=0,r="",s=[],i={},o=!1,l=!1,c=0,u="";n<=a;n++){if(e=j(t,n),"\\"===e)e+=j(t,++n);else if("]"===e)o=!1;else if(!o)switch(!0){case"["===e:o=!0;break;case"("===e:D(F,S(t,n+1))&&(n+=2,l=!0),r+=e,c++;continue;case">"===e&&l:if(""===u||g(i,u))throw new A("Invalid capture group name");i[u]=!0,s[s.length]=[u,c],l=!1,u="";continue}l?u+=e:r+=e}return[r,s]};if(i("RegExp",B)){for(var q=function(t,e){var a,n,r,s,i,c,u=d(O,this),h=p(t),v=void 0===e,m=[],b=t;if(!u&&h&&v&&t.constructor===q)return t;if((h||d(O,t))&&(t=t.source,v&&(e="flags"in b?b.flags:I(b))),t=void 0===t?"":f(t),e=void 0===e?"":f(e),b=t,w&&"dotAll"in $&&(n=!!e&&E(e,"s")>-1,n&&(e=L(e,/s/g,""))),a=e,R&&"sticky"in $&&(r=!!e&&E(e,"y")>-1,r&&M&&(e=L(e,/y/g,""))),C&&(s=U(t),t=s[0],m=s[1]),i=o(P(t,e),u?this:O,q),(n||r||m.length)&&(c=y(i),n&&(c.dotAll=!0,c.raw=q(V(t),a)),r&&(c.sticky=!0),m.length&&(c.groups=m)),t!==b)try{l(i,"source",""===b?"(?:)":b)}catch(g){}return i},z=function(t){t in q||c(q,t,{configurable:!0,get:function(){return P[t]},set:function(e){P[t]=e}})},N=u(P),K=0;N.length>K;)z(N[K++]);O.constructor=q,q.prototype=O,m(r,"RegExp",q)}_("RegExp")},"4d8c":function(t,e,a){var n=a("5c69");function r(t){var e=null==t?0:t.length;return e?n(t,1):[]}t.exports=r},"4fcb":function(t,e,a){var n=a("ba51"),r=a("da53"),s=a("c1c9"),i=a("fe50");function o(t,e,a){var o=e+"";return s(t,r(o,i(n(o),a)))}t.exports=o},"57d6":function(t,e){function a(t){var e=t;return e.placeholder}t.exports=a},6286:function(t,e,a){var n=a("7530"),r=a("46b4"),s=4294967295;function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=s,this.__views__=[]}i.prototype=n(r.prototype),i.prototype.constructor=i,t.exports=i},"6b5c":function(t,e,a){var n=a("cb84"),r=a("30c8"),s=a("b767"),i=a("1257"),o=a("e6c3"),l=a("57d6"),c=a("a738"),u=a("e8a9"),d=a("2b3e"),p=1,f=2,h=8,v=16,m=128,b=512;function g(t,e,a,y,_,x,w,C,k,P){var O=e&m,A=e&p,I=e&f,D=e&(h|v),j=e&b,L=I?void 0:i(t);function E(){var p=arguments.length,f=Array(p),h=p;while(h--)f[h]=arguments[h];if(D)var v=l(E),m=s(f,v);if(y&&(f=n(f,y,_,D)),x&&(f=r(f,x,w,D)),p-=m,D&&p<P){var b=u(f,v);return o(t,e,g,E.placeholder,a,f,b,C,k,P-p)}var S=A?a:this,F=I?S[t]:t;return p=f.length,C?f=c(f,C):j&&p>1&&f.reverse(),O&&k<p&&(f.length=k),this&&this!==d&&this instanceof E&&(F=L||i(F)),F.apply(S,f)}return E}t.exports=g},"6b9a":function(t,e,a){var n=a("39ff"),r=n&&new n;t.exports=r},"6dee":function(t,e,a){var n=a("e93d"),r=a("c6cf"),s=256,i=r((function(t,e){return n(t,s,void 0,void 0,void 0,e)}));t.exports=i},7168:function(t,e,a){var n=a("3818"),r=a("badf"),s=1;function i(t){return r("function"==typeof t?t:n(t,s))}t.exports=i},7715:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{staticClass:"small",attrs:{show:t.$store.state.channels.showUploadModal},on:{"update:show":t.update}},[a("h4",{staticClass:"header"},[1===t.step?a("translate",{key:"1",attrs:{"translate-context":"Popup/Channels/Title/Verb"}},[t._v(" Publish audio ")]):2===t.step?a("translate",{key:"2",attrs:{"translate-context":"Popup/Channels/Title"}},[t._v(" Files to upload ")]):3===t.step?a("translate",{key:"3",attrs:{"translate-context":"Popup/Channels/Title"}},[t._v(" Upload details ")]):4===t.step?a("translate",{key:"4",attrs:{"translate-context":"Popup/Channels/Title"}},[t._v(" Processing uploads ")]):t._e()],1),a("div",{staticClass:"scrolling content"},[a("channel-upload-form",{ref:"uploadForm",attrs:{channel:t.$store.state.channels.uploadModalConfig.channel},on:{step:function(e){t.step=e},loading:function(e){t.isLoading=e},published:function(e){return t.$store.commit("channels/publish",e)},status:function(e){t.statusData=e},submittable:function(e){t.submittable=e}}})],1),a("div",{staticClass:"actions"},[a("div",{staticClass:"left floated text left align"},[t.statusData&&t.step>=2?[t._v(" "+t._s(t.statusInfo.join(" · "))+" ")]:t._e(),a("div",{staticClass:"ui very small hidden divider"}),t.statusData&&t.statusData.quotaStatus?[a("translate",{attrs:{"translate-context":"Content/Library/Paragraph"}},[t._v(" Remaining storage space: ")]),t._v(" "+t._s(t._f("humanSize")(1e3*t.statusData.quotaStatus.remaining*1e3-t.statusData.uploadedSize))+" ")]:t._e()],2),a("div",{staticClass:"ui hidden clearing divider mobile-only"}),1===t.step?a("button",{staticClass:"ui basic cancel button"},[a("translate",{attrs:{"translate-context":"*/*/Button.Label/Verb"}},[t._v(" Cancel ")])],1):t.step<3?a("button",{staticClass:"ui basic button",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.$refs.uploadForm.step-=1}}},[a("translate",{attrs:{"translate-context":"*/*/Button.Label/Verb"}},[t._v(" Previous step ")])],1):3===t.step?a("button",{staticClass:"ui basic button",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.$refs.uploadForm.step-=1}}},[a("translate",{attrs:{"translate-context":"*/*/Button.Label/Verb"}},[t._v(" Update ")])],1):t._e(),1===t.step?a("button",{staticClass:"ui primary button",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.$refs.uploadForm.step+=1}}},[a("translate",{attrs:{"translate-context":"*/*/Button.Label"}},[t._v(" Next step ")])],1):t._e(),2===t.step?a("div",{staticClass:"ui primary buttons"},[a("button",{class:["ui","primary button",{loading:t.isLoading}],attrs:{type:"submit",disabled:!t.statusData||!t.statusData.canSubmit},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$refs.uploadForm.publish.apply(null,arguments)}}},[a("translate",{attrs:{"translate-context":"*/Channels/Button.Label"}},[t._v(" Publish ")])],1),a("button",{directives:[{name:"dropdown",rawName:"v-dropdown"}],ref:"dropdown",staticClass:"ui floating dropdown icon button",attrs:{disabled:!t.statusData||!t.statusData.canSubmit}},[a("i",{staticClass:"dropdown icon"}),a("div",{staticClass:"menu"},[a("div",{staticClass:"basic item",attrs:{role:"button"},on:{click:function(e){return t.update(!1)}}},[a("translate",{attrs:{"translate-context":"Content/*/Button.Label/Verb"}},[t._v(" Finish later ")])],1)])])]):t._e(),4===t.step?a("button",{staticClass:"ui basic cancel button",on:{click:function(e){return t.update(!1)}}},[a("translate",{attrs:{"translate-context":"*/*/Button.Label/Verb"}},[t._v(" Close ")])],1):t._e()])])},r=[],s=a("404d"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{class:["ui",{loading:t.isLoadingStep1},"form component-file-upload"],on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[t.errors.length>0?a("div",{staticClass:"ui negative message",attrs:{role:"alert"}},[a("h4",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Content/*/Error message.Title"}},[t._v(" Error while publishing ")])],1),a("ul",{staticClass:"list"},t._l(t.errors,(function(e,n){return a("li",{key:n},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),a("div",{class:["ui","required",{hidden:t.step>1},"field"]},[a("label",{attrs:{for:"channel-dropdown"}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Channel")])],1),t._m(0)]),a("album-select",{class:["ui",{hidden:t.step>1},"field"],attrs:{channel:t.selectedChannel},model:{value:t.values.album,callback:function(e){t.$set(t.values,"album",t._n(e))},expression:"values.album"}}),a("license-select",{class:["ui",{hidden:t.step>1},"field"],model:{value:t.values.license,callback:function(e){t.$set(t.values,"license",e)},expression:"values.license"}}),a("div",{class:["ui",{hidden:t.step>1},"message"]},[a("div",{staticClass:"content"},[a("p",[a("i",{staticClass:"copyright icon"}),a("translate",{attrs:{"translate-context":"Content/Channels/Popup.Paragraph"}},[t._v(" Add a license to your upload to ensure some freedoms to your public. ")])],1)])]),t.step>=2&&t.step<4?[0===t.remainingSpace?a("div",{staticClass:"ui warning message",attrs:{role:"alert"}},[a("div",{staticClass:"content"},[a("p",[a("i",{staticClass:"warning icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Paragraph"}},[t._v(" You don't have any space left to upload your files. Please contact the moderators. ")])],1)])]):[2===t.step&&t.draftUploads&&t.draftUploads.length>0&&null===t.includeDraftUploads?a("div",{staticClass:"ui visible info message"},[a("p",[a("i",{staticClass:"redo icon"}),a("translate",{attrs:{"translate-context":"Popup/Channels/Paragraph"}},[t._v(" You have some draft uploads pending publication. ")])],1),a("button",{staticClass:"ui basic button",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.includeDraftUploads=!1}}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Ignore ")])],1),a("button",{staticClass:"ui basic button",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.includeDraftUploads=!0}}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Resume ")])],1)]):t._e(),t.uploadedFiles.length>0?a("div",{class:[{hidden:3===t.step}]},t._l(t.uploadedFiles,(function(e,n){return a("div",{key:n,staticClass:"channel-file"},[a("div",{staticClass:"content"},[e.response.uuid?a("div",{staticClass:"ui basic icon button",attrs:{role:"button",title:t.labels.editTitle},on:{click:function(a){a.stopPropagation(),a.preventDefault(),t.selectedUploadId=e.response.uuid}}},[a("i",{staticClass:"pencil icon"})]):t._e(),e.error?a("div",{staticClass:"ui basic danger icon label",attrs:{title:e.error},on:{click:function(a){a.stopPropagation(),a.preventDefault(),t.selectedUploadId=e.response.uuid}}},[a("i",{staticClass:"warning sign icon"})]):e.active?a("div",{staticClass:"ui active slow inline loader"}):t._e()]),a("h4",{staticClass:"ui header"},[e.metadata.title?[t._v(" "+t._s(e.metadata.title)+" ")]:[t._v(" "+t._s(e.name)+" ")],a("div",{staticClass:"sub header"},[e.response.uuid?[t._v(" "+t._s(t._f("humanSize")(e.size))+" "),e.response.duration?[t._v(" · "),a("human-duration",{attrs:{duration:e.response.duration}})]:t._e()]:[e.active?a("translate",{key:"1",attrs:{"translate-context":"Channels/*/*"}},[t._v(" Uploading ")]):e.error?a("translate",{key:"2",attrs:{"translate-context":"Channels/*/*"}},[t._v(" Errored ")]):a("translate",{key:"3",attrs:{"translate-context":"Channels/*/*"}},[t._v(" Pending ")]),t._v(" · "+t._s(t._f("humanSize")(e.size))+" · "+t._s(parseInt(e.progress))+"% ")],t._v(" · "),a("a",{on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.remove(e)}}},[a("translate",{attrs:{"translate-context":"Content/Radio/Button.Label/Verb"}},[t._v("Remove")])],1),e.error?[t._v(" · "),a("a",{on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.retry(e)}}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Retry")])],1)]:t._e()],2)],2)])})),0):t._e(),t.selectedUpload?a("upload-metadata-form",{key:t.selectedUploadId,attrs:{upload:t.selectedUpload,values:t.uploadImportData[t.selectedUploadId]},on:{values:function(e){return t.setDynamic("uploadImportData",t.selectedUploadId,e)}}}):t._e(),2===t.step?a("div",{staticClass:"ui message"},[a("div",{staticClass:"content"},[a("p",[a("i",{staticClass:"info icon"}),a("translate",{attrs:{"translate-context":"Content/Library/Paragraph","translate-params":{extensions:t.$store.state.ui.supportedExtensions.join(", ")}}},[t._v(" Supported extensions: %{ extensions } ")])],1)])]):t._e(),a("file-upload-widget",{ref:"upload",class:["ui","icon","basic","button","channels",{hidden:3===t.step}],attrs:{"post-action":t.uploadUrl,multiple:!0,data:t.baseImportMetadata,drop:!0,extensions:t.$store.state.ui.supportedExtensions,value:t.files,name:"audio_file",thread:1},on:{input:t.updateFiles,"input-file":t.inputFile}},[a("div",[a("i",{staticClass:"upload icon"}),t._v("  "),a("translate",{attrs:{"translate-context":"Content/Channels/Paragraph"}},[t._v(" Drag and drop your files here or open the browser to upload your files ")])],1),a("div",{staticClass:"ui very small divider"}),a("div",[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" Browse… ")])],1)]),a("div",{staticClass:"ui hidden divider"})]]:t._e()],2)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui search normal selection dropdown",attrs:{id:"channel-dropdown"}},[a("div",{staticClass:"text"}),a("i",{staticClass:"dropdown icon"})])}],l=a("c7eb"),c=a("1da1"),u=a("2909"),d=a("5530"),p=(a("d3b7"),a("ddb0"),a("4de4"),a("4160"),a("159b"),a("d81d"),a("c975"),a("99af"),a("ac1f"),a("5319"),a("e25e"),a("7db0"),a("a4d3"),a("e01a"),a("bc3a")),f=a.n(p),h=a("1157"),v=a.n(h),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("label",{attrs:{for:"license-dropdown"}},[a("translate",{attrs:{"translate-context":"Content/*/*/Noun"}},[t._v("License")])],1),a("select",{staticClass:"ui search normal dropdown",attrs:{id:"license-dropdown"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}},[a("option",{attrs:{value:""}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" None ")])],1),t._l(t.featuredLicenses,(function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(" "+t._s(e.name)+" ")])}))],2),a("div",{staticClass:"ui very small hidden divider"}),t.value?a("p",{staticClass:"help"},[t.value?a("a",{attrs:{href:t.currentLicense.url,target:"_blank",rel:"noreferrer noopener"}},[a("translate",{attrs:{"translate-context":"Content/*/*"}},[t._v("About this license")])],1):t._e()]):t._e()])},b=[],g={props:{value:{type:String,default:null}},data:function(){return{availableLicenses:[],featuredLicensesIds:["cc0-1.0","cc-by-4.0","cc-by-sa-4.0","cc-by-nc-4.0","cc-by-nc-sa-4.0","cc-by-nc-nd-4.0","cc-by-nd-4.0"],isLoading:!1}},computed:{featuredLicenses:function(){var t=this;return this.availableLicenses.filter((function(e){return t.featuredLicensesIds.indexOf(e.code)>-1}))},currentLicense:function(){var t=this;return this.value?this.availableLicenses.filter((function(e){return e.code===t.value}))[0]:null}},created:function(){var t=this;return Object(c["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchLicenses();case 2:case"end":return e.stop()}}),e)})))()},methods:{fetchLicenses:function(){var t=this;return Object(c["a"])(Object(l["a"])().mark((function e(){var a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,f.a.get("licenses/");case 3:a=e.sent,t.availableLicenses=a.data.results,t.isLoading=!1;case 6:case"end":return e.stop()}}),e)})))()}}},y=g,_=a("2877"),x=Object(_["a"])(y,m,b,!1,null,null,null),w=x.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("label",{attrs:{for:"album-dropdown"}},[t.channel&&t.channel.artist&&"podcast"===t.channel.artist.content_category?a("translate",{key:"1",attrs:{"translate-context":"*/*/*"}},[t._v("Series")]):a("translate",{key:"2",attrs:{"translate-context":"*/*/*"}},[t._v("Album")])],1),a("select",{staticClass:"ui search normal dropdown",attrs:{id:"album-dropdown"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}},[a("option",{attrs:{value:""}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v(" None ")])],1),t._l(t.albums,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.title)+" ("),a("translate",{attrs:{"translate-context":"*/*/*","translate-params":{count:e.tracks_count},"translate-n":e.tracks_count,"translate-plural":"%{ count } tracks"}},[t._v(" %{ count } track ")]),t._v(") ")],1)}))],2)])},k=[],P=(a("a9e3"),{props:{value:{type:Number,default:null},channel:{type:Object,default:function(){return{}}}},data:function(){return{albums:[],isLoading:!1}},watch:{channel:function(){var t=this;return Object(c["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(c["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:case"end":return e.stop()}}),e)})))()},methods:{fetchData:function(){var t=this;return Object(c["a"])(Object(l["a"])().mark((function e(){var a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.albums=[],t.channel&&t.channel.artist){e.next=3;break}return e.abrupt("return");case 3:return t.isLoading=!0,e.next=6,f.a.get("albums/",{params:{artist:t.channel.artist.id,include_channels:"true"}});case 6:a=e.sent,t.albums=a.data.results,t.isLoading=!1;case 9:case"end":return e.stop()}}),e)})))()}}}),O=P,A=Object(_["a"])(O,C,k,!1,null,null,null),I=A.exports,D=a("c5e3"),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["ui",{loading:t.isLoading},"form"]},[a("div",{staticClass:"ui required field"},[a("label",{attrs:{for:"upload-title"}},[a("translate",{attrs:{"translate-context":"*/*/*/Noun"}},[t._v("Title")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newValues.title,expression:"newValues.title"}],attrs:{type:"text"},domProps:{value:t.newValues.title},on:{input:function(e){e.target.composing||t.$set(t.newValues,"title",e.target.value)}}})]),a("attachment-input",{attrs:{required:!1},on:{delete:function(e){t.newValues.cover=null}},model:{value:t.newValues.cover,callback:function(e){t.$set(t.newValues,"cover",e)},expression:"newValues.cover"}},[a("translate",{attrs:{slot:"label","translate-context":"Content/Channel/*"},slot:"label"},[t._v(" Track Picture ")])],1),a("div",{staticClass:"ui small hidden divider"}),a("div",{staticClass:"ui two fields"},[a("div",{staticClass:"ui field"},[a("label",{attrs:{for:"upload-tags"}},[a("translate",{attrs:{"translate-context":"*/*/*/Noun"}},[t._v("Tags")])],1),a("tags-selector",{attrs:{id:"upload-tags",required:!1},model:{value:t.newValues.tags,callback:function(e){t.$set(t.newValues,"tags",e)},expression:"newValues.tags"}})],1),a("div",{staticClass:"ui field"},[a("label",{attrs:{for:"upload-position"}},[a("translate",{attrs:{"translate-context":"*/*/*/Short, Noun"}},[t._v("Position")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newValues.position,expression:"newValues.position"}],attrs:{type:"number",min:"1",step:"1"},domProps:{value:t.newValues.position},on:{input:function(e){e.target.composing||t.$set(t.newValues,"position",e.target.value)}}})])]),a("div",{staticClass:"ui field"},[a("label",{attrs:{for:"upload-description"}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Description")])],1),a("content-form",{attrs:{"field-id":"upload-description"},model:{value:t.newValues.description,callback:function(e){t.$set(t.newValues,"description",e)},expression:"newValues.description"}})],1)],1)},L=[],E=a("8352"),S=a("c3b4"),F={components:{TagsSelector:E["a"],AttachmentInput:S["a"]},props:{upload:{type:Object,required:!0},values:{type:Object,required:!0}},data:function(){return{newValues:Object(d["a"])({},this.values)||this.upload.import_metadata}},computed:{isLoading:function(){return!!this.metadata}},watch:{newValues:{handler:function(t){this.$emit("values",t)},immediate:!0}}},$=F,T=Object(_["a"])($,j,L,!1,null,null,null),W=T.exports;function R(t,e,a){void 0===t[e]&&(t[e]=a)}var M={components:{AlbumSelect:I,LicenseSelect:w,FileUploadWidget:D["a"],UploadMetadataForm:W},props:{channel:{type:Object,default:null,required:!1}},data:function(){return{availableChannels:{results:[],count:0},audioMetadata:{},uploadData:{},uploadImportData:{},draftUploads:null,files:[],errors:[],removed:[],includeDraftUploads:null,uploadUrl:this.$store.getters["instance/absoluteUrl"]("/api/v1/uploads/"),quotaStatus:null,isLoadingStep1:!0,step:1,values:{channel:(this.channel||{}).uuid,license:null,album:null},selectedUploadId:null}},computed:{labels:function(){return{editTitle:this.$pgettext("Content/*/Button.Label/Verb","Edit")}},baseImportMetadata:function(){return{channel:this.values.channel,import_status:"draft",import_metadata:{license:this.values.license,album:this.values.album||null}}},remainingSpace:function(){return this.quotaStatus?Math.max(0,this.quotaStatus.remaining-this.uploadedSize/1e6):0},selectedChannel:function(){var t=this;return this.availableChannels.results.filter((function(e){return e.uuid===t.values.channel}))[0]},selectedUpload:function(){var t=this;if(!this.selectedUploadId)return null;var e=this.uploadedFiles.filter((function(e){return e.response&&e.response.uuid===t.selectedUploadId}))[0];return Object(d["a"])(Object(d["a"])({},e.response),{},{_fileObj:e._fileObj})},uploadedFilesById:function(){var t={};return this.uploadedFiles.forEach((function(e){t[e.response.uuid]=e})),t},uploadedFiles:function(){var t=this,e=this.files.map((function(e){var a=Object(d["a"])(Object(d["a"])({},e),{},{_fileObj:e,metadata:{}});if(e.response&&e.response.uuid){var n=t.uploadImportData[e.response.uuid]||t.uploadData[e.response.uuid].import_metadata;a.metadata=Object(d["a"])({},n),a.removed=t.removed.indexOf(e.response.uuid)>=0}return a})),a=[];return a=this.includeDraftUploads?[].concat(Object(u["a"])(this.draftUploads.map((function(e){return{response:e,_fileObj:null,size:e.size,progress:100,name:e.source.replace("upload://",""),active:!1,removed:t.removed.indexOf(e.uuid)>=0,metadata:t.uploadImportData[e.uuid]||t.audioMetadata[e.uuid]||e.import_metadata}}))),Object(u["a"])(e)):e,a.filter((function(t){return!t.removed}))},summaryData:function(){var t=null,e=null;return this.activeFile&&(t=this.activeFile.speed,e=parseInt(this.totalSize/t)),{totalFiles:this.uploadedFiles.length,totalSize:this.totalSize,uploadedSize:this.uploadedSize,progress:parseInt(100*this.uploadedSize/this.totalSize),canSubmit:!this.activeFile&&this.uploadedFiles.length>0,speed:t,remaining:e,quotaStatus:this.quotaStatus}},totalSize:function(){var t=0;return this.uploadedFiles.forEach((function(e){e.error||(t+=e.size)})),t},uploadedSize:function(){var t=0;return this.uploadedFiles.forEach((function(e){e._fileObj&&!e.error&&(t+=e.size*(e.progress/100))})),t},activeFile:function(){return this.files.filter((function(t){return t.active}))[0]}},watch:{"availableChannels.results":function(){this.setupChannelsDropdown()},"values.channel":{handler:function(t){var e=this;return Object(c["a"])(Object(l["a"])().mark((function a(){return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.files=[],!t){a.next=4;break}return a.next=4,e.fetchDraftUploads(t);case 4:case"end":return a.stop()}}),a)})))()},immediate:!0},step:{handler:function(t){this.$emit("step",t),2===t&&(this.selectedUploadId=null)},immediate:!0},selectedUploadId:function(t,e){var a=this;return Object(c["a"])(Object(l["a"])().mark((function n(){return Object(l["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a.step=t?3:2,!e){n.next=4;break}return n.next=4,a.patchUpload(e,{import_metadata:a.uploadImportData[e]});case 4:case"end":return n.stop()}}),n)})))()},summaryData:{handler:function(t){this.$emit("status",t)},immediate:!0}},created:function(){var t=this;return Object(c["a"])(Object(l["a"])().mark((function e(){var a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoadingStep1=!0,a=t.fetchChannels(),e.next=4,a;case 4:t.isLoadingStep1=!1,t.fetchQuota();case 6:case"end":return e.stop()}}),e)})))()},methods:{fetchChannels:function(){var t=this;return Object(c["a"])(Object(l["a"])().mark((function e(){var a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("channels/",{params:{scope:"me"}});case 2:a=e.sent,t.availableChannels=a.data;case 4:case"end":return e.stop()}}),e)})))()},patchUpload:function(t,e){var a=this;return Object(c["a"])(Object(l["a"])().mark((function n(){var r;return Object(l["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,f.a.patch("uploads/".concat(t,"/"),e);case 2:r=n.sent,a.uploadData[t]=r.data,a.uploadImportData[t]=r.data.import_metadata;case 5:case"end":return n.stop()}}),n)})))()},fetchQuota:function(){var t=this;f.a.get("users/me/").then((function(e){t.quotaStatus=e.data.quota_status}))},publish:function(){var t=this;t.isLoading=!0,t.errors=[];var e=this.uploadedFiles.map((function(t){return t.response.uuid})),a={action:"publish",objects:e};return f.a.post("uploads/action/",a).then((function(e){t.isLoading=!1,t.$emit("published",{uploads:t.uploadedFiles.map((function(t){return Object(d["a"])(Object(d["a"])({},t.response),{},{import_status:"pending"})})),channel:t.selectedChannel})}),(function(e){t.errors=e.backendErrors}))},setupChannelsDropdown:function(){var t=this;v()(this.$el).find("#channel-dropdown").dropdown({onChange:function(e,a,n){t.values.channel=e},values:this.availableChannels.results.map((function(e){var a={name:e.artist.name,value:e.uuid,selected:t.channel&&t.channel.uuid===e.uuid};if(e.artist.cover&&e.artist.cover.urls.medium_square_crop){var n=t.$store.getters["instance/absoluteUrl"](e.artist.cover.urls.medium_square_crop);a.image=n,"podcast"===e.artist.content_category?a.imageClass="ui image":a.imageClass="ui avatar image"}else a.icon="user","podcast"===e.artist.content_category?a.iconClass="bordered icon":a.iconClass="circular icon";return a}))}),v()(this.$el).find("#channel-dropdown").dropdown("hide")},inputFile:function(t,e){t&&(this.remainingSpace<t.size/1e6?t.error="denied":this.$refs.upload.active=!0)},fetchAudioMetadata:function(t){var e=this;e.audioMetadata[t]=null,f.a.get("uploads/".concat(t,"/audio-file-metadata/")).then((function(a){e.setDynamic("audioMetadata",t,a.data);var n=e.uploadedFilesById[t];n._fileObj&&n.response.import_metadata.title===n._fileObj.name.replace(/\.[^/.]+$/,"")&&a.data.title?e.uploadImportData[t].title=a.data.title:R(e.uploadImportData[t],"title",a.data.title),R(e.uploadImportData[t],"title",a.data.title),R(e.uploadImportData[t],"position",a.data.position),R(e.uploadImportData[t],"tags",a.data.tags),R(e.uploadImportData[t],"description",(a.data.description||{}).text),e.patchUpload(t,{import_metadata:e.uploadImportData[t]})}))},setDynamic:function(t,e,a){var n={};n[e]=a,this[t]=Object.assign({},this[t],n)},updateFiles:function(t){var e=this;this.files=t,this.files.forEach((function(t){t.response&&t.response.uuid&&void 0===e.audioMetadata[t.response.uuid]&&(e.uploadData[t.response.uuid]=t.response,e.setDynamic("uploadImportData",t.response.uuid,Object(d["a"])({},t.response.import_metadata)),e.fetchAudioMetadata(t.response.uuid))}))},fetchDraftUploads:function(t){var e=this;return Object(c["a"])(Object(l["a"])().mark((function a(){var n,r;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e,e.draftUploads=null,a.next=4,f.a.get("uploads",{params:{import_status:"draft",channel:t}});case 4:r=a.sent,e.draftUploads=r.data.results,e.draftUploads.forEach((function(t){n.uploadImportData[t.uuid]=t.import_metadata}));case 7:case"end":return a.stop()}}),a)})))()},remove:function(t){t.response&&t.response.uuid?(f.a.delete("uploads/".concat(t.response.uuid,"/")),this.removed.push(t.response.uuid)):this.$refs.upload.remove(t)},retry:function(t){this.$refs.upload.update(t,{error:"",progress:"0.00"}),this.$refs.upload.active=!0}}},B=M,V=Object(_["a"])(B,i,o,!1,null,null,null),U=V.exports,q=a("98fc"),z={components:{Modal:s["default"],ChannelUploadForm:U},data:function(){return{step:1,isLoading:!1,submittable:!0,statusData:null}},computed:{labels:function(){return{}},statusInfo:function(){if(!this.statusData)return[];var t=[];if(this.statusData.totalSize&&t.push(Object(q["a"])(this.statusData.totalSize)),this.statusData.totalFiles){var e=this.$npgettext("*/*/*","%{ count } file","%{ count } files",this.statusData.totalFiles);t.push(this.$gettextInterpolate(e,{count:this.statusData.totalFiles}))}return this.statusData.progress&&t.push("".concat(this.statusData.progress,"%")),this.statusData.speed&&t.push("".concat(Object(q["a"])(this.statusData.speed),"/s")),t}},watch:{"$store.state.route.path":function(){this.$store.commit("channels/showUploadModal",{show:!1})}},methods:{update:function(t){this.$store.commit("channels/showUploadModal",{show:t})}}},N=z,K=Object(_["a"])(N,n,r,!1,null,null,null);e["default"]=K.exports},"833e":function(t,e,a){var n=a("42a2"),r=a("1310"),s="[object WeakMap]";function i(t){return r(t)&&n(t)==s}t.exports=i},8352:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dropdown",staticClass:"ui multiple search selection dropdown"},[a("input",{attrs:{type:"hidden"}}),a("i",{staticClass:"dropdown icon"}),a("input",{staticClass:"search",attrs:{id:"tags-search",type:"text"}}),a("div",{staticClass:"default text"},[a("translate",{attrs:{"translate-context":"*/Dropdown/Placeholder/Verb"}},[t._v(" Search… ")])],1)])},r=[],s=a("5530"),i=a("2909"),o=(a("4e82"),a("ac1f"),a("1276"),a("7db0"),a("d3b7"),a("c975"),a("99af"),a("a434"),a("1157")),l=a.n(o),c=a("ceb5"),u={props:{value:{type:Array,required:!0}},watch:{value:{handler:function(t){var e=l()(this.$refs.dropdown).dropdown("get value").split(",").sort();c["a"].isEqual(Object(i["a"])(t).sort(),e)||l()(this.$refs.dropdown).dropdown("set exactly",t)},deep:!0}},mounted:function(){var t=this;this.$nextTick((function(){t.initDropdown()}))},methods:{initDropdown:function(){var t=this,e=function(){var e=l()(t.$refs.dropdown).dropdown("get value").split(",");return t.$emit("input",e),e},a={keys:{delimiter:32},forceSelection:!1,saveRemoteData:!1,filterRemoteData:!0,preserveHTML:!1,apiSettings:{url:this.$store.getters["instance/absoluteUrl"]("/api/v1/tags/?name__startswith={query}&ordering=length&page_size=5"),beforeXHR:function(e){return t.$store.state.auth.oauth.accessToken&&e.setRequestHeader("Authorization",t.$store.getters["auth/header"]),e},onResponse:function(e){var a=l()(t.$refs.dropdown).dropdown("get query");if(e=Object(s["a"])({results:[]},e),a){var n=e.results.find((function(t){return t.name===a}));n?0!==e.results.indexOf(n)&&(e.results=[n].concat(Object(i["a"])(e.results)),e.results.splice(e.results.indexOf(n)+1,1)):e.results=[{name:a}].concat(Object(i["a"])(e.results))}return e}},fields:{remoteValues:"results",value:"name"},allowAdditions:!0,minCharacters:1,onAdd:e,onRemove:e,onLabelRemove:e,onChange:e};l()(this.$refs.dropdown).dropdown(a),l()(this.$refs.dropdown).dropdown("set exactly",this.value)}}},d=u,p=a("2877"),f=Object(p["a"])(d,n,r,!1,null,null,null);e["a"]=f.exports},8860:function(t,e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,a=e.aliasToReal,n={};for(var r in a){var s=a[r];t.call(n,s)?n[s].push(r):n[s]=[r]}return n}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},"89ea":function(t,e,a){var n=a("1257"),r=a("2b3e"),s=1;function i(t,e,a){var i=e&s,o=n(t);function l(){var e=this&&this!==r&&this instanceof l?o:t;return e.apply(i?a:this,arguments)}return l}t.exports=i},9380:function(t,e,a){var n=a("2d7c"),r=a("9f74"),s=a("badf"),i=a("6747");function o(t,e){var a=i(t)?n:r;return a(t,s(e,3))}t.exports=o},"9f74":function(t,e,a){var n=a("48a0");function r(t,e){var a=[];return n(t,(function(t,n,r){e(t,n,r)&&a.push(t)})),a}t.exports=r},a738:function(t,e,a){var n=a("4359"),r=a("c098"),s=Math.min;function i(t,e){var a=t.length,i=s(e.length,a),o=n(t);while(i--){var l=e[i];t[i]=r(l,a)?o[l]:void 0}return t}t.exports=i},ab74:function(t,e,a){var n=a("cb84"),r=a("30c8"),s=a("e8a9"),i="__lodash_placeholder__",o=1,l=2,c=4,u=8,d=128,p=256,f=Math.min;function h(t,e){var a=t[1],h=e[1],v=a|h,m=v<(o|l|d),b=h==d&&a==u||h==d&&a==p&&t[7].length<=e[8]||h==(d|p)&&e[7].length<=e[8]&&a==u;if(!m&&!b)return t;h&o&&(t[2]=e[2],v|=a&o?0:c);var g=e[3];if(g){var y=t[3];t[3]=y?n(y,g,e[4]):g,t[4]=y?s(t[3],i):e[4]}return g=e[5],g&&(y=t[5],t[5]=y?r(y,g,e[6]):g,t[6]=y?s(t[5],i):e[6]),g=e[7],g&&(t[7]=g),h&d&&(t[8]=null==t[8]?e[8]:f(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=v,t}t.exports=h},b190:function(t,e,a){var n=a("b6da"),r=a("220e");function s(t,e,a){return n(r,t,e,a)}t.exports=s},b343:function(t,e,a){var n=a("cd9d"),r=a("6b9a"),s=r?function(t,e){return r.set(t,e),t}:n;t.exports=s},b429:function(t,e,a){var n=a("b190"),r=n("flow",a("e7a6"));r.placeholder=a("c2e4"),t.exports=r},b6da:function(t,e,a){var n=a("8860"),r=a("c2e4"),s=Array.prototype.push;function i(t,e){return 2==e?function(e,a){return t.apply(void 0,arguments)}:function(e){return t.apply(void 0,arguments)}}function o(t,e){return 2==e?function(e,a){return t(e,a)}:function(e){return t(e)}}function l(t){var e=t?t.length:0,a=Array(e);while(e--)a[e]=t[e];return a}function c(t){return function(e){return t({},e)}}function u(t,e){return function(){var a=arguments.length,n=a-1,r=Array(a);while(a--)r[a]=arguments[a];var i=r[e],o=r.slice(0,e);return i&&s.apply(o,i),e!=n&&s.apply(o,r.slice(e+1)),t.apply(this,o)}}function d(t,e){return function(){var a=arguments.length;if(a){var n=Array(a);while(a--)n[a]=arguments[a];var r=n[0]=e.apply(void 0,n);return t.apply(void 0,n),r}}}function p(t,e,a,s){var f="function"==typeof e,h=e===Object(e);if(h&&(s=a,a=e,e=void 0),null==a)throw new TypeError;s||(s={});var v={cap:!("cap"in s)||s.cap,curry:!("curry"in s)||s.curry,fixed:!("fixed"in s)||s.fixed,immutable:!("immutable"in s)||s.immutable,rearg:!("rearg"in s)||s.rearg},m=f?a:r,b="curry"in s&&s.curry,g="fixed"in s&&s.fixed,y="rearg"in s&&s.rearg,_=f?a.runInContext():void 0,x=f?a:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},w=x.ary,C=x.assign,k=x.clone,P=x.curry,O=x.forEach,A=x.isArray,I=x.isError,D=x.isFunction,j=x.isWeakMap,L=x.keys,E=x.rearg,S=x.toInteger,F=x.toPath,$=L(n.aryMethod),T={castArray:function(t){return function(){var e=arguments[0];return A(e)?t(l(e)):t.apply(void 0,arguments)}},iteratee:function(t){return function(){var e=arguments[0],a=arguments[1],n=t(e,a),r=n.length;return v.cap&&"number"==typeof a?(a=a>2?a-2:1,r&&r<=a?n:o(n,a)):n}},mixin:function(t){return function(e){var a=this;if(!D(a))return t(a,Object(e));var n=[];return O(L(e),(function(t){D(e[t])&&n.push([t,a.prototype[t]])})),t(a,Object(e)),O(n,(function(t){var e=t[1];D(e)?a.prototype[t[0]]=e:delete a.prototype[t[0]]})),a}},nthArg:function(t){return function(e){var a=e<0?1:S(e)+1;return P(t(e),a)}},rearg:function(t){return function(e,a){var n=a?a.length:0;return P(t(e,a),n)}},runInContext:function(e){return function(a){return p(t,e(a),s)}}};function W(t,e){if(v.cap){var a=n.iterateeRearg[t];if(a)return N(e,a);var r=!f&&n.iterateeAry[t];if(r)return z(e,r)}return e}function R(t,e,a){return b||v.curry&&a>1?P(e,a):e}function M(t,e,a){if(v.fixed&&(g||!n.skipFixed[t])){var r=n.methodSpread[t],s=r&&r.start;return void 0===s?w(e,a):u(e,s)}return e}function B(t,e,a){return v.rearg&&a>1&&(y||!n.skipRearg[t])?E(e,n.methodRearg[t]||n.aryRearg[a]):e}function V(t,e){e=F(e);var a=-1,n=e.length,r=n-1,s=k(Object(t)),i=s;while(null!=i&&++a<n){var o=e[a],l=i[o];null==l||D(l)||I(l)||j(l)||(i[o]=k(a==r?l:Object(l))),i=i[o]}return s}function U(t){return H.runInContext.convert(t)(void 0)}function q(t,e){var a=n.aliasToReal[t]||t,r=n.remap[a]||a,i=s;return function(t){var n=f?_:x,s=f?_[r]:e,o=C(C({},i),t);return p(n,a,s,o)}}function z(t,e){return K(t,(function(t){return"function"==typeof t?o(t,e):t}))}function N(t,e){return K(t,(function(t){var a=e.length;return i(E(o(t,a),e),a)}))}function K(t,e){return function(){var a=arguments.length;if(!a)return t();var n=Array(a);while(a--)n[a]=arguments[a];var r=v.rearg?0:a-1;return n[r]=e(n[r]),t.apply(void 0,n)}}function Y(t,e,a){var r,s=n.aliasToReal[t]||t,i=e,o=T[s];return o?i=o(e):v.immutable&&(n.mutate.array[s]?i=d(e,l):n.mutate.object[s]?i=d(e,c(e)):n.mutate.set[s]&&(i=d(e,V))),O($,(function(t){return O(n.aryMethod[t],(function(e){if(s==e){var a=n.methodSpread[s],o=a&&a.afterRearg;return r=o?M(s,B(s,i,t),t):B(s,M(s,i,t),t),r=W(s,r),r=R(s,r,t),!1}})),!r})),r||(r=i),r==e&&(r=b?P(r,1):function(){return e.apply(this,arguments)}),r.convert=q(s,e),r.placeholder=e.placeholder=a,r}if(!h)return Y(e,a,m);var H=a,J=[];return O($,(function(t){O(n.aryMethod[t],(function(t){var e=H[n.remap[t]||t];e&&J.push([t,Y(t,e,H)])}))})),O(L(H),(function(t){var e=H[t];if("function"==typeof e){var a=J.length;while(a--)if(J[a][0]==t)return;e.convert=q(t,e),J.push([t,e])}})),O(J,(function(t){H[t[0]]=t[1]})),H.convert=U,H.placeholder=H,O(L(H),(function(t){O(n.realToAlias[t]||[],(function(e){H[e]=H[t]}))})),H}t.exports=p},b767:function(t,e){function a(t,e){var a=t.length,n=0;while(a--)t[a]===e&&++n;return n}t.exports=a},b910:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"ui form",on:{submit:function(e){return e.preventDefault(),t.submit()}}},[t.title?a("h4",{staticClass:"ui header"},[a("translate",{attrs:{"translate-context":"Popup/Playlist/Title/Verb"}},[t._v(" Create a new playlist ")])],1):t._e(),t.success?a("div",{staticClass:"ui positive message"},[a("h4",{staticClass:"header"},[t.playlist?[a("translate",{attrs:{"translate-context":"Content/Playlist/Message"}},[t._v(" Playlist updated ")])]:[a("translate",{attrs:{"translate-context":"Content/Playlist/Message"}},[t._v(" Playlist created ")])]],2)]):t._e(),t.errors.length>0?a("div",{staticClass:"ui negative message",attrs:{role:"alert"}},[a("h4",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Content/Playlist/Error message.Title"}},[t._v(" The playlist could not be created ")])],1),a("ul",{staticClass:"list"},t._l(t.errors,(function(e,n){return a("li",{key:n},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),a("div",{staticClass:"three fields"},[a("div",{staticClass:"field"},[a("label",{attrs:{for:"playlist-name"}},[a("translate",{attrs:{"translate-context":"Content/Playlist/Input.Label"}},[t._v("Playlist name")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"playlist-name",name:"name",required:"",type:"text",placeholder:t.labels.placeholder},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"field"},[a("label",{attrs:{for:"playlist-visibility"}},[a("translate",{attrs:{"translate-context":"Content/Playlist/Dropdown.Label"}},[t._v("Playlist visibility")])],1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.privacyLevel,expression:"privacyLevel"}],staticClass:"ui dropdown",attrs:{id:"playlist-visibility"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.privacyLevel=e.target.multiple?a:a[0]}}},t._l(t.privacyLevelChoices,(function(e,n){return a("option",{key:n,domProps:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),0)]),a("div",{staticClass:"field"},[a("span",{attrs:{id:"updatePlaylistLabel"}}),a("button",{class:["ui","fluid",{loading:t.isLoading},"button"],attrs:{type:"submit"}},[t.playlist?[a("translate",{attrs:{"translate-context":"Content/Playlist/Button.Label/Verb"}},[t._v(" Update playlist ")])]:[a("translate",{attrs:{"translate-context":"Content/Playlist/Button.Label/Verb"}},[t._v(" Create playlist ")])]],2)])])])},r=[],s=(a("7db0"),a("d3b7"),a("1157")),i=a.n(s),o=a("bc3a"),l=a.n(o),c=a("64c4"),u=a("3677"),d={mixins:[c["a"]],props:{title:{type:Boolean,default:!0},playlist:{type:Object,default:null}},data:function(){var t={errors:[],success:!1,isLoading:!1};return this.playlist?(t.name=this.playlist.name,t.privacyLevel=this.playlist.privacy_level):(t.privacyLevel=this.$store.state.auth.profile.privacy_level,t.name=""),t},computed:{labels:function(){return{placeholder:this.$pgettext("Content/Playlist/Input.Placeholder","My awesome playlist")}},privacyLevelChoices:function(){return[{value:"me",label:this.sharedLabels.fields.privacy_level.choices.me},{value:"instance",label:this.sharedLabels.fields.privacy_level.choices.instance},{value:"everyone",label:this.sharedLabels.fields.privacy_level.choices.everyone}]}},mounted:function(){i()(this.$el).find(".dropdown").dropdown()},methods:{submit:function(){this.isLoading=!0,this.success=!1,this.errors=[];var t,e,a=this,n={name:this.name,privacy_level:this.privacyLevel};return this.playlist?(e="playlists/".concat(this.playlist.id,"/"),t=l.a.patch(e,n)):(e="playlists/",t=l.a.post(e,n)),t.then((function(t){a.success=!0,a.isLoading=!1,a.playlist||(a.name=""),a.$emit("updated",t.data),a.$store.dispatch("playlists/fetchOwn")}),(function(t){u["a"].default.error("Error while creating playlist"),a.isLoading=!1,a.errors=t.backendErrors}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,n,r,!1,null,null,null);e["a"]=h.exports},ba51:function(t,e){var a=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;function r(t){var e=t.match(a);return e?e[1].split(n):[]}t.exports=r},bfcb:function(t,e,a){var n=a("e93d"),r=128;function s(t,e,a){return e=a?void 0:e,e=t&&null==e?t.length:e,n(t,r,void 0,void 0,void 0,void 0,e)}t.exports=s},c2e4:function(t,e){t.exports={}},c3b4:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui form"},[t.errors.length>0?a("div",{staticClass:"ui negative message",attrs:{role:"alert"}},[a("h4",{staticClass:"header"},[a("translate",{attrs:{"translate-context":"Content/*/Error message.Title"}},[t._v(" Your attachment cannot be saved ")])],1),a("ul",{staticClass:"list"},t._l(t.errors,(function(e,n){return a("li",{key:n},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),a("div",{staticClass:"ui field"},[a("span",{attrs:{id:"avatarLabel"}},[t._t("label")],2),a("div",{staticClass:"ui stackable grid row"},[a("div",{staticClass:"three wide column"},[t.value&&t.value===t.initialValue?a("img",{class:["ui",t.imageClass,"image"],attrs:{alt:"",src:t.$store.getters["instance/absoluteUrl"]("api/v1/attachments/"+t.value+"/proxy?next=medium_square_crop")}}):t.attachment?a("img",{class:["ui",t.imageClass,"image"],attrs:{alt:"",src:t.$store.getters["instance/absoluteUrl"]("api/v1/attachments/"+t.attachment.uuid+"/proxy?next=medium_square_crop")}}):a("div",{class:["ui",t.imageClass,"static","large placeholder image"]})]),a("div",{staticClass:"eleven wide column"},[a("div",{staticClass:"file-input"},[a("label",{attrs:{for:t.attachmentId}},[a("translate",{attrs:{"translate-context":"*/*/*"}},[t._v("Upload New Picture…")])],1),a("input",{ref:"attachment",staticClass:"ui input",attrs:{id:t.attachmentId,type:"file",accept:"image/x-png,image/jpeg"},on:{change:t.submit}})]),a("div",{staticClass:"ui very small hidden divider"}),a("p",[a("translate",{attrs:{"translate-context":"Content/*/Paragraph"}},[t._v(" PNG or JPG. Dimensions should be between 1400x1400px and 3000x3000px. Maximum file size allowed is 5MB. ")])],1),t.value?a("button",{staticClass:"ui basic tiny button",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.remove(t.value)}}},[a("translate",{attrs:{"translate-context":"Content/Radio/Button.Label/Verb"}},[t._v(" Remove ")])],1):t._e(),t.isLoading?a("div",{staticClass:"ui active inverted dimmer"},[a("div",{staticClass:"ui indeterminate text loader"},[a("translate",{attrs:{"translate-context":"Content/*/*/Noun"}},[t._v(" Uploading file… ")])],1)]):t._e()])])])])},r=[],s=(a("d401"),a("d3b7"),a("25f0"),a("bc3a")),i=a.n(s),o={props:{value:{type:String,default:null},imageClass:{type:String,default:"",required:!1}},data:function(){return{attachment:null,isLoading:!1,errors:[],initialValue:this.value,attachmentId:Math.random().toString(36).substring(7)}},watch:{value:function(t){this.attachment&&t===this.initialValue&&this.remove(this.attachment.uuid)}},methods:{submit:function(){var t=this;this.isLoading=!0,this.errors=[];var e=this;this.file=this.$refs.attachment.files[0];var a=new FormData;a.append("file",this.file),i.a.post("attachments/",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){t.isLoading=!1,e.attachment=a.data,e.$emit("input",e.attachment.uuid)}),(function(t){e.isLoading=!1,e.errors=t.backendErrors}))},remove:function(t){var e=this;this.isLoading=!0,this.errors=[];var a=this;i.a.delete("attachments/".concat(t,"/")).then((function(t){e.isLoading=!1,a.attachment=null,a.$emit("delete")}),(function(t){a.isLoading=!1,a.errors=t.backendErrors}))}}},l=o,c=a("2877"),u=Object(c["a"])(l,n,r,!1,null,null,null);e["a"]=u.exports},c452:function(t,e,a){var n=a("6286"),r=a("e9a7"),s=a("4359");function i(t){if(t instanceof n)return t.clone();var e=new r(t.__wrapped__,t.__chain__);return e.__actions__=s(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}t.exports=i},c607:function(t,e,a){var n=a("da84"),r=a("83ab"),s=a("fce3"),i=a("c6b6"),o=a("9bf2").f,l=a("69f3").get,c=RegExp.prototype,u=n.TypeError;r&&s&&o(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===i(this))return!!l(this).dotAll;throw u("Incompatible receiver, RegExp required")}}})},c6cf:function(t,e,a){var n=a("4d8c"),r=a("2286"),s=a("c1c9");function i(t){return s(r(t,void 0,n),t+"")}t.exports=i},cb84:function(t,e){var a=Math.max;function n(t,e,n,r){var s=-1,i=t.length,o=n.length,l=-1,c=e.length,u=a(i-o,0),d=Array(c+u),p=!r;while(++l<c)d[l]=e[l];while(++s<o)(p||s<i)&&(d[n[s]]=t[s]);while(u--)d[l++]=t[s++];return d}t.exports=n},d000:function(t,e,a){var n=a("85e3"),r=a("1257"),s=a("2b3e"),i=1;function o(t,e,a,o){var l=e&i,c=r(t);function u(){var e=-1,r=arguments.length,i=-1,d=o.length,p=Array(d+r),f=this&&this!==s&&this instanceof u?c:t;while(++i<d)p[i]=o[i];while(r--)p[i++]=arguments[++e];return n(f,l?a:this,p)}return u}t.exports=o},d018:function(t,e,a){var n=a("7948"),r=a("4359"),s=a("6747"),i=a("ffd6"),o=a("18d8"),l=a("f4d6"),c=a("76dd");function u(t){return s(t)?n(t,l):i(t)?[t]:r(o(c(t)))}t.exports=u},da53:function(t,e){var a=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function n(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(a,"{\n/* [wrapped with "+e+"] */\n")}t.exports=n},dc46:function(t,e,a){var n=a("e93d"),r=8;function s(t,e,a){e=a?void 0:e;var i=n(t,r,void 0,void 0,void 0,void 0,void 0,e);return i.placeholder=s.placeholder,i}s.placeholder={},t.exports=s},e6c3:function(t,e,a){var n=a("3789"),r=a("f7d3"),s=a("4fcb"),i=1,o=2,l=4,c=8,u=32,d=64;function p(t,e,a,p,f,h,v,m,b,g){var y=e&c,_=y?v:void 0,x=y?void 0:v,w=y?h:void 0,C=y?void 0:h;e|=y?u:d,e&=~(y?d:u),e&l||(e&=~(i|o));var k=[t,e,f,w,_,C,x,m,b,g],P=a.apply(void 0,k);return n(t)&&r(P,k),P.placeholder=p,s(P,t,e)}t.exports=p},e7a6:function(t,e,a){var n=a("3414"),r=n();t.exports=r},e8a9:function(t,e){var a="__lodash_placeholder__";function n(t,e){var n=-1,r=t.length,s=0,i=[];while(++n<r){var o=t[n];o!==e&&o!==a||(t[n]=a,i[s++]=n)}return i}t.exports=n},e93d:function(t,e,a){var n=a("b343"),r=a("89ea"),s=a("470f"),i=a("6b5c"),o=a("d000"),l=a("285e"),c=a("ab74"),u=a("f7d3"),d=a("4fcb"),p=a("4b17"),f="Expected a function",h=1,v=2,m=8,b=16,g=32,y=64,_=Math.max;function x(t,e,a,x,w,C,k,P){var O=e&v;if(!O&&"function"!=typeof t)throw new TypeError(f);var A=x?x.length:0;if(A||(e&=~(g|y),x=w=void 0),k=void 0===k?k:_(p(k),0),P=void 0===P?P:p(P),A-=w?w.length:0,e&y){var I=x,D=w;x=w=void 0}var j=O?void 0:l(t),L=[t,e,a,x,w,I,D,C,k,P];if(j&&c(L,j),t=L[0],e=L[1],a=L[2],x=L[3],w=L[4],P=L[9]=void 0===L[9]?O?0:t.length:_(L[9]-A,0),!P&&e&(m|b)&&(e&=~(m|b)),e&&e!=h)E=e==m||e==b?s(t,e,P):e!=g&&e!=(h|g)||w.length?i.apply(void 0,L):o(t,e,a,x);else var E=r(t,e,a);var S=j?n:u;return d(S(E,L),t,e)}t.exports=x},e9a7:function(t,e,a){var n=a("7530"),r=a("46b4");function s(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}s.prototype=n(r.prototype),s.prototype.constructor=s,t.exports=s},f7d3:function(t,e,a){var n=a("b343"),r=a("f3c1"),s=r(n);t.exports=s},fe50:function(t,e,a){var n=a("8057"),r=a("8db3"),s=1,i=2,o=8,l=16,c=32,u=64,d=128,p=256,f=512,h=[["ary",d],["bind",s],["bindKey",i],["curry",o],["curryRight",l],["flip",f],["partial",c],["partialRight",u],["rearg",p]];function v(t,e){return n(h,(function(a){var n="_."+a[0];e&a[1]&&!r(t,n)&&t.push(n)})),t.sort()}t.exports=v}}]);